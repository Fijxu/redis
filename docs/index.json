{"repository_name":"redis","body":"# redis\n\nA pure-Crystal implementation of the Redis protocol\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     redis:\n       github: jgaskins/redis\n   ```\n\n2. Run `shards`\n\n## Usage\n\n```crystal\nrequire \"redis\"\n\nredis = Redis::Client.new # Defaults to `localhost` port 6379\n\nredis.set \"foo\", \"bar\"\nredis.get \"foo\" # => \"bar\"\n\nredis.incr \"counter\" # => 1\nredis.incr \"counter\" # => 2\nredis.decr \"counter\" # => 1\n\nredis.del \"foo\", \"counter\" # => 2\n```\n\n### Pipelined queries\n\nTo mitigate latency with multiple queries whose inputs and outputs are completely independent of each other, you can \"pipeline\" your queries by sending them all at once before reading them. To do this, you can use the `pipeline` method:\n\n```crystal\nredis.pipeline do |pipe|\n  pipe.incr \"foo\"\n  pipe.set \"bar\", \"baz\"\n  pipe.lpush \"my-list\", \"my value\"\nend\n```\n\nThe return value of `pipeline` will be an array containing the values of each of those calls in the order they were sent. So in this case, it might be `[1, nil, 2]` to match the return values of `incr`, `set`, and `lpush`, respectively.\n\n### Transactions\n\nThe Redis [`MULTI` command](https://redis.io/commands/multi) begins a transaction, so you can use the `multi` method to execute a transaction against the server:\n\n```crystal\nredis.multi do |txn|\n  txn.set \"foo\", \"bar\"\n  txn.incr \"baz\"\n  txn.lpush \"my-list\", \"my value\"\nend\n```\n\nThe transaction is automatically committed with [`EXEC`](https://redis.io/commands/exec) at the end of the block. If an exception occurs within the block, the transaction will be rolled back with [`DISCARD`](https://redis.io/commands/discard) before exiting the block.\n\nYou may also call `txn.discard`, which will effectively disable the transaction (all further methods called on the transaction do nothing), but will not exit the block. You will need to exit the block explicitly with `break` if there are operations within the block that cannot be rolled back, such as sending an email or sending a request to a third-party API.\n\nThe reason for this is that the only way to exit a containing block from an inner method in Crystal is to raise an exception, and this library chooses not to use exceptions for flow control.\n\n### Beyond `localhost`\n\nTo use a Redis server that isn't at `localhost:6379`, pass a `URI` to the client. For example, if you store it in your shell environment:\n\n```crystal\nredis = Redis::Client.new(URI.parse(ENV[\"REDIS_URL\"]))\n\n# ... or ...\n\nredis = Redis::Client.from_env(\"REDIS_URL\")\n```\n\nTo connect via SSL, make sure you use the `rediss://` URL scheme. If your Redis server requires a password or uses a different database slot than `0`, make sure you include them in the URL:\n\n```crystal\nredis = Redis::Client.new(URI.parse(\"rediss://:my_password@example.com/3\"))\n```\n\n### Connection Pool\n\nThe `Redis::Client` maintains its own connection pool, so there is no need to run your own within your application. When you execute a command on the `Redis::Client`, it is automatically being executed against a connection. When you execute a pipeline or transaction with `multi`, all commands within that block will automatically be routed to the same connection.\n\n## Development\n\nMake sure you have a Redis or KeyDB server running locally on port 6379.\n\n## Contributing\n\n1. Fork it (<https://github.com/jgaskins/redis/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [Jamie Gaskins](https://github.com/jgaskins) - creator and maintainer\n","program":{"html_id":"redis/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"redis","program":true,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"redis/Redis","path":"Redis.html","kind":"module","full_name":"Redis","name":"Redis","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/client.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/client.cr#L5"},{"filename":"src/cluster.cr","line_number":7,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/cluster.cr#L7"},{"filename":"src/commands.cr","line_number":3,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L3"},{"filename":"src/connection.cr","line_number":10,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L10"},{"filename":"src/errors.cr","line_number":1,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/errors.cr#L1"},{"filename":"src/graph.cr","line_number":3,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L3"},{"filename":"src/json.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L5"},{"filename":"src/parser.cr","line_number":4,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/parser.cr#L4"},{"filename":"src/pipeline.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/pipeline.cr#L5"},{"filename":"src/redis.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/redis.cr#L6"},{"filename":"src/search.cr","line_number":3,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L3"},{"filename":"src/streaming.cr","line_number":3,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L3"},{"filename":"src/time_series.cr","line_number":4,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L4"},{"filename":"src/transaction.cr","line_number":4,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/transaction.cr#L4"},{"filename":"src/value.cr","line_number":1,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/value.cr#L1"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"ERROR_MAP","name":"ERROR_MAP","value":"Hash(String, Error.class).new(default_value: Error)","doc":null,"summary":null},{"id":"VERSION","name":"VERSION","value":"\"0.3.0\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"redis/Redis/BusyGroup","path":"Redis/BusyGroup.html","kind":"class","full_name":"Redis::BusyGroup","name":"BusyGroup","abstract":false,"superclass":{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":11,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/errors.cr#L11"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"redis/Redis/Client","path":"Redis/Client.html","kind":"class","full_name":"Redis::Client","name":"Client","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/client.cr","line_number":19,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/client.cr#L19"},{"filename":"src/graph.cr","line_number":136,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L136"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"The Redis client is the expected entrypoint for this shard. By default, it will connect to localhost:6379, but you can also supply a `URI` to connect to an arbitrary Redis server. SSL, password authentication, and DB selection are all supported.\n\n```\n# Connects to localhost:6379\nredis = Redis::Client.new\n\n# Connects to a server at \"redis.example.com\" on port 6000 over a TLS\n# connection, authenticates with the password \"password\", and uses DB 3\nredis = Redis::Client.new(URI.parse(\"rediss://:password@redis.example.com:6000/3\"))\n\n# Connects to a server at the URL in `ENV[\"REDIS_URL\"]`\nredis = Redis::Client.from_env(\"REDIS_URL\")\n```","summary":"<p>The Redis client is the expected entrypoint for this shard.</p>","class_methods":[{"html_id":"from_env(env_var)-class-method","name":"from_env","doc":null,"summary":null,"abstract":false,"args":[{"name":"env_var","doc":null,"default_value":"","external_name":"env_var","restriction":""}],"args_string":"(env_var)","args_html":"(env_var)","location":{"filename":"src/client.cr","line_number":22,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/client.cr#L22"},"def":{"name":"from_env","args":[{"name":"env_var","doc":null,"default_value":"","external_name":"env_var","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"new(URI.parse(ENV[env_var]))"}}],"constructors":[{"html_id":"new(uri:URI=URI.parse(\"redis:///\"))-class-method","name":"new","doc":"The client holds a pool of connections that expands and contracts as\nneeded.","summary":"<p>The client holds a pool of connections that expands and contracts as needed.</p>","abstract":false,"args":[{"name":"uri","doc":null,"default_value":"URI.parse(\"redis:///\")","external_name":"uri","restriction":"URI"}],"args_string":"(uri : URI = URI.parse(\"redis:///\"))","args_html":"(uri : URI = <span class=\"t\">URI</span>.parse(<span class=\"s\">&quot;redis:///&quot;</span>))","location":{"filename":"src/client.cr","line_number":28,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/client.cr#L28"},"def":{"name":"new","args":[{"name":"uri","doc":null,"default_value":"URI.parse(\"redis:///\")","external_name":"uri","restriction":"URI"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(uri)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"graph(key:String)-instance-method","name":"graph","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/graph.cr","line_number":137,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L137"},"def":{"name":"graph","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Graph::Client.new(self, key)"}}],"macros":[{"html_id":"method_missing(call)-macro","name":"method_missing","doc":"All Redis commands invoked on the client check out a connection from the\nconnection pool, invoke the command on that connection, and then check the\nconnection back into the pool.\n\n```\nredis = Redis::Client.new\n```","summary":"<p>All Redis commands invoked on the client check out a connection from the connection pool, invoke the command on that connection, and then check the connection back into the pool.</p>","abstract":false,"args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"args_string":"(call)","args_html":"(call)","location":{"filename":"src/client.cr","line_number":42,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/client.cr#L42"},"def":{"name":"method_missing","args":[{"name":"call","doc":null,"default_value":"","external_name":"call","restriction":""}],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"      @pool.checkout(&.\n{{ call }}\n)\n    \n"}}],"types":[]},{"html_id":"redis/Redis/Cluster","path":"Redis/Cluster.html","kind":"class","full_name":"Redis::Cluster","name":"Cluster","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/cluster.cr","line_number":31,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/cluster.cr#L31"},{"filename":"src/errors.cr","line_number":15,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/errors.cr#L15"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"Use in place of a `Redis::Client` when talking to Redis clusters. This class\nwill discover all nodes in a Redis cluster when given a URI for any of them,\nroute commands to appropriate shards based on the keys they operate on, and\nroute commands which do not change state to shard replicas to spread the\nload across the cluster.\n\nIt's important that, when using commands which operate on multiple keys (for\nexample: `MGET`, `DEL`, `RPOPLPUSH`, etc) that _all_ specified keys reside\non the same shard in the cluster. Usually, this means designing your key\nnames with curly braces around parts of them to ensure they hash to the same\n[key slot](https://redis.io/commands/cluster-keyslot). For example:\n\n```\nredis.del \"{comment}:1\", \"{comment}:2\"\nvalue = redis.rpoplpush \"{queue}:default\", \"{queue}:default:pending\"\n```\n\nIf you want to use a Redis module that provides custom commands, you can\nregister them as read-only with `Redis::Cluster.register_read_only_commands`\nand they will automatically be routed to replicas. See\n[`redis/cluster/json.cr`](https://github.com/jgaskins/redis/blob/3e874563dd524df9af6827f72edecca13a615802/src/cluster/json.cr#L5-L15)\nfor example usage.","summary":"<p>Use in place of a <code><a href=\"../Redis/Client.html\">Redis::Client</a></code> when talking to Redis clusters.</p>\n<p><span class=\"flag lime\">EXPERIMENTAL</span>  Cluster support is still under development. Some APIs may change while details are discovered and highly customized clusters (for example, servers handling individual hash slots or multiple hash-slot ranges) are not yet supported.</p>","class_methods":[{"html_id":"register_read_only_command(command:String)-class-method","name":"register_read_only_command","doc":"Tell the cluster driver that the specified Redis command can be routed to\nread-only replicas.\n\n```\nRedis::Cluster.register_read_only_command \"mymodule.get\"\n```","summary":"<p>Tell the cluster driver that the specified Redis command can be routed to read-only replicas.</p>","abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"String"}],"args_string":"(command : String)","args_html":"(command : String)","location":{"filename":"src/cluster.cr","line_number":65,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/cluster.cr#L65"},"def":{"name":"register_read_only_command","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"READ_ONLY_COMMANDS << command"}},{"html_id":"register_read_only_commands(commands:Enumerable(String))-class-method","name":"register_read_only_commands","doc":"Tell the cluster driver that all the specified Redis commands can be\nrouted to read-only replicas.\n\n```\nRedis::Cluster.register_read_only_commands %w[\n  mymodule.get\n  mymodule.mget\n]\n```","summary":"<p>Tell the cluster driver that all the specified Redis commands can be routed to read-only replicas.</p>","abstract":false,"args":[{"name":"commands","doc":null,"default_value":"","external_name":"commands","restriction":"Enumerable(String)"}],"args_string":"(commands : Enumerable(String))","args_html":"(commands : Enumerable(String))","location":{"filename":"src/cluster.cr","line_number":55,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/cluster.cr#L55"},"def":{"name":"register_read_only_commands","args":[{"name":"commands","doc":null,"default_value":"","external_name":"commands","restriction":"Enumerable(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"commands.each do |command|\n  register_read_only_command(command)\nend"}}],"constructors":[{"html_id":"new(uri:URI=URI.parse(ENV[\"REDIS_CLUSTER_URL\"]?||\"redis:///\"))-class-method","name":"new","doc":"Pass a `URI` (defaulting to the `REDIS_CLUSTER_URL` environment variable)\nto connect to the specified Redis cluster — the URI can point to _any_\nserver in the cluster and `Redis::Cluster` will discover the rest.","summary":"<p>Pass a <code>URI</code> (defaulting to the <code>REDIS_CLUSTER_URL</code> environment variable) to connect to the specified Redis cluster — the URI can point to <em>any</em> server in the cluster and <code><a href=\"../Redis/Cluster.html\">Redis::Cluster</a></code> will discover the rest.</p>","abstract":false,"args":[{"name":"uri","doc":null,"default_value":"URI.parse(ENV[\"REDIS_CLUSTER_URL\"]? || \"redis:///\")","external_name":"uri","restriction":"URI"}],"args_string":"(uri : URI = URI.parse(ENV[\"REDIS_CLUSTER_URL\"]? || \"redis:///\"))","args_html":"(uri : URI = <span class=\"t\">URI</span>.parse(<span class=\"t\">ENV</span>[<span class=\"s\">&quot;REDIS_CLUSTER_URL&quot;</span>]? || <span class=\"s\">&quot;redis:///&quot;</span>))","location":{"filename":"src/cluster.cr","line_number":72,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/cluster.cr#L72"},"def":{"name":"new","args":[{"name":"uri","doc":null,"default_value":"URI.parse(ENV[\"REDIS_CLUSTER_URL\"]? || \"redis:///\")","external_name":"uri","restriction":"URI"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(uri)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"close-instance-method","name":"close","doc":"Close all connections to this Redis cluster","summary":"<p>Close all connections to this Redis cluster</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/cluster.cr","line_number":338,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/cluster.cr#L338"},"def":{"name":"close","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"begin\n  @write_pools.each do |__arg7|\n    pool = __arg7[1]\n    pool.close\n  end\n  @read_pools.each do |__arg8|\n    pool = __arg8[1]\n    pool.close\n  end\nensure\n  @closed = true\nend"}},{"html_id":"flushdb-instance-method","name":"flushdb","doc":"Executes `flushdb` on each shard in the cluster.","summary":"<p>Executes <code><a href=\"../Redis/Cluster.html#flushdb-instance-method\">#flushdb</a></code> on each shard in the cluster.</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/cluster.cr","line_number":210,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/cluster.cr#L210"},"def":{"name":"flushdb","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"each_master(&.run({\"flushdb\"}))"}},{"html_id":"keys:Array(String)-instance-method","name":"keys","doc":"Get all key across all shards. This executes a `keys` command on every\nshard in the cluster. Probably not a good idea in production since this\nwill block every Redis shard or replica for the duration of the query, but\nwe're supporting it because you may have a reasonable use case for it at\n_some_ point and it's just not easy to do otherwise.","summary":"<p>Get all key across all shards.</p>","abstract":false,"args":[],"args_string":" : Array(String)","args_html":" : Array(String)","location":{"filename":"src/cluster.cr","line_number":180,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/cluster.cr#L180"},"def":{"name":"keys","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"keys = [] of String\neach_unique_replica() do |__arg2|\n  __arg2.keys.each do |key|\n    keys << (key.as(String))\n  end\nend\nkeys\n"}},{"html_id":"pipeline(key:String,&)-instance-method","name":"pipeline","doc":"Run a pipeline for the specified key\n\n```\ncluster.pipeline \"{widgets}\" do |pipe|\n  widget_ids.each do |id|\n    pipe.get \"{widgets}:#{id}\"\n  end\nend\n```\n\nWARNING: All keys that this pipeline operates on _MUST_ reside on the same\nshard. It's best to pass a pre-hashed key (one containing `{}`) to this\nmethod. See the example above.","summary":"<p>Run a pipeline for the specified key</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String, &)","args_html":"(key : String, &)","location":{"filename":"src/cluster.cr","line_number":200,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/cluster.cr#L200"},"def":{"name":"pipeline","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"(write_pool_for(key)).checkout(&.pipeline do |pipe|\n  yield pipe\nend)"}},{"html_id":"run(full_command)-instance-method","name":"run","doc":"Execute the given command and return the result from the server. Commands\nmust be an `Enumerable` and its `size` method must be re-entrant.\n\n```\nrun({\"set\", \"foo\", \"bar\"})\n```","summary":"<p>Execute the given command and return the result from the server.</p>","abstract":false,"args":[{"name":"full_command","doc":null,"default_value":"","external_name":"full_command","restriction":""}],"args_string":"(full_command)","args_html":"(full_command)","location":{"filename":"src/cluster.cr","line_number":268,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/cluster.cr#L268"},"def":{"name":"run","args":[{"name":"full_command","doc":null,"default_value":"","external_name":"full_command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if full_command.empty?\n  raise(ArgumentError.new(\"Redis commands must have at least one component\"))\nend\ncommand = full_command[0]\nif key = full_command[1]?\n  if command =~ (/[A-Z]/)\n    command = command.downcase\n  end\n  started_at = Time.monotonic\n  (if READ_ONLY_COMMANDS.includes?(command)\n    read_pool_for(key)\n  else\n    write_pool_for(key)\n  end).checkout do |connection|\n    connection.run(full_command)\n  end.tap do\n    LOG.debug(&.emit(command: full_command.join(' '), duration: (Time.monotonic - started_at).total_seconds))\n  end\nelse\n  raise(Error.new(\"No key was specified for this command, so the cluster driver cannot route it to an appropriate Redis shard. A cluster-specific method must be added to handle cases like these until a generalized solution is added.\"))\nend\n"}},{"html_id":"scan_each(*args,**kwargs,&):Nil-instance-method","name":"scan_each","doc":"Execute `Commands#scan_each` on each shard, yielding any matching keys.","summary":"<p>Execute <code>Commands#scan_each</code> on each shard, yielding any matching keys.</p>","abstract":false,"args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"args_string":"(*args, **kwargs, &) : Nil","args_html":"(*args, **kwargs, &) : Nil","location":{"filename":"src/cluster.cr","line_number":205,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/cluster.cr#L205"},"def":{"name":"scan_each","args":[{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":""}],"double_splat":{"name":"kwargs","doc":null,"default_value":"","external_name":"kwargs","restriction":""},"splat_index":0,"yields":1,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"each_unique_replica(&.scan_each(*args, **kwargs) do |key|\n  yield key\nend)"}},{"html_id":"slot_for(key:String)-instance-method","name":"slot_for","doc":"Return the Redis hash slot for the given key. This is useful for seeing\nwhich shard your command will be routed to.","summary":"<p>Return the Redis hash slot for the given key.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/cluster.cr","line_number":381,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/cluster.cr#L381"},"def":{"name":"slot_for","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if (hash_start = key.index('{')) && (hash_end = key.index('}', hash_start + 1))\n  key = key[(hash_start + 1)..(hash_end - 1)]\nend\n(CRC16.checksum(key)) % 16384\n"}}],"macros":[],"types":[{"html_id":"redis/Redis/Cluster/Ask","path":"Redis/Cluster/Ask.html","kind":"class","full_name":"Redis::Cluster::Ask","name":"Ask","abstract":false,"superclass":{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":23,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/errors.cr#L23"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Cluster","kind":"class","full_name":"Redis::Cluster","name":"Cluster"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"redis/Redis/Cluster/CrossSlot","path":"Redis/Cluster/CrossSlot.html","kind":"class","full_name":"Redis::Cluster::CrossSlot","name":"CrossSlot","abstract":false,"superclass":{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":27,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/errors.cr#L27"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Cluster","kind":"class","full_name":"Redis::Cluster","name":"Cluster"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"redis/Redis/Cluster/Error","path":"Redis/Cluster/Error.html","kind":"class","full_name":"Redis::Cluster::Error","name":"Error","abstract":false,"superclass":{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":16,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/errors.cr#L16"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"redis/Redis/Cluster/Ask","kind":"class","full_name":"Redis::Cluster::Ask","name":"Ask"},{"html_id":"redis/Redis/Cluster/CrossSlot","kind":"class","full_name":"Redis::Cluster::CrossSlot","name":"CrossSlot"},{"html_id":"redis/Redis/Cluster/Moved","kind":"class","full_name":"Redis::Cluster::Moved","name":"Moved"}],"including_types":[],"namespace":{"html_id":"redis/Redis/Cluster","kind":"class","full_name":"Redis::Cluster","name":"Cluster"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"redis/Redis/Cluster/Moved","path":"Redis/Cluster/Moved.html","kind":"class","full_name":"Redis::Cluster::Moved","name":"Moved","abstract":false,"superclass":{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":19,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/errors.cr#L19"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Cluster","kind":"class","full_name":"Redis::Cluster","name":"Cluster"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"redis/Redis/Commands","path":"Redis/Commands.html","kind":"module","full_name":"Redis::Commands","name":"Commands","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/commands.cr","line_number":9,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L9"},{"filename":"src/json.cr","line_number":258,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L258"},{"filename":"src/search.cr","line_number":194,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L194"},{"filename":"src/time_series.cr","line_number":204,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L204"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[{"html_id":"redis/Redis/Cluster","kind":"class","full_name":"Redis::Cluster","name":"Cluster"},{"html_id":"redis/Redis/Connection","kind":"class","full_name":"Redis::Connection","name":"Connection"},{"html_id":"redis/Redis/Pipeline","kind":"class","full_name":"Redis::Pipeline","name":"Pipeline"},{"html_id":"redis/Redis/Transaction","kind":"class","full_name":"Redis::Transaction","name":"Transaction"}],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"All Redis commands are defined in this module. Any paradigm that needs to\nuse these commands simply overrides `run`, which takes a single `command`\nobject, which must be an `Enumerable`.\n\nTODO: Add more Redis commands from https://redis.io/commands","summary":"<p>All Redis commands are defined in this module.</p>","class_methods":[],"constructors":[],"instance_methods":[{"html_id":"blpop(*keys:String,timeout:Time::Span)-instance-method","name":"blpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method waits the specified amount\nof time for an element to be added to it by another connection. If the\nelement *is* added by another connection within that amount of time, this\nmethod will return it immediately. If it *is not*, then this method returns\n`nil`.\n\n```\nredis.rpush \"foo\", \"first\"\nspawn do\n  sleep 100.milliseconds\n  redis.rpush \"foo\", \"second\"\nend\nredis.blpop \"foo\", 1.second # => \"first\"\nredis.blpop \"foo\", 1.second # => \"second\" (after 100 milliseconds)\nredis.blpop \"foo\", 1.second # => nil (after 1 second)\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"Time::Span"}],"args_string":"(*keys : String, timeout : Time::Span)","args_html":"(*keys : String, timeout : Time::Span)","location":{"filename":"src/commands.cr","line_number":235,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L235"},"def":{"name":"blpop","args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"Time::Span"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"blpop(*keys, timeout: timeout.total_seconds.to_i.to_s)"}},{"html_id":"blpop(*keys:String,timeout:Int|Float)-instance-method","name":"blpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method waits the specified number\nof seconds for an element to be added to it by another connection. If the\nelement *is* added by another connection within that number of seconds,\nthis method will return it immediately. If it *is not*, then this method\nreturns `nil`.\n\n```\nredis.lpush \"foo\", \"first\"\nspawn do\n  sleep 100.milliseconds\n  redis.lpush \"foo\", \"second\"\nend\nredis.blpop \"foo\", 1 # => \"first\"\nredis.blpop \"foo\", 1 # => \"second\" (after 100 milliseconds)\nredis.blpop \"foo\", 1 # => nil (after 1 second)\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"Int | Float"}],"args_string":"(*keys : String, timeout : Int | Float)","args_html":"(*keys : String, timeout : Int | Float)","location":{"filename":"src/commands.cr","line_number":256,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L256"},"def":{"name":"blpop","args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"Int | Float"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if timeout == timeout.to_i\n  timeout = timeout.to_i\nend\nblpop(*keys, timeout: timeout.to_s)\n"}},{"html_id":"blpop(*keys:String,timeout:String)-instance-method","name":"blpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method waits the specified number\nof seconds for an element to be added to it by another connection. If the\nelement *is* added by another connection within that number of seconds,\nthis method will return it immediately. If it *is not*, then this method\nreturns `nil`.\n\n```\nredis.lpush \"foo\", \"first\"\nspawn do\n  sleep 100.milliseconds\n  redis.lpush \"foo\", \"second\"\nend\nredis.blpop \"foo\", \"1\" # => \"first\"\nredis.blpop \"foo\", \"1\" # => \"second\" (after 100 milliseconds)\nredis.blpop \"foo\", \"1\" # => nil (after 1 second)\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"String"}],"args_string":"(*keys : String, timeout : String)","args_html":"(*keys : String, timeout : String)","location":{"filename":"src/commands.cr","line_number":278,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L278"},"def":{"name":"blpop","args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run(({\"blpop\"} + keys) + {timeout})"}},{"html_id":"brpop(keys:Enumerable(String),timeout:Int)-instance-method","name":"brpop","doc":null,"summary":null,"abstract":false,"args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"Enumerable(String)"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"Int"}],"args_string":"(keys : Enumerable(String), timeout : Int)","args_html":"(keys : Enumerable(String), timeout : Int)","location":{"filename":"src/commands.cr","line_number":719,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L719"},"def":{"name":"brpop","args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"Enumerable(String)"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"Int"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 2 + keys.size)\ncommand << \"brpop\"\nkeys.each do |key|\n  command << key\nend\ncommand << timeout.to_s\nrun(command)\n"}},{"html_id":"brpop(*keys:String,timeout:Time::Span)-instance-method","name":"brpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method waits the specified amount\nof time for an element to be added to it by another connection. If the\nelement *is* added by another connection within that amount of time, this\nmethod will return it immediately. If it *is not*, then this method returns\n`nil`.\n\n```\nredis.lpush \"foo\", \"first\"\nspawn do\n  sleep 100.milliseconds\n  redis.lpush \"foo\", \"second\"\nend\nredis.brpop \"foo\", 1.second # => \"first\"\nredis.brpop \"foo\", 1.second # => \"second\" (after 100 milliseconds)\nredis.brpop \"foo\", 1.second # => nil (after 1 second)\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"Time::Span"}],"args_string":"(*keys : String, timeout : Time::Span)","args_html":"(*keys : String, timeout : Time::Span)","location":{"filename":"src/commands.cr","line_number":299,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L299"},"def":{"name":"brpop","args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"Time::Span"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"brpop(*keys, timeout: timeout.total_seconds)"}},{"html_id":"brpop(*keys:String,timeout:Number)-instance-method","name":"brpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method waits the specified number\nof seconds for an element to be added to it by another connection. If the\nelement *is* added by another connection within that number of seconds,\nthis method will return it immediately. If it *is not*, then this method\nreturns `nil`.\n\n```\nredis.lpush \"foo\", \"first\"\nspawn do\n  sleep 100.milliseconds\n  redis.lpush \"foo\", \"second\"\nend\nredis.brpop \"foo\", 1 # => \"first\"\nredis.brpop \"foo\", 1 # => \"second\" (after 100 milliseconds)\nredis.brpop \"foo\", 1 # => nil (after 1 second)\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"Number"}],"args_string":"(*keys : String, timeout : Number)","args_html":"(*keys : String, timeout : Number)","location":{"filename":"src/commands.cr","line_number":320,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L320"},"def":{"name":"brpop","args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"Number"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if timeout == timeout.to_i\n  timeout = timeout.to_i\nend\nbrpop(*keys, timeout: timeout.to_s)\n"}},{"html_id":"brpop(*keys:String,timeout:String)-instance-method","name":"brpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method waits the specified number\nof seconds for an element to be added to it by another connection. If the\nelement *is* added by another connection within that number of seconds,\nthis method will return it immediately. If it *is not*, then this method\nreturns `nil`.\n\n```\nredis.lpush \"foo\", \"first\"\nspawn do\n  sleep 100.milliseconds\n  redis.lpush \"foo\", \"second\"\nend\nredis.brpop \"foo\", \"1\" # => \"first\"\nredis.brpop \"foo\", \"1\" # => \"second\" (after 100 milliseconds)\nredis.brpop \"foo\", \"1\" # => nil (after 1 second)\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"String"}],"args_string":"(*keys : String, timeout : String)","args_html":"(*keys : String, timeout : String)","location":{"filename":"src/commands.cr","line_number":342,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L342"},"def":{"name":"brpop","args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"},{"name":"timeout","doc":null,"default_value":"","external_name":"timeout","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run(({\"brpop\"} + keys) + {timeout})"}},{"html_id":"decr(key:String)-instance-method","name":"decr","doc":"Atomically decrement and return the integer value for the specified key,\ncreating it if it does not exist\n\n```\nredis.del \"counter\"\nredis.decr \"counter\" # => -1\n```","summary":"<p>Atomically decrement and return the integer value for the specified key, creating it if it does not exist</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":93,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L93"},"def":{"name":"decr","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"decr\", key})"}},{"html_id":"decrby(key:String,amount:Int|String)-instance-method","name":"decrby","doc":"Atomically decrement and return the integer value for the specified key by\nthe specified amount, creating it if it does not exist\n\n```\nredis.del \"counter\"\nredis.decrby \"counter\", 2 # => -2\n```","summary":"<p>Atomically decrement and return the integer value for the specified key by the specified amount, creating it if it does not exist</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"amount","doc":null,"default_value":"","external_name":"amount","restriction":"Int | String"}],"args_string":"(key : String, amount : Int | String)","args_html":"(key : String, amount : Int | String)","location":{"filename":"src/commands.cr","line_number":115,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L115"},"def":{"name":"decrby","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"amount","doc":null,"default_value":"","external_name":"amount","restriction":"Int | String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"decrby\", key, amount.to_s})"}},{"html_id":"del(*keys:String)-instance-method","name":"del","doc":"Delete all specified keys and return the number of keys deleted.\n\n```\nredis.set \"foo\", \"12\"\nredis.del \"foo\", \"bar\" # => 1\nredis.del \"foo\", \"bar\" # => 0\n```","summary":"<p>Delete all specified keys and return the number of keys deleted.</p>","abstract":false,"args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"}],"args_string":"(*keys : String)","args_html":"(*keys : String)","location":{"filename":"src/commands.cr","line_number":126,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L126"},"def":{"name":"del","args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"del\"} + keys)"}},{"html_id":"exists(*keys:String)-instance-method","name":"exists","doc":"Return the number of specified keys that exist\n\n```\nredis.exists(\"foo\", \"bar\") # => 0\nredis.set \"foo\", \"exists now\"\nredis.exists(\"foo\", \"bar\") # => 1\nredis.set \"bar\", \"also exists now\"\nredis.exists(\"foo\", \"bar\") # => 2\n```","summary":"<p>Return the number of specified keys that exist</p>","abstract":false,"args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"}],"args_string":"(*keys : String)","args_html":"(*keys : String)","location":{"filename":"src/commands.cr","line_number":143,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L143"},"def":{"name":"exists","args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"exists\"} + keys)"}},{"html_id":"expire(key,ttl:Int)-instance-method","name":"expire","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"ttl","doc":null,"default_value":"","external_name":"ttl","restriction":"Int"}],"args_string":"(key, ttl : Int)","args_html":"(key, ttl : Int)","location":{"filename":"src/commands.cr","line_number":647,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L647"},"def":{"name":"expire","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"ttl","doc":null,"default_value":"","external_name":"ttl","restriction":"Int"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"expire\", key, ttl.to_s})"}},{"html_id":"flushdb-instance-method","name":"flushdb","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/commands.cr","line_number":749,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L749"},"def":{"name":"flushdb","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"flushdb\"})"}},{"html_id":"ft-instance-method","name":"ft","doc":null,"summary":"<p><span class=\"flag lime\">EXPERIMENTAL</span>  RediSearch support is still under development. Some APIs may change while details are discovered.</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/search.cr","line_number":196,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L196"},"def":{"name":"ft","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"FullText.new(self)"}},{"html_id":"get(key:String)-instance-method","name":"get","doc":"Get the value for the specified key\n\n```\nredis.set \"foo\", \"bar\"\nredis.get(\"foo\") # => \"bar\"\n```","summary":"<p>Get the value for the specified key</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":71,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L71"},"def":{"name":"get","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"get\", key})"}},{"html_id":"hget(key:String,field:String)-instance-method","name":"hget","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"}],"args_string":"(key : String, field : String)","args_html":"(key : String, field : String)","location":{"filename":"src/commands.cr","line_number":598,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L598"},"def":{"name":"hget","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"hget\", key, field})"}},{"html_id":"hgetall(key:String)-instance-method","name":"hgetall","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":602,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L602"},"def":{"name":"hgetall","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"hgetall\", key})"}},{"html_id":"hmget(key:String,*fields:String)-instance-method","name":"hmget","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"String"}],"args_string":"(key : String, *fields : String)","args_html":"(key : String, *fields : String)","location":{"filename":"src/commands.cr","line_number":606,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L606"},"def":{"name":"hmget","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"fields","doc":null,"default_value":"","external_name":"fields","restriction":"String"}],"double_splat":null,"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"hmget\", key} + fields)"}},{"html_id":"hmset(key:String,data:Hash(String,String))-instance-method","name":"hmset","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Hash(String, String)"}],"args_string":"(key : String, data : Hash(String, String))","args_html":"(key : String, data : Hash(String, String))","location":{"filename":"src/commands.cr","line_number":614,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L614"},"def":{"name":"hmset","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Hash(String, String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 2 + data.size)\n(command << \"hmset\") << key\ndata.each do |key, value|\n  (command << key) << value\nend\nrun(command)\n"}},{"html_id":"hset(key:String,field:String,value:String)-instance-method","name":"hset","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(key : String, field : String, value : String)","args_html":"(key : String, field : String, value : String)","location":{"filename":"src/commands.cr","line_number":610,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L610"},"def":{"name":"hset","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"field","doc":null,"default_value":"","external_name":"field","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"hset\", key, field, value})"}},{"html_id":"incr(key:String)-instance-method","name":"incr","doc":"Atomically increment and return the integer value for the specified key,\ncreating it if it does not exist\n\n```\nredis.del \"counter\"\nredis.incr \"counter\" # => 1\n```","summary":"<p>Atomically increment and return the integer value for the specified key, creating it if it does not exist</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":82,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L82"},"def":{"name":"incr","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"incr\", key})"}},{"html_id":"incrby(key:String,amount:Int|String)-instance-method","name":"incrby","doc":"Atomically increment and return the integer value for the specified key by\nthe specified amount, creating it if it does not exist\n\n```\nredis.del \"counter\"\nredis.incrby \"counter\", 2 # => 2\n```","summary":"<p>Atomically increment and return the integer value for the specified key by the specified amount, creating it if it does not exist</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"amount","doc":null,"default_value":"","external_name":"amount","restriction":"Int | String"}],"args_string":"(key : String, amount : Int | String)","args_html":"(key : String, amount : Int | String)","location":{"filename":"src/commands.cr","line_number":104,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L104"},"def":{"name":"incrby","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"amount","doc":null,"default_value":"","external_name":"amount","restriction":"Int | String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"incrby\", key, amount.to_s})"}},{"html_id":"info-instance-method","name":"info","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/commands.cr","line_number":753,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L753"},"def":{"name":"info","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"((run({\"info\"})).as(String)).lines.reject do |line|\n  line =~ (/^(#|$)/)\nend.map(&.split(':', 2)).to_h"}},{"html_id":"json-instance-method","name":"json","doc":"Return a `Redis::JSON` instance that wraps the current `Redis::Client` or\n`Redis::Cluster`.","summary":"<p>Return a <code><a href=\"../Redis/JSON.html\">Redis::JSON</a></code> instance that wraps the current <code><a href=\"../Redis/Client.html\">Redis::Client</a></code> or <code><a href=\"../Redis/Cluster.html\">Redis::Cluster</a></code>.</p>\n<p><span class=\"flag lime\">EXPERIMENTAL</span>  Support for the RedisJSON module is still under development and subject to change.</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/json.cr","line_number":262,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L262"},"def":{"name":"json","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"JSON.new(self)"}},{"html_id":"keys(pattern=\"*\")-instance-method","name":"keys","doc":"Get the keys whose names follow the specified glob pattern. If a pattern\nis not specified, it will return all keys by default. Be careful when\nusing this command on Redis servers with a lot of traffic and millions\nof keys.\n\n```\nredis.keys       # => [\"foo\", \"bar\", \"baz\"]\nredis.keys(\"f*\") # => [\"foo\"]\nredis.keys(\"b*\") # => [\"bar\", \"baz\"]\n```","summary":"<p>Get the keys whose names follow the specified glob pattern.</p>","abstract":false,"args":[{"name":"pattern","doc":null,"default_value":"\"*\"","external_name":"pattern","restriction":""}],"args_string":"(pattern = \"*\")","args_html":"(pattern = <span class=\"s\">&quot;*&quot;</span>)","location":{"filename":"src/commands.cr","line_number":28,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L28"},"def":{"name":"keys","args":[{"name":"pattern","doc":null,"default_value":"\"*\"","external_name":"pattern","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"keys\", pattern})"}},{"html_id":"llen(key:String)-instance-method","name":"llen","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":625,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L625"},"def":{"name":"llen","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"llen\", key})"}},{"html_id":"lpop(key:String,count:String?=nil)-instance-method","name":"lpop","doc":"Remove an item from the beginning of a list, returning the item or `nil`\nif the list was empty.\n\n```\nredis.del \"my-list\" # Delete so we know it's empty\nredis.lpush \"my-list\", \"foo\"\nredis.lpop \"my-list\" # => \"foo\"\nredis.lpop \"my-list\" # => nil\n```","summary":"<p>Remove an item from the beginning of a list, returning the item or <code>nil</code> if the list was empty.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"String | ::Nil"}],"args_string":"(key : String, count : String? = nil)","args_html":"(key : String, count : String? = <span class=\"n\">nil</span>)","location":{"filename":"src/commands.cr","line_number":168,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L168"},"def":{"name":"lpop","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = {\"lpop\", key}\nif count\n  command = command + {count}\nend\nrun(command)\n"}},{"html_id":"lpush(key:String,values:Enumerable(String))-instance-method","name":"lpush","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Enumerable(String)"}],"args_string":"(key : String, values : Enumerable(String))","args_html":"(key : String, values : Enumerable(String))","location":{"filename":"src/commands.cr","line_number":711,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L711"},"def":{"name":"lpush","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Enumerable(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 2 + values.size)\n(command << \"lpush\") << key\nvalues.each do |value|\n  command << value\nend\nrun(command)\n"}},{"html_id":"lpush(key,*values:String)-instance-method","name":"lpush","doc":"Insert an item at the beginning of a list, returning the number of items\nin the list after the insert.\n\n```\nredis.del \"my-list\"                 # Delete so we know it's empty\nredis.lpush \"my-list\", \"foo\", \"bar\" # => 2\nredis.lpush \"my-list\", \"foo\", \"bar\" # => 4\n```","summary":"<p>Insert an item at the beginning of a list, returning the number of items in the list after the insert.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"String"}],"args_string":"(key, *values : String)","args_html":"(key, *values : String)","location":{"filename":"src/commands.cr","line_number":155,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L155"},"def":{"name":"lpush","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"String"}],"double_splat":null,"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"lpush\", key} + values)"}},{"html_id":"lrange(key:String,starting:String,ending:String)-instance-method","name":"lrange","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"starting","doc":null,"default_value":"","external_name":"starting","restriction":"String"},{"name":"ending","doc":null,"default_value":"","external_name":"ending","restriction":"String"}],"args_string":"(key : String, starting : String, ending : String)","args_html":"(key : String, starting : String, ending : String)","location":{"filename":"src/commands.cr","line_number":629,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L629"},"def":{"name":"lrange","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"starting","doc":null,"default_value":"","external_name":"starting","restriction":"String"},{"name":"ending","doc":null,"default_value":"","external_name":"ending","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"lrange\", key, starting, ending})"}},{"html_id":"lrem(key:String,count:Int,value:String)-instance-method","name":"lrem","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"Int"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(key : String, count : Int, value : String)","args_html":"(key : String, count : Int, value : String)","location":{"filename":"src/commands.cr","line_number":707,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L707"},"def":{"name":"lrem","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"Int"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"lrem\", key, count.to_s, value})"}},{"html_id":"mget(keys:Enumerable(String))-instance-method","name":"mget","doc":null,"summary":null,"abstract":false,"args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"Enumerable(String)"}],"args_string":"(keys : Enumerable(String))","args_html":"(keys : Enumerable(String))","location":{"filename":"src/commands.cr","line_number":731,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L731"},"def":{"name":"mget","args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"Enumerable(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 1 + keys.size)\ncommand << \"mget\"\nkeys.each do |key|\n  command << key\nend\nrun(command)\n"}},{"html_id":"mset(data:Hash(String,String))-instance-method","name":"mset","doc":null,"summary":null,"abstract":false,"args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Hash(String, String)"}],"args_string":"(data : Hash(String, String))","args_html":"(data : Hash(String, String))","location":{"filename":"src/commands.cr","line_number":739,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L739"},"def":{"name":"mset","args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Hash(String, String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 1 + data.size)\ncommand << \"mset\"\ndata.each do |key, value|\n  (command << key) << value\nend\nrun(command)\n"}},{"html_id":"publish(channel:String,message:String)-instance-method","name":"publish","doc":null,"summary":null,"abstract":false,"args":[{"name":"channel","doc":null,"default_value":"","external_name":"channel","restriction":"String"},{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"}],"args_string":"(channel : String, message : String)","args_html":"(channel : String, message : String)","location":{"filename":"src/commands.cr","line_number":384,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L384"},"def":{"name":"publish","args":[{"name":"channel","doc":null,"default_value":"","external_name":"channel","restriction":"String"},{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"publish\", channel, message})"}},{"html_id":"rpop(key:String)-instance-method","name":"rpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method returns `nil`\n\n```\nredis.lpush \"foo\", \"hello\"\nredis.rpop \"foo\" # => \"hello\"\nredis.rpop \"foo\" # => nil\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":202,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L202"},"def":{"name":"rpop","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"rpop\", key})"}},{"html_id":"rpoplpush(source:String,destination:String)-instance-method","name":"rpoplpush","doc":"Atomically remove an item from the end of a list and insert it at the\nbeginning of another. Returns that list item. If the first list is empty,\nnothing happens and this method returns `nil`.\n\n```\nredis.del \"foo\"\nredis.lpush \"foo\", \"hello\", \"world\"\nredis.rpoplpush \"foo\", \"bar\" # => \"hello\"\nredis.rpoplpush \"foo\", \"bar\" # => \"world\"\nredis.rpoplpush \"foo\", \"bar\" # => nil\n```","summary":"<p>Atomically remove an item from the end of a list and insert it at the beginning of another.</p>","abstract":false,"args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"destination","doc":null,"default_value":"","external_name":"destination","restriction":"String"}],"args_string":"(source : String, destination : String)","args_html":"(source : String, destination : String)","location":{"filename":"src/commands.cr","line_number":190,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L190"},"def":{"name":"rpoplpush","args":[{"name":"source","doc":null,"default_value":"","external_name":"source","restriction":"String"},{"name":"destination","doc":null,"default_value":"","external_name":"destination","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"rpoplpush\", source, destination})"}},{"html_id":"rpush(key,*values:String)-instance-method","name":"rpush","doc":"Insert an item at the end of a list, returning the number of items\nin the list after the insert.\n\n```\nredis.del \"my-list\"                 # Delete so we know it's empty\nredis.rpush \"my-list\", \"foo\", \"bar\" # => 2\nredis.rpush \"my-list\", \"foo\", \"bar\" # => 4\n```","summary":"<p>Insert an item at the end of a list, returning the number of items in the list after the insert.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"String"}],"args_string":"(key, *values : String)","args_html":"(key, *values : String)","location":{"filename":"src/commands.cr","line_number":214,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L214"},"def":{"name":"rpush","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"String"}],"double_splat":null,"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"rpush\", key} + values)"}},{"html_id":"run(command)-instance-method","name":"run","doc":"Execute the given command and return the result from the server. Commands\nmust be an `Enumerable` and its `size` method must be re-entrant.\n\n```\nrun({\"set\", \"foo\", \"bar\"})\n```","summary":"<p>Execute the given command and return the result from the server.</p>","abstract":true,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command)","args_html":"(command)","location":{"filename":"src/commands.cr","line_number":16,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L16"},"def":{"name":"run","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":""}},{"html_id":"sadd(key:String,*values:String)-instance-method","name":"sadd","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"String"}],"args_string":"(key : String, *values : String)","args_html":"(key : String, *values : String)","location":{"filename":"src/commands.cr","line_number":346,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L346"},"def":{"name":"sadd","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"String"}],"double_splat":null,"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"sadd\", key} + values)"}},{"html_id":"scan(cursor:String=\"0\",match:String?=nil,count:String|Int|Nil=nil,type:String?=nil)-instance-method","name":"scan","doc":null,"summary":null,"abstract":false,"args":[{"name":"cursor","doc":null,"default_value":"\"0\"","external_name":"cursor","restriction":"String"},{"name":"match","doc":null,"default_value":"nil","external_name":"match","restriction":"String | ::Nil"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"String | ::Nil"}],"args_string":"(cursor : String = \"0\", match : String? = nil, count : String | Int | Nil = nil, type : String? = nil)","args_html":"(cursor : String = <span class=\"s\">&quot;0&quot;</span>, match : String? = <span class=\"n\">nil</span>, count : String | Int | Nil = <span class=\"n\">nil</span>, type : String? = <span class=\"n\">nil</span>)","location":{"filename":"src/commands.cr","line_number":374,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L374"},"def":{"name":"scan","args":[{"name":"cursor","doc":null,"default_value":"\"0\"","external_name":"cursor","restriction":"String"},{"name":"match","doc":null,"default_value":"nil","external_name":"match","restriction":"String | ::Nil"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = {\"scan\", cursor}\nif match\n  command = command + {\"match\", match}\nend\nif count\n  command = command + {\"count\", count.to_s}\nend\nif type\n  command = command + {\"type\", type}\nend\nrun(command)\n"}},{"html_id":"scard(key:String)-instance-method","name":"scard","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":370,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L370"},"def":{"name":"scard","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"scard\", key})"}},{"html_id":"sdiff(first:String,second:String)-instance-method","name":"sdiff","doc":null,"summary":null,"abstract":false,"args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":"String"},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":"String"}],"args_string":"(first : String, second : String)","args_html":"(first : String, second : String)","location":{"filename":"src/commands.cr","line_number":362,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L362"},"def":{"name":"sdiff","args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":"String"},{"name":"second","doc":null,"default_value":"","external_name":"second","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"sdiff\", first, second})"}},{"html_id":"set(key:String,value:String,ex:String|Int?=nil,px:String|Int|Nil=nil,nx=false,xx=false,keepttl=false)-instance-method","name":"set","doc":"Set a given key to a given value, optionally specifying time-to-live (TTL).\n\n- `ex`: TTL in seconds (mnemonic: \"ex\" = \"expiration\")\n- `px`: TTL in milliseconds\n- `nx`: Only set this key if it does not exist (mnemonic: \"nx\" = it does \"not exist\")\n- `xx`: only set this key if it does exist (mnemonic: \"xx\" = it \"exists exists\" — look, I don't make the rules)\n- `keepttl`: If there is a TTL already set on the key, retain that TTL instead of overwriting it\n\n```\nredis.set \"foo\", \"bar\", ex: 1\nredis.get(\"foo\") # => \"bar\"\nsleep 1.second\nredis.get(\"foo\") # => nil\n```","summary":"<p>Set a given key to a given value, optionally specifying time-to-live (TTL).</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"},{"name":"ex","doc":null,"default_value":"nil","external_name":"ex","restriction":"String | Int | ::Nil"},{"name":"px","doc":null,"default_value":"nil","external_name":"px","restriction":"String | Int | Nil"},{"name":"nx","doc":null,"default_value":"false","external_name":"nx","restriction":""},{"name":"xx","doc":null,"default_value":"false","external_name":"xx","restriction":""},{"name":"keepttl","doc":null,"default_value":"false","external_name":"keepttl","restriction":""}],"args_string":"(key : String, value : String, ex : String | Int? = nil, px : String | Int | Nil = nil, nx = false, xx = false, keepttl = false)","args_html":"(key : String, value : String, ex : String | Int? = <span class=\"n\">nil</span>, px : String | Int | Nil = <span class=\"n\">nil</span>, nx = <span class=\"n\">false</span>, xx = <span class=\"n\">false</span>, keepttl = <span class=\"n\">false</span>)","location":{"filename":"src/commands.cr","line_number":46,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L46"},"def":{"name":"set","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"},{"name":"ex","doc":null,"default_value":"nil","external_name":"ex","restriction":"String | Int | ::Nil"},{"name":"px","doc":null,"default_value":"nil","external_name":"px","restriction":"String | Int | Nil"},{"name":"nx","doc":null,"default_value":"false","external_name":"nx","restriction":""},{"name":"xx","doc":null,"default_value":"false","external_name":"xx","restriction":""},{"name":"keepttl","doc":null,"default_value":"false","external_name":"keepttl","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = {\"set\", key, value}\nif ex\n  command = command + {\"ex\", ex.to_s}\nend\nif px\n  command = command + {\"px\", px.to_s}\nend\nif nx\n  command = command + {\"nx\"}\nend\nif xx\n  command = command + {\"xx\"}\nend\nif keepttl\n  command = command + {\"keepttl\"}\nend\nrun(command)\n"}},{"html_id":"set(key,value,ex:Time,nx=false,xx=false,keepttl=false)-instance-method","name":"set","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"ex","doc":null,"default_value":"","external_name":"ex","restriction":"Time"},{"name":"nx","doc":null,"default_value":"false","external_name":"nx","restriction":""},{"name":"xx","doc":null,"default_value":"false","external_name":"xx","restriction":""},{"name":"keepttl","doc":null,"default_value":"false","external_name":"keepttl","restriction":""}],"args_string":"(key, value, ex : Time, nx = false, xx = false, keepttl = false)","args_html":"(key, value, ex : Time, nx = <span class=\"n\">false</span>, xx = <span class=\"n\">false</span>, keepttl = <span class=\"n\">false</span>)","location":{"filename":"src/commands.cr","line_number":57,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L57"},"def":{"name":"set","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"ex","doc":null,"default_value":"","external_name":"ex","restriction":"Time"},{"name":"nx","doc":null,"default_value":"false","external_name":"nx","restriction":""},{"name":"xx","doc":null,"default_value":"false","external_name":"xx","restriction":""},{"name":"keepttl","doc":null,"default_value":"false","external_name":"keepttl","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"set(key, value, ex: ex - Time.utc, nx: nx, xx: xx, keepttl: keepttl)"}},{"html_id":"set(key,value,ex:Time::Span,nx=false,xx=false,keepttl=false)-instance-method","name":"set","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"ex","doc":null,"default_value":"","external_name":"ex","restriction":"Time::Span"},{"name":"nx","doc":null,"default_value":"false","external_name":"nx","restriction":""},{"name":"xx","doc":null,"default_value":"false","external_name":"xx","restriction":""},{"name":"keepttl","doc":null,"default_value":"false","external_name":"keepttl","restriction":""}],"args_string":"(key, value, ex : Time::Span, nx = false, xx = false, keepttl = false)","args_html":"(key, value, ex : Time::Span, nx = <span class=\"n\">false</span>, xx = <span class=\"n\">false</span>, keepttl = <span class=\"n\">false</span>)","location":{"filename":"src/commands.cr","line_number":61,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L61"},"def":{"name":"set","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":""},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"ex","doc":null,"default_value":"","external_name":"ex","restriction":"Time::Span"},{"name":"nx","doc":null,"default_value":"false","external_name":"nx","restriction":""},{"name":"xx","doc":null,"default_value":"false","external_name":"xx","restriction":""},{"name":"keepttl","doc":null,"default_value":"false","external_name":"keepttl","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"set(key, value, px: ex.total_milliseconds.to_i64, nx: nx, xx: xx, keepttl: keepttl)"}},{"html_id":"sinter(first:String,*others:String)-instance-method","name":"sinter","doc":null,"summary":null,"abstract":false,"args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":"String"},{"name":"others","doc":null,"default_value":"","external_name":"others","restriction":"String"}],"args_string":"(first : String, *others : String)","args_html":"(first : String, *others : String)","location":{"filename":"src/commands.cr","line_number":366,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L366"},"def":{"name":"sinter","args":[{"name":"first","doc":null,"default_value":"","external_name":"first","restriction":"String"},{"name":"others","doc":null,"default_value":"","external_name":"others","restriction":"String"}],"double_splat":null,"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"sinter\", first} + others)"}},{"html_id":"sismember(key:String,value:String)-instance-method","name":"sismember","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(key : String, value : String)","args_html":"(key : String, value : String)","location":{"filename":"src/commands.cr","line_number":350,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L350"},"def":{"name":"sismember","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"sismember\", key, value})"}},{"html_id":"smembers(key:String)-instance-method","name":"smembers","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":354,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L354"},"def":{"name":"smembers","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"smembers\", key})"}},{"html_id":"srem(key:String,members:Enumerable(String))-instance-method","name":"srem","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"members","doc":null,"default_value":"","external_name":"members","restriction":"Enumerable(String)"}],"args_string":"(key : String, members : Enumerable(String))","args_html":"(key : String, members : Enumerable(String))","location":{"filename":"src/commands.cr","line_number":633,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L633"},"def":{"name":"srem","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"members","doc":null,"default_value":"","external_name":"members","restriction":"Enumerable(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 2 + members.size)\n(command << \"srem\") << key\nmembers.each do |member|\n  command << member\nend\nrun(command)\n"}},{"html_id":"srem(key:String,*values:String)-instance-method","name":"srem","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"String"}],"args_string":"(key : String, *values : String)","args_html":"(key : String, *values : String)","location":{"filename":"src/commands.cr","line_number":358,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L358"},"def":{"name":"srem","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"String"}],"double_splat":null,"splat_index":1,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"srem\", key} + values)"}},{"html_id":"ts-instance-method","name":"ts","doc":"Return a `Redis::TimeSeries` that wraps the current `Redis::Client` or\n`Redis::Cluster`.","summary":"<p>Return a <code><a href=\"../Redis/TimeSeries.html\">Redis::TimeSeries</a></code> that wraps the current <code><a href=\"../Redis/Client.html\">Redis::Client</a></code> or <code><a href=\"../Redis/Cluster.html\">Redis::Cluster</a></code>.</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":207,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L207"},"def":{"name":"ts","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"TimeSeries.new(self)"}},{"html_id":"type(key:String)-instance-method","name":"type","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":651,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L651"},"def":{"name":"type","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"type\", key})"}},{"html_id":"unlink(*keys:String)-instance-method","name":"unlink","doc":null,"summary":null,"abstract":false,"args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"}],"args_string":"(*keys : String)","args_html":"(*keys : String)","location":{"filename":"src/commands.cr","line_number":130,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L130"},"def":{"name":"unlink","args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"unlink\"} + keys)"}},{"html_id":"xack(key:String,group:String,id:String)-instance-method","name":"xack","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"}],"args_string":"(key : String, group : String, id : String)","args_html":"(key : String, group : String, id : String)","location":{"filename":"src/commands.cr","line_number":787,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L787"},"def":{"name":"xack","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"xack\", key, group, id})"}},{"html_id":"xack(key:String,group:String,ids:Enumerable(String))-instance-method","name":"xack","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"},{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Enumerable(String)"}],"args_string":"(key : String, group : String, ids : Enumerable(String))","args_html":"(key : String, group : String, ids : Enumerable(String))","location":{"filename":"src/commands.cr","line_number":791,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L791"},"def":{"name":"xack","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"},{"name":"ids","doc":null,"default_value":"","external_name":"ids","restriction":"Enumerable(String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: ids.size + 3)\n((command << \"xack\") << key) << group\nids.each do |id|\n  command << id\nend\nrun(command)\n"}},{"html_id":"xadd(key:String,id:String,maxlen,data:Hash(String,String))-instance-method","name":"xadd","doc":"Append an entry with the specified data to the stream with the given `key`\nand gives it the specified `id`. If the id is `\"*\"`, Redis will assign it\nan id of the form `\"#{Time.utc.to_unix_ms}-#{autoincrementing_index}\"`.\nIf `maxlen` is provided, Redis will trim the stream to the specified\nlength. If `maxlen` is of the form `~ 1000`, Redis will trim it to\n*approximately* that length, removing entries when it can do so\nefficiently. This method returns the `id` that Redis stores.\n\n```\nredis.xadd \"my-stream\", \"*\", {\"name\" => \"foo\", \"id\" => UUID.random.to_s}\n```","summary":"<p>Append an entry with the specified data to the stream with the given <code>key</code> and gives it the specified <code>id</code>.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"maxlen","doc":null,"default_value":"","external_name":"maxlen","restriction":""},{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Hash(String, String)"}],"args_string":"(key : String, id : String, maxlen, data : Hash(String, String))","args_html":"(key : String, id : String, maxlen, data : Hash(String, String))","location":{"filename":"src/commands.cr","line_number":445,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L445"},"def":{"name":"xadd","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"maxlen","doc":null,"default_value":"","external_name":"maxlen","restriction":""},{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Hash(String, String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(Value).new(initial_capacity: (data.size * 2) + 3)\n(command << \"xadd\") << key\nif maxlen\n  (command << \"maxlen\") << maxlen\nend\ncommand << id\ndata.each do |key, value|\n  (command << key) << value\nend\nrun(command)\n"}},{"html_id":"xadd(key:String,id:String,data:Hash(String,String))-instance-method","name":"xadd","doc":"Append an entry with the specified data to the stream with the given `key`\nand gives it the specified `id`. If the id is `\"*\"`, Redis will assign it\nan id of the form `\"#{Time.utc.to_unix_ms}-#{autoincrementing_index}\"`.\nIf `maxlen` is provided, Redis will trim the stream to the specified\nlength. If `maxlen` is of the form `~ 1000`, Redis will trim it to\n*approximately* that length, removing entries when it can do so\nefficiently. This method returns the `id` that Redis stores.\n\n```\nredis.xadd \"my-stream\", \"*\", {\"name\" => \"foo\", \"id\" => UUID.random.to_s}\n```","summary":"<p>Append an entry with the specified data to the stream with the given <code>key</code> and gives it the specified <code>id</code>.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Hash(String, String)"}],"args_string":"(key : String, id : String, data : Hash(String, String))","args_html":"(key : String, id : String, data : Hash(String, String))","location":{"filename":"src/commands.cr","line_number":430,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L430"},"def":{"name":"xadd","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Hash(String, String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"xadd(key, id, maxlen: nil, data: data)"}},{"html_id":"xadd(key:String,id:String,maxlen=nil,**data)-instance-method","name":"xadd","doc":"Append an entry with the specified data to the stream with the given `key`\nand gives it the specified `id`. If the id is `\"*\"`, Redis will assign it\nan id of the form `\"#{Time.utc.to_unix_ms}-#{autoincrementing_index}\"`.\nIf `maxlen` is provided, Redis will trim the stream to the specified\nlength. If `maxlen` is of the form `~ 1000`, Redis will trim it to\n*approximately* that length, removing entries when it can do so\nefficiently. This method returns the `id` that Redis stores.\n\n```\nredis.xadd \"my-stream\", \"*\", name: \"foo\", id: UUID.random.to_s\n```","summary":"<p>Append an entry with the specified data to the stream with the given <code>key</code> and gives it the specified <code>id</code>.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"maxlen","doc":null,"default_value":"nil","external_name":"maxlen","restriction":""}],"args_string":"(key : String, id : String, maxlen = nil, **data)","args_html":"(key : String, id : String, maxlen = <span class=\"n\">nil</span>, **data)","location":{"filename":"src/commands.cr","line_number":399,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L399"},"def":{"name":"xadd","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"maxlen","doc":null,"default_value":"nil","external_name":"maxlen","restriction":""}],"double_splat":{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":""},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(Value).new(initial_capacity: (data.size * 2) + 6)\n(command << \"xadd\") << key\nif maxlen\n  command << \"maxlen\"\n  case maxlen\n  when Tuple\n    maxlen.each do |entry|\n      command << entry\n    end\n  when String\n    command << maxlen\n  end\nend\ncommand << id\ndata.each do |key, value|\n  (command << key.to_s) << value\nend\nrun(command)\n"}},{"html_id":"xautoclaim(key:String,group:String,consumer:String,min_idle_time:Time::Span,start:String,count:Int|String|Nil=nil)-instance-method","name":"xautoclaim","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"},{"name":"consumer","doc":null,"default_value":"","external_name":"consumer","restriction":"String"},{"name":"min_idle_time","doc":null,"default_value":"","external_name":"min_idle_time","restriction":"Time::Span"},{"name":"start","doc":null,"default_value":"","external_name":"start","restriction":"String"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"Int | String | Nil"}],"args_string":"(key : String, group : String, consumer : String, min_idle_time : Time::Span, start : String, count : Int | String | Nil = nil)","args_html":"(key : String, group : String, consumer : String, min_idle_time : Time::Span, start : String, count : Int | String | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/commands.cr","line_number":799,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L799"},"def":{"name":"xautoclaim","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"},{"name":"consumer","doc":null,"default_value":"","external_name":"consumer","restriction":"String"},{"name":"min_idle_time","doc":null,"default_value":"","external_name":"min_idle_time","restriction":"Time::Span"},{"name":"start","doc":null,"default_value":"","external_name":"start","restriction":"String"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"Int | String | Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"min_idle_time = min_idle_time.total_milliseconds.to_i.to_s\ncommand = {\"xautoclaim\", key, group, consumer, min_idle_time, start}\nif count\n  command = command + {\"count\", count.to_s}\nend\nrun(command)\n"}},{"html_id":"xgroup(command:String,key:String,groupname:String)-instance-method","name":"xgroup","doc":"Run a Redis XGROUP subcommand for a given stream. See the [XGROUP command in the Redis documentation](https://redis.io/commands/xgroup) for more information.\n\n```\nredis.xgroup \"DESTROY\", \"my-stream\", \"my-group\"\n```","summary":"<p>Run a Redis XGROUP subcommand for a given stream.</p>","abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"String"},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"groupname","doc":null,"default_value":"","external_name":"groupname","restriction":"String"}],"args_string":"(command : String, key : String, groupname : String)","args_html":"(command : String, key : String, groupname : String)","location":{"filename":"src/commands.cr","line_number":509,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L509"},"def":{"name":"xgroup","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"String"},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"groupname","doc":null,"default_value":"","external_name":"groupname","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"xgroup\", command, key, groupname})"}},{"html_id":"xgroup(command:XGroup,key:String,groupname:String,*,id:String?=nil,mkstream=false,consumer_name:String?=nil)-instance-method","name":"xgroup","doc":"Run a Redis XGROUP subcommand for a given stream. See the [XGROUP command in the Redis documentation](https://redis.io/commands/xgroup) for more information.\n\n```\nredis.xgroup :create, \"my-stream\", \"my-group\", mkstream: true\n```","summary":"<p>Run a Redis XGROUP subcommand for a given stream.</p>","abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"XGroup"},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"groupname","doc":null,"default_value":"","external_name":"groupname","restriction":"String"},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"id","doc":null,"default_value":"nil","external_name":"id","restriction":"String | ::Nil"},{"name":"mkstream","doc":null,"default_value":"false","external_name":"mkstream","restriction":""},{"name":"consumer_name","doc":null,"default_value":"nil","external_name":"consumer_name","restriction":"String | ::Nil"}],"args_string":"(command : XGroup, key : String, groupname : String, *, id : String? = nil, mkstream = false, consumer_name : String? = nil)","args_html":"(command : <a href=\"../Redis/Commands/XGroup.html\">XGroup</a>, key : String, groupname : String, *, id : String? = <span class=\"n\">nil</span>, mkstream = <span class=\"n\">false</span>, consumer_name : String? = <span class=\"n\">nil</span>)","location":{"filename":"src/commands.cr","line_number":487,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L487"},"def":{"name":"xgroup","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"XGroup"},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"groupname","doc":null,"default_value":"","external_name":"groupname","restriction":"String"},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"id","doc":null,"default_value":"nil","external_name":"id","restriction":"String | ::Nil"},{"name":"mkstream","doc":null,"default_value":"false","external_name":"mkstream","restriction":""},{"name":"consumer_name","doc":null,"default_value":"nil","external_name":"consumer_name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":3,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"cmd = Array(String).new(initial_capacity: 7)\n(((cmd << \"xgroup\") << command.to_s) << key) << groupname\nif id\n  cmd << id\nend\nif mkstream\n  cmd << \"mkstream\"\nend\nif consumer_name\n  cmd << consumer_name\nend\nrun(cmd)\n"}},{"html_id":"xgroup(command:String,key:String,groupname:String,*args:String)-instance-method","name":"xgroup","doc":"Run a Redis XGROUP subcommand for a given stream. See the [XGROUP command in the Redis documentation](https://redis.io/commands/xgroup) for more information.\n\n```\nredis.xgroup \"CREATE\", \"my-stream\", \"my-group\", \"0\"\n```","summary":"<p>Run a Redis XGROUP subcommand for a given stream.</p>","abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"String"},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"groupname","doc":null,"default_value":"","external_name":"groupname","restriction":"String"},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"String"}],"args_string":"(command : String, key : String, groupname : String, *args : String)","args_html":"(command : String, key : String, groupname : String, *args : String)","location":{"filename":"src/commands.cr","line_number":518,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L518"},"def":{"name":"xgroup","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":"String"},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"groupname","doc":null,"default_value":"","external_name":"groupname","restriction":"String"},{"name":"args","doc":null,"default_value":"","external_name":"args","restriction":"String"}],"double_splat":null,"splat_index":3,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"xgroup\", command, key, groupname} + args)"}},{"html_id":"xgroup_create(key:String,groupname:String,*,id:String=\"$\",mkstream=false)-instance-method","name":"xgroup_create","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"groupname","doc":null,"default_value":"","external_name":"groupname","restriction":"String"},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"id","doc":null,"default_value":"\"$\"","external_name":"id","restriction":"String"},{"name":"mkstream","doc":null,"default_value":"false","external_name":"mkstream","restriction":""}],"args_string":"(key : String, groupname : String, *, id : String = \"$\", mkstream = false)","args_html":"(key : String, groupname : String, *, id : String = <span class=\"s\">&quot;$&quot;</span>, mkstream = <span class=\"n\">false</span>)","location":{"filename":"src/commands.cr","line_number":473,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L473"},"def":{"name":"xgroup_create","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"groupname","doc":null,"default_value":"","external_name":"groupname","restriction":"String"},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"id","doc":null,"default_value":"\"$\"","external_name":"id","restriction":"String"},{"name":"mkstream","doc":null,"default_value":"false","external_name":"mkstream","restriction":""}],"double_splat":null,"splat_index":2,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"xgroup(XGroup::CREATE, key, groupname, id: id, mkstream: mkstream)"}},{"html_id":"xgroup_create_consumer(key:String,groupname:String,consumer_name:String)-instance-method","name":"xgroup_create_consumer","doc":"XGROUP CREATECONSUMER key groupname consumername","summary":"<p>XGROUP CREATECONSUMER key groupname consumername</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"groupname","doc":null,"default_value":"","external_name":"groupname","restriction":"String"},{"name":"consumer_name","doc":null,"default_value":"","external_name":"consumer_name","restriction":"String"}],"args_string":"(key : String, groupname : String, consumer_name : String)","args_html":"(key : String, groupname : String, consumer_name : String)","location":{"filename":"src/commands.cr","line_number":478,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L478"},"def":{"name":"xgroup_create_consumer","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"groupname","doc":null,"default_value":"","external_name":"groupname","restriction":"String"},{"name":"consumer_name","doc":null,"default_value":"","external_name":"consumer_name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"xgroup(XGroup::CREATECONSUMER, key, groupname, consumer_name: consumer_name)"}},{"html_id":"xlen(key:String)-instance-method","name":"xlen","doc":"Return the number of entries in the given stream","summary":"<p>Return the number of entries in the given stream</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":458,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L458"},"def":{"name":"xlen","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"xlen\", key})"}},{"html_id":"xpending(key:String,group:String,start:String,endfinish:String,count:String|Int,idle:String|Time::Span|Nil=nil)-instance-method","name":"xpending","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"},{"name":"start","doc":null,"default_value":"","external_name":"start","restriction":"String"},{"name":"finish","doc":null,"default_value":"","external_name":"end","restriction":"String"},{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"String | Int"},{"name":"idle","doc":null,"default_value":"nil","external_name":"idle","restriction":"String | Time::Span | Nil"}],"args_string":"(key : String, group : String, start : String, end finish : String, count : String | Int, idle : String | Time::Span | Nil = nil)","args_html":"(key : String, group : String, start : String, end finish : String, count : String | Int, idle : String | Time::Span | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/commands.cr","line_number":767,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L767"},"def":{"name":"xpending","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"},{"name":"start","doc":null,"default_value":"","external_name":"start","restriction":"String"},{"name":"finish","doc":null,"default_value":"","external_name":"end","restriction":"String"},{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"String | Int"},{"name":"idle","doc":null,"default_value":"nil","external_name":"idle","restriction":"String | Time::Span | Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = {\"xpending\", key, group}\ncase idle\nwhen String\n  command = command + {\"idle\", idle}\nwhen Time::Span\n  command = command + {\"idle\", idle.total_milliseconds.to_i.to_s}\nend\ncommand = command + {start, finish, count.to_s}\nrun(command)\n"}},{"html_id":"xpending(key:String,group:String)-instance-method","name":"xpending","doc":"XPENDING key group [[IDLE min-idle-time] start end count [consumer]]","summary":"<p>XPENDING key group [[IDLE min-idle-time] start end count [consumer]]</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"}],"args_string":"(key : String, group : String)","args_html":"(key : String, group : String)","location":{"filename":"src/commands.cr","line_number":763,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L763"},"def":{"name":"xpending","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"xpending\", key, group})"}},{"html_id":"xrange(key:String,startmin,endmax,count=nil)-instance-method","name":"xrange","doc":"Return the entries in the given stream between the `start` and `end` ids.\nIf `count` is provided, Redis will return only that number of entries.","summary":"<p>Return the entries in the given stream between the <code>start</code> and <code>end</code> ids.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"min","doc":null,"default_value":"","external_name":"start","restriction":""},{"name":"max","doc":null,"default_value":"","external_name":"end","restriction":""},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":""}],"args_string":"(key : String, start min, end max, count = nil)","args_html":"(key : String, start min, end max, count = <span class=\"n\">nil</span>)","location":{"filename":"src/commands.cr","line_number":464,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L464"},"def":{"name":"xrange","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"min","doc":null,"default_value":"","external_name":"start","restriction":""},{"name":"max","doc":null,"default_value":"","external_name":"end","restriction":""},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = {\"xrange\", key, min, max}\nif count\n  command = command + {\"count\", count}\nend\nrun(command)\n"}},{"html_id":"xreadgroup(group:String,consumer:String,count:String|Int|Nil=nil,block:Time::Span|String|Int|Nil=nil,no_ack=false,streams:Hash(String,String)={}ofString=>String)-instance-method","name":"xreadgroup","doc":"Execute an `XREADGROUP` command on the Redis server.\n\nThis is returned in its raw form from Redis, but you can pass it to a\n`Redis::Streaming::XReadGroupResponse` to make it easier to work with.","summary":"<p>Execute an <code>XREADGROUP</code> command on the Redis server.</p>","abstract":false,"args":[{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"},{"name":"consumer","doc":null,"default_value":"","external_name":"consumer","restriction":"String"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"block","doc":null,"default_value":"nil","external_name":"block","restriction":"Time::Span | String | Int | Nil"},{"name":"no_ack","doc":null,"default_value":"false","external_name":"no_ack","restriction":""},{"name":"streams","doc":null,"default_value":"{} of String => String","external_name":"streams","restriction":"Hash(String, String)"}],"args_string":"(group : String, consumer : String, count : String | Int | Nil = nil, block : Time::Span | String | Int | Nil = nil, no_ack = false, streams : Hash(String, String) = {} of String => String)","args_html":"(group : String, consumer : String, count : String | Int | Nil = <span class=\"n\">nil</span>, block : Time::Span | String | Int | Nil = <span class=\"n\">nil</span>, no_ack = <span class=\"n\">false</span>, streams : Hash(String, String) = {} <span class=\"k\">of</span> <span class=\"t\">String</span> => <span class=\"t\">String</span>)","location":{"filename":"src/commands.cr","line_number":526,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L526"},"def":{"name":"xreadgroup","args":[{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"},{"name":"consumer","doc":null,"default_value":"","external_name":"consumer","restriction":"String"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"block","doc":null,"default_value":"nil","external_name":"block","restriction":"Time::Span | String | Int | Nil"},{"name":"no_ack","doc":null,"default_value":"false","external_name":"no_ack","restriction":""},{"name":"streams","doc":null,"default_value":"{} of String => String","external_name":"streams","restriction":"Hash(String, String)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(Value).new(initial_capacity: 9 + (streams.size * 2))\n(((command << \"xreadgroup\") << \"group\") << group) << consumer\nif count\n  (command << \"count\") << count.to_s\nend\ncase block\nin Time::Span\n  (command << \"block\") << block.total_milliseconds.to_i.to_s\nin String\n  (command << \"block\") << block\nin Int\n  (command << \"block\") << block.to_s\nin Nil\nend\nif no_ack\n  command << \"noack\"\nend\ncommand << \"streams\"\nstreams.each_key do |key|\n  command << key\nend\nstreams.each_value do |value|\n  command << value\nend\nrun(command)\n"}},{"html_id":"xreadgroup(group:String,consumer:String,count:String|Int|Nil=nil,block:Time::Span|String|Int|Nil=nil,no_ack=false,streams:NamedTuple=NamedTuple.new)-instance-method","name":"xreadgroup","doc":"Execute an `XREADGROUP` command on the Redis server. If `block` is not nil, the server will block for up to that much time (if you pass a number, it will be interpreted as milliseconds) until any new messages enter the stream.\n\nThis is returned in its raw form from Redis, but you can pass it to a\n`Redis::Streaming::XReadGroupResponse` to make it easier to work with.\n\n```\n# Long-poll for up to 10 messages from the stream with key `my_stream`,\n# blocking for up to 2 seconds if there are no messages waiting.\nresponse = redis.xreadgroup \"group\", \"consumer\",\n  streams: {my_stream: \">\"},\n  count: 10,\n  block: 2.seconds\nresponse = Redis::Streaming::XReadGroupResponse.new(response)\n```","summary":"<p>Execute an <code>XREADGROUP</code> command on the Redis server.</p>","abstract":false,"args":[{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"},{"name":"consumer","doc":null,"default_value":"","external_name":"consumer","restriction":"String"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"block","doc":null,"default_value":"nil","external_name":"block","restriction":"Time::Span | String | Int | Nil"},{"name":"no_ack","doc":null,"default_value":"false","external_name":"no_ack","restriction":""},{"name":"streams","doc":null,"default_value":"NamedTuple.new","external_name":"streams","restriction":"NamedTuple"}],"args_string":"(group : String, consumer : String, count : String | Int | Nil = nil, block : Time::Span | String | Int | Nil = nil, no_ack = false, streams : NamedTuple = NamedTuple.new)","args_html":"(group : String, consumer : String, count : String | Int | Nil = <span class=\"n\">nil</span>, block : Time::Span | String | Int | Nil = <span class=\"n\">nil</span>, no_ack = <span class=\"n\">false</span>, streams : NamedTuple = <span class=\"t\">NamedTuple</span>.<span class=\"k\">new</span>)","location":{"filename":"src/commands.cr","line_number":569,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L569"},"def":{"name":"xreadgroup","args":[{"name":"group","doc":null,"default_value":"","external_name":"group","restriction":"String"},{"name":"consumer","doc":null,"default_value":"","external_name":"consumer","restriction":"String"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"block","doc":null,"default_value":"nil","external_name":"block","restriction":"Time::Span | String | Int | Nil"},{"name":"no_ack","doc":null,"default_value":"false","external_name":"no_ack","restriction":""},{"name":"streams","doc":null,"default_value":"NamedTuple.new","external_name":"streams","restriction":"NamedTuple"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(Value).new(initial_capacity: 9 + (streams.size * 2))\n(((command << \"xreadgroup\") << \"group\") << group) << consumer\nif count\n  (command << \"count\") << count.to_s\nend\ncase block\nin Time::Span\n  (command << \"block\") << block.total_milliseconds.to_i.to_s\nin String\n  (command << \"block\") << block\nin Int\n  (command << \"block\") << block.to_s\nin Nil\nend\nif no_ack\n  command << \"noack\"\nend\ncommand << \"streams\"\nstreams.each_key do |key|\n  command << key.to_s\nend\nstreams.each_value do |value|\n  command << value\nend\nrun(command)\n"}},{"html_id":"zadd(key:String,score:String|Float,value:String)-instance-method","name":"zadd","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"score","doc":null,"default_value":"","external_name":"score","restriction":"String | Float"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(key : String, score : String | Float, value : String)","args_html":"(key : String, score : String | Float, value : String)","location":{"filename":"src/commands.cr","line_number":691,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L691"},"def":{"name":"zadd","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"score","doc":null,"default_value":"","external_name":"score","restriction":"String | Float"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"zadd\", key, score.to_s, value})"}},{"html_id":"zadd(key:String,values:Enumerable)-instance-method","name":"zadd","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Enumerable"}],"args_string":"(key : String, values : Enumerable)","args_html":"(key : String, values : Enumerable)","location":{"filename":"src/commands.cr","line_number":695,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L695"},"def":{"name":"zadd","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Enumerable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 2 + values.size)\n(command << \"zadd\") << key\nvalues.each do |value|\n  command << (value.as(String))\nend\nrun(command)\n"}},{"html_id":"zcard(key:String)-instance-method","name":"zcard","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":643,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L643"},"def":{"name":"zcard","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"zcard\", key})"}},{"html_id":"zrange(key:String,starting:String|Int,ending:String|Int,with_scores:Bool=false)-instance-method","name":"zrange","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"starting","doc":null,"default_value":"","external_name":"starting","restriction":"String | Int"},{"name":"ending","doc":null,"default_value":"","external_name":"ending","restriction":"String | Int"},{"name":"with_scores","doc":null,"default_value":"false","external_name":"with_scores","restriction":"Bool"}],"args_string":"(key : String, starting : String | Int, ending : String | Int, with_scores : Bool = false)","args_html":"(key : String, starting : String | Int, ending : String | Int, with_scores : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/commands.cr","line_number":664,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L664"},"def":{"name":"zrange","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"starting","doc":null,"default_value":"","external_name":"starting","restriction":"String | Int"},{"name":"ending","doc":null,"default_value":"","external_name":"ending","restriction":"String | Int"},{"name":"with_scores","doc":null,"default_value":"false","external_name":"with_scores","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = {\"zrange\", key, starting.to_s, ending.to_s}\nif with_scores\n  command = command + {\"withscores\"}\nend\nrun(command)\n"}},{"html_id":"zrangebyscore(key:String,low:String|Float,high:String|Float,limit:Enumerable(String)?=nil)-instance-method","name":"zrangebyscore","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"low","doc":null,"default_value":"","external_name":"low","restriction":"String | Float"},{"name":"high","doc":null,"default_value":"","external_name":"high","restriction":"String | Float"},{"name":"limit","doc":null,"default_value":"nil","external_name":"limit","restriction":"Enumerable(String) | ::Nil"}],"args_string":"(key : String, low : String | Float, high : String | Float, limit : Enumerable(String)? = nil)","args_html":"(key : String, low : String | Float, high : String | Float, limit : Enumerable(String)? = <span class=\"n\">nil</span>)","location":{"filename":"src/commands.cr","line_number":673,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L673"},"def":{"name":"zrangebyscore","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"low","doc":null,"default_value":"","external_name":"low","restriction":"String | Float"},{"name":"high","doc":null,"default_value":"","external_name":"high","restriction":"String | Float"},{"name":"limit","doc":null,"default_value":"nil","external_name":"limit","restriction":"Enumerable(String) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = {\"zrangebyscore\", key, low.to_s, high.to_s}\nif limit\n  command = command + {\"limit\", limit[0], limit[1]}\nend\nrun(command)\n"}},{"html_id":"zrem(key:String,value:String)-instance-method","name":"zrem","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"args_string":"(key : String, value : String)","args_html":"(key : String, value : String)","location":{"filename":"src/commands.cr","line_number":703,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L703"},"def":{"name":"zrem","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"zrem\", key, value})"}},{"html_id":"zremrangebyrank(key:String,low:Int,high:Int)-instance-method","name":"zremrangebyrank","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"low","doc":null,"default_value":"","external_name":"low","restriction":"Int"},{"name":"high","doc":null,"default_value":"","external_name":"high","restriction":"Int"}],"args_string":"(key : String, low : Int, high : Int)","args_html":"(key : String, low : Int, high : Int)","location":{"filename":"src/commands.cr","line_number":687,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L687"},"def":{"name":"zremrangebyrank","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"low","doc":null,"default_value":"","external_name":"low","restriction":"Int"},{"name":"high","doc":null,"default_value":"","external_name":"high","restriction":"Int"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"zremrangebyrank\", key, low.to_s, high.to_s})"}},{"html_id":"zremrangebyscore(key:String,low:String|Float,high:String|Float)-instance-method","name":"zremrangebyscore","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"low","doc":null,"default_value":"","external_name":"low","restriction":"String | Float"},{"name":"high","doc":null,"default_value":"","external_name":"high","restriction":"String | Float"}],"args_string":"(key : String, low : String | Float, high : String | Float)","args_html":"(key : String, low : String | Float, high : String | Float)","location":{"filename":"src/commands.cr","line_number":683,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L683"},"def":{"name":"zremrangebyscore","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"low","doc":null,"default_value":"","external_name":"low","restriction":"String | Float"},{"name":"high","doc":null,"default_value":"","external_name":"high","restriction":"String | Float"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"run({\"zremrangebyscore\", key, low.to_s, high.to_s})"}},{"html_id":"zrevrange(key:String,starting:String|Int,ending:String|Int,with_scores:Bool=false)-instance-method","name":"zrevrange","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"starting","doc":null,"default_value":"","external_name":"starting","restriction":"String | Int"},{"name":"ending","doc":null,"default_value":"","external_name":"ending","restriction":"String | Int"},{"name":"with_scores","doc":null,"default_value":"false","external_name":"with_scores","restriction":"Bool"}],"args_string":"(key : String, starting : String | Int, ending : String | Int, with_scores : Bool = false)","args_html":"(key : String, starting : String | Int, ending : String | Int, with_scores : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/commands.cr","line_number":655,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L655"},"def":{"name":"zrevrange","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"starting","doc":null,"default_value":"","external_name":"starting","restriction":"String | Int"},{"name":"ending","doc":null,"default_value":"","external_name":"ending","restriction":"String | Int"},{"name":"with_scores","doc":null,"default_value":"false","external_name":"with_scores","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = {\"zrevrange\", key, starting.to_s, ending.to_s}\nif with_scores\n  command = command + {\"withscores\"}\nend\nrun(command)\n"}}],"macros":[],"types":[{"html_id":"redis/Redis/Commands/XGroup","path":"Redis/Commands/XGroup.html","kind":"enum","full_name":"Redis::Commands::XGroup","name":"XGroup","abstract":false,"superclass":null,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/commands.cr","line_number":497,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L497"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"CREATE","name":"CREATE","value":"0","doc":null,"summary":null},{"id":"DESTROY","name":"DESTROY","value":"1","doc":null,"summary":null},{"id":"CREATECONSUMER","name":"CREATECONSUMER","value":"2","doc":null,"summary":null},{"id":"DELCONSUMER","name":"DELCONSUMER","value":"3","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"html_id":"create?-instance-method","name":"create?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/commands.cr","line_number":498,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L498"},"def":{"name":"create?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == CREATE"}},{"html_id":"createconsumer?-instance-method","name":"createconsumer?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/commands.cr","line_number":500,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L500"},"def":{"name":"createconsumer?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == CREATECONSUMER"}},{"html_id":"delconsumer?-instance-method","name":"delconsumer?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/commands.cr","line_number":501,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L501"},"def":{"name":"delconsumer?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == DELCONSUMER"}},{"html_id":"destroy?-instance-method","name":"destroy?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/commands.cr","line_number":499,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/commands.cr#L499"},"def":{"name":"destroy?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == DESTROY"}}],"macros":[],"types":[]}]},{"html_id":"redis/Redis/Connection","path":"Redis/Connection.html","kind":"class","full_name":"Redis::Connection","name":"Connection","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/connection.cr","line_number":12,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L12"},{"filename":"src/graph.cr","line_number":142,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L142"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"CRLF","name":"CRLF","value":"\"\\r\\n\"","doc":null,"summary":null}],"included_modules":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"The connection wraps the TCP connection to the Redis server.","summary":"<p>The connection wraps the TCP connection to the Redis server.</p>","class_methods":[],"constructors":[{"html_id":"new(uri=URI.parse(\"redis:///\"))-class-method","name":"new","doc":"We receive all connection information in the URI.\n\nSSL connections require specifying the `rediss://` scheme.\nPassword authentication uses the URI password.\nDB selection uses the URI path.","summary":"<p>We receive all connection information in the URI.</p>","abstract":false,"args":[{"name":"uri","doc":null,"default_value":"URI.parse(\"redis:///\")","external_name":"uri","restriction":""}],"args_string":"(uri = URI.parse(\"redis:///\"))","args_html":"(uri = <span class=\"t\">URI</span>.parse(<span class=\"s\">&quot;redis:///&quot;</span>))","location":{"filename":"src/connection.cr","line_number":24,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L24"},"def":{"name":"new","args":[{"name":"uri","doc":null,"default_value":"URI.parse(\"redis:///\")","external_name":"uri","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(uri)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"close-instance-method","name":"close","doc":"Close the connection to the server.","summary":"<p>Close the connection to the server.</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/connection.cr","line_number":226,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L226"},"def":{"name":"close","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@socket.close"}},{"html_id":"encode(node:Graph::Node)-instance-method","name":"encode","doc":null,"summary":null,"abstract":false,"args":[{"name":"node","doc":null,"default_value":"","external_name":"node","restriction":"Graph::Node"}],"args_string":"(node : Graph::Node)","args_html":"(node : <a href=\"../Redis/Graph/Node.html\">Graph::Node</a>)","location":{"filename":"src/graph.cr","line_number":143,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L143"},"def":{"name":"encode","args":[{"name":"node","doc":null,"default_value":"","external_name":"node","restriction":"Graph::Node"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"encode([[\"id\", node.id], [\"labels\", node.labels], [\"properties\", node.properties.to_a]])"}},{"html_id":"flush-instance-method","name":"flush","doc":"Flush the connection buffer and make sure we've sent everything to the\nserver.","summary":"<p>Flush the connection buffer and make sure we've sent everything to the server.</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/connection.cr","line_number":237,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L237"},"def":{"name":"flush","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@socket.flush"}},{"html_id":"multi(retries=5,&)-instance-method","name":"multi","doc":"Execute a transaction within the server. The transaction is automatically\ncommitted at the end of the block or can be rolled back with\n`Transaction#discard`. Transactions are also rolled back if an exception\nis raised.\n\n```\nredis.multi do |redis|\n  redis.set \"foo\", \"bar\"\n  redis.incr \"counter\"\n  raise \"Oops!\"\nend\n\nredis.get \"foo\"     # => nil\nredis.get \"counter\" # => nil\n```","summary":"<p>Execute a transaction within the server.</p>","abstract":false,"args":[{"name":"retries","doc":null,"default_value":"5","external_name":"retries","restriction":""}],"args_string":"(retries = 5, &)","args_html":"(retries = <span class=\"n\">5</span>, &)","location":{"filename":"src/connection.cr","line_number":98,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L98"},"def":{"name":"multi","args":[{"name":"retries","doc":null,"default_value":"5","external_name":"retries","restriction":""}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"loop do\n  begin\n    txn = Transaction.new(self)\n    begin\n      txn.start!\n      yield txn\n      if txn.discarded?\n        return [] of Value\n      else\n        return txn.exec.as(Array)\n      end\n    rescue ex\n      txn.discard\n      raise(ex)\n    end\n  rescue ex : IO::Error\n    if retries > 0\n      retries = retries - 1\n      initialize(@uri)\n    else\n      raise(ex)\n    end\n  end\nend"}},{"html_id":"pipeline(&)-instance-method","name":"pipeline","doc":"Execute a pipeline of commands. A pipeline sends all commands to the\nserver before reading any of the results.\n\n```\nredis.pipeline do |redis|\n  redis.set \"foo\", \"bar\"\n  redis.incr \"counter\"\nend\n```","summary":"<p>Execute a pipeline of commands.</p>","abstract":false,"args":[],"args_string":"(&)","args_html":"(&)","location":{"filename":"src/connection.cr","line_number":64,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L64"},"def":{"name":"pipeline","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"pipeline = Pipeline.new(self)\nerror = nil\nbegin\n  yield pipeline\nrescue ex\n  error = ex\nend\n@socket.flush\nresult = pipeline.commit\nif error\n  raise(error)\nelse\n  result\nend\n"}},{"html_id":"psubscribe(*channels:String,&block:Subscription,self->)-instance-method","name":"psubscribe","doc":null,"summary":null,"abstract":false,"args":[{"name":"channels","doc":null,"default_value":"","external_name":"channels","restriction":"String"}],"args_string":"(*channels : String, &block : Subscription, self -> )","args_html":"(*channels : String, &block : Subscription, <span class=\"k\">self</span> -> )","location":{"filename":"src/connection.cr","line_number":124,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L124"},"def":{"name":"psubscribe","args":[{"name":"channels","doc":null,"default_value":"","external_name":"channels","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":2,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Subscription, self ->)"},"return_type":"","visibility":"Public","body":"subscription = Subscription.new(self)\nencode({\"psubscribe\"} + channels)\nflush\nyield subscription, self\nsubscription.call\n"}},{"html_id":"punsubscribe(*channels:String)-instance-method","name":"punsubscribe","doc":null,"summary":null,"abstract":false,"args":[{"name":"channels","doc":null,"default_value":"","external_name":"channels","restriction":"String"}],"args_string":"(*channels : String)","args_html":"(*channels : String)","location":{"filename":"src/connection.cr","line_number":146,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L146"},"def":{"name":"punsubscribe","args":[{"name":"channels","doc":null,"default_value":"","external_name":"channels","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"encode({\"punsubscribe\"} + channels)\nflush\n"}},{"html_id":"read-instance-method","name":"read","doc":"Read the next value from the server","summary":"<p>Read the next value from the server</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/connection.cr","line_number":242,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L242"},"def":{"name":"read","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@parser.read"}},{"html_id":"readonly!:Nil-instance-method","name":"readonly!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Nil","args_html":" : Nil","location":{"filename":"src/connection.cr","line_number":151,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L151"},"def":{"name":"readonly!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"run({\"readonly\"})"}},{"html_id":"run(command,retries=5):Value-instance-method","name":"run","doc":"Execute the given command and return the result from the server. Commands must be an `Enumerable`.\n\n```\nrun({\"set\", \"foo\", \"bar\"})\n```","summary":"<p>Execute the given command and return the result from the server.</p>","abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"retries","doc":null,"default_value":"5","external_name":"retries","restriction":""}],"args_string":"(command, retries = 5) : Value","args_html":"(command, retries = <span class=\"n\">5</span>) : <a href=\"../Redis/Value.html\">Value</a>","location":{"filename":"src/connection.cr","line_number":197,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L197"},"def":{"name":"run","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""},{"name":"retries","doc":null,"default_value":"5","external_name":"retries","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Value","visibility":"Public","body":"loop do\n  begin\n    encode(command)\n    flush\n    return read\n  rescue ex : IO::Error\n    if retries > 0\n      retries = retries - 1\n      initialize(@uri)\n    else\n      raise(ex)\n    end\n  end\nend"}},{"html_id":"scan_each(matchpattern:String?=nil,count:String|Int|Nil=nil,type:String?=nil,&):Nil-instance-method","name":"scan_each","doc":null,"summary":null,"abstract":false,"args":[{"name":"pattern","doc":null,"default_value":"nil","external_name":"match","restriction":"String | ::Nil"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"String | ::Nil"}],"args_string":"(match pattern : String? = nil, count : String | Int | Nil = nil, type : String? = nil, &) : Nil","args_html":"(match pattern : String? = <span class=\"n\">nil</span>, count : String | Int | Nil = <span class=\"n\">nil</span>, type : String? = <span class=\"n\">nil</span>, &) : Nil","location":{"filename":"src/connection.cr","line_number":212,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L212"},"def":{"name":"scan_each","args":[{"name":"pattern","doc":null,"default_value":"nil","external_name":"match","restriction":"String | ::Nil"},{"name":"count","doc":null,"default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"type","doc":null,"default_value":"nil","external_name":"type","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"cursor = \"\"\nwhile !(cursor == \"0\")\n  response = scan(cursor, match: pattern, count: count, type: type)\n  cursor, results = response.as(Array)\n  cursor = cursor.as(String)\n  (results.as(Array)).each do |key|\n    yield key.as(String)\n  end\nend\n"}},{"html_id":"subscribe(*channels:String,&block:Subscription,self->)-instance-method","name":"subscribe","doc":null,"summary":null,"abstract":false,"args":[{"name":"channels","doc":null,"default_value":"","external_name":"channels","restriction":"String"}],"args_string":"(*channels : String, &block : Subscription, self -> )","args_html":"(*channels : String, &block : Subscription, <span class=\"k\">self</span> -> )","location":{"filename":"src/connection.cr","line_number":124,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L124"},"def":{"name":"subscribe","args":[{"name":"channels","doc":null,"default_value":"","external_name":"channels","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":2,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Subscription, self ->)"},"return_type":"","visibility":"Public","body":"subscription = Subscription.new(self)\nencode({\"subscribe\"} + channels)\nflush\nyield subscription, self\nsubscription.call\n"}},{"html_id":"subscribe(*channels:String)-instance-method","name":"subscribe","doc":null,"summary":null,"abstract":false,"args":[{"name":"channels","doc":null,"default_value":"","external_name":"channels","restriction":"String"}],"args_string":"(*channels : String)","args_html":"(*channels : String)","location":{"filename":"src/connection.cr","line_number":136,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L136"},"def":{"name":"subscribe","args":[{"name":"channels","doc":null,"default_value":"","external_name":"channels","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"encode({\"subscribe\"} + channels)\nflush\n"}},{"html_id":"unsubscribe(*channels:String)-instance-method","name":"unsubscribe","doc":null,"summary":null,"abstract":false,"args":[{"name":"channels","doc":null,"default_value":"","external_name":"channels","restriction":"String"}],"args_string":"(*channels : String)","args_html":"(*channels : String)","location":{"filename":"src/connection.cr","line_number":141,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L141"},"def":{"name":"unsubscribe","args":[{"name":"channels","doc":null,"default_value":"","external_name":"channels","restriction":"String"}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"encode({\"unsubscribe\"} + channels)\nflush\n"}},{"html_id":"url-instance-method","name":"url","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/connection.cr","line_number":270,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/connection.cr#L270"},"def":{"name":"url","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@uri.to_s"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/Error","path":"Redis/Error.html","kind":"class","full_name":"Redis::Error","name":"Error","abstract":false,"superclass":{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":4,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/errors.cr#L4"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"redis/Redis/BusyGroup","kind":"class","full_name":"Redis::BusyGroup","name":"BusyGroup"},{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},{"html_id":"redis/Redis/Graph/Error","kind":"class","full_name":"Redis::Graph::Error","name":"Error"},{"html_id":"redis/Redis/NoGroup","kind":"class","full_name":"Redis::NoGroup","name":"NoGroup"}],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"redis/Redis/FullText","path":"Redis/FullText.html","kind":"struct","full_name":"Redis::FullText(Runnable)","name":"FullText","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/search.cr","line_number":23,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L23"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"`Redis::FullText` wraps a `Redis::Client` or `Redis::Cluster` to execute\ncommands against a fulltext search index located on a given server.\n\n```\nredis = Redis::Client.new\nredis.ft.create <<-INDEX\n  people-index ON HASH\n    PREFIX 1 person:\n  SCHEMA\n    name TEXT NOSTEM SORTABLE\n    email TEXT NOSTEM SORTABLE\n    location GEO\nINDEX\n```\n\nIf your Redis server is running in Cluster mode, you can\n`require \"redis/cluster/search\"` to send read-only `FullText` commands to\nshard replicas.","summary":"<p><code><a href=\"../Redis/FullText.html\">Redis::FullText</a></code> wraps a <code><a href=\"../Redis/Client.html\">Redis::Client</a></code> or <code><a href=\"../Redis/Cluster.html\">Redis::Cluster</a></code> to execute commands against a fulltext search index located on a given server.</p>\n<p><span class=\"flag lime\">EXPERIMENTAL</span>  RediSearch support is still under development. Some APIs may change while details are discovered.</p>","class_methods":[],"constructors":[],"instance_methods":[{"html_id":"create(string:String)-instance-method","name":"create","doc":"Create a search index using the syntax specified in the [RediSearch\n`FT.CREATE` docs](https://oss.redis.com/redisearch/Commands/#ftcreate).\n\n```\nredis = Redis::Client.new\nredis.ft.create <<-INDEX\n  people-index ON HASH\n    PREFIX 1 person:\n  SCHEMA\n    name TEXT NOSTEM SORTABLE\n    email TEXT NOSTEM SORTABLE\n    location GEO\nINDEX\n```\n\nNOTE: This method returns immediately, before the index is complete. You can run searches against an incomplete index, but you will also have incomplete results. To find how far along the index is, you can use the `info` method.\nTODO: Add a method that generates the string passed into this overload.","summary":"<p>Create a search index using the syntax specified in the <a href=\"https://oss.redis.com/redisearch/Commands/#ftcreate\">RediSearch <code>FT.CREATE</code> docs</a>.</p>","abstract":false,"args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":"String"}],"args_string":"(string : String)","args_html":"(string : String)","location":{"filename":"src/search.cr","line_number":75,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L75"},"def":{"name":"create","args":[{"name":"string","doc":null,"default_value":"","external_name":"string","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@redis.run([\"ft.create\"] + string.split)"}},{"html_id":"drop(index:String,keepdocs=false)-instance-method","name":"drop","doc":"Drop the specified `index`.","summary":"<p>Drop the specified <code>index</code>.</p>","abstract":false,"args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"String"},{"name":"keepdocs","doc":null,"default_value":"false","external_name":"keepdocs","restriction":""}],"args_string":"(index : String, keepdocs = false)","args_html":"(index : String, keepdocs = <span class=\"n\">false</span>)","location":{"filename":"src/search.cr","line_number":181,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L181"},"def":{"name":"drop","args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"String"},{"name":"keepdocs","doc":null,"default_value":"false","external_name":"keepdocs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"dropindex(index, keepdocs)"}},{"html_id":"dropindex(key:String,keepdocs=false)-instance-method","name":"dropindex","doc":"Drop the specified `index`.","summary":"<p>Drop the specified <code>index</code>.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"keepdocs","doc":null,"default_value":"false","external_name":"keepdocs","restriction":""}],"args_string":"(key : String, keepdocs = false)","args_html":"(key : String, keepdocs = <span class=\"n\">false</span>)","location":{"filename":"src/search.cr","line_number":186,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L186"},"def":{"name":"dropindex","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"keepdocs","doc":null,"default_value":"false","external_name":"keepdocs","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = [\"ft.dropindex\", key]\nif keepdocs\n  command << \"keepdocs\"\nend\n@redis.run(command)\n"}},{"html_id":"info(index:String)-instance-method","name":"info","doc":"Get information about the search index contained in `index`. For more\ndetails, see [the `FT.INFO` documentation](https://oss.redis.com/redisearch/Commands/#ftinfo).","summary":"<p>Get information about the search index contained in <code>index</code>.</p>","abstract":false,"args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"String"}],"args_string":"(index : String)","args_html":"(index : String)","location":{"filename":"src/search.cr","line_number":81,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L81"},"def":{"name":"info","args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@redis.run({\"ft.info\", index})"}},{"html_id":"profile(index:String,query:String)-instance-method","name":"profile","doc":"Profile the given search. For further details, see [the `FT.PROFILE`\ndocumentation](https://oss.redis.com/redisearch/Commands/#ftprofile).","summary":"<p>Profile the given search.</p>","abstract":false,"args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"String"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"}],"args_string":"(index : String, query : String)","args_html":"(index : String, query : String)","location":{"filename":"src/search.cr","line_number":176,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L176"},"def":{"name":"profile","args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"String"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@redis.run({\"ft.profile\", index, \"search\", \"query\", query})"}},{"html_id":"search(index:String,query:String,nocontent=false,verbatim=false,nostopwords=false,withscores=false,withpayloads=false,withsortkeys=false,filter:Tuple(String,Int|String,Int|String)?=nil,geofilter:Tuple(String,Float,Float,Numeric,GeoUnit)?=nil,inkeys:Array(String)?=nil,infields:Array(String)?=nil,returnreturn_value:Array(String)?=nil,slop:Int?=nil,inorder:Bool?=nil,language:String?=nil,expander:String?=nil,scorer:String?=nil,explainscore=nil,payload:String|Bytes|Nil=nil,sortby:SortBy?=nil,limit:Tuple(Int,Int)?=nil)-instance-method","name":"search","doc":"Run the specified `query` against `index`. Customize the search with various other arguments. For details about what each one does and the return value, see [the `FT.SEARCH`\ndocumentation](https://oss.redis.com/redisearch/Commands/#ftsearch).\n\n```\nresult = redis.ft.search \"people-index\", \"@name:Jamie\",\n  return: %w[name email],\n  sortby: Redis::FullText::SortBy.new(\"name\", :asc)\n```","summary":"<p>Run the specified <code>query</code> against <code>index</code>.</p>","abstract":false,"args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"String"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"nocontent","doc":null,"default_value":"false","external_name":"nocontent","restriction":""},{"name":"verbatim","doc":null,"default_value":"false","external_name":"verbatim","restriction":""},{"name":"nostopwords","doc":null,"default_value":"false","external_name":"nostopwords","restriction":""},{"name":"withscores","doc":null,"default_value":"false","external_name":"withscores","restriction":""},{"name":"withpayloads","doc":null,"default_value":"false","external_name":"withpayloads","restriction":""},{"name":"withsortkeys","doc":null,"default_value":"false","external_name":"withsortkeys","restriction":""},{"name":"filter","doc":null,"default_value":"nil","external_name":"filter","restriction":"::Tuple(String, Int | String, Int | String) | ::Nil"},{"name":"geofilter","doc":null,"default_value":"nil","external_name":"geofilter","restriction":"::Tuple(String, Float, Float, Numeric, GeoUnit) | ::Nil"},{"name":"inkeys","doc":null,"default_value":"nil","external_name":"inkeys","restriction":"Array(String) | ::Nil"},{"name":"infields","doc":null,"default_value":"nil","external_name":"infields","restriction":"Array(String) | ::Nil"},{"name":"return_value","doc":null,"default_value":"nil","external_name":"return","restriction":"Array(String) | ::Nil"},{"name":"slop","doc":null,"default_value":"nil","external_name":"slop","restriction":"Int | ::Nil"},{"name":"inorder","doc":null,"default_value":"nil","external_name":"inorder","restriction":"Bool | ::Nil"},{"name":"language","doc":null,"default_value":"nil","external_name":"language","restriction":"String | ::Nil"},{"name":"expander","doc":null,"default_value":"nil","external_name":"expander","restriction":"String | ::Nil"},{"name":"scorer","doc":null,"default_value":"nil","external_name":"scorer","restriction":"String | ::Nil"},{"name":"explainscore","doc":null,"default_value":"nil","external_name":"explainscore","restriction":""},{"name":"payload","doc":null,"default_value":"nil","external_name":"payload","restriction":"String | Bytes | Nil"},{"name":"sortby","doc":null,"default_value":"nil","external_name":"sortby","restriction":"SortBy | ::Nil"},{"name":"limit","doc":null,"default_value":"nil","external_name":"limit","restriction":"::Tuple(Int, Int) | ::Nil"}],"args_string":"(index : String, query : String, nocontent = false, verbatim = false, nostopwords = false, withscores = false, withpayloads = false, withsortkeys = false, filter : Tuple(String, Int | String, Int | String)? = nil, geofilter : Tuple(String, Float, Float, Numeric, GeoUnit)? = nil, inkeys : Array(String)? = nil, infields : Array(String)? = nil, return return_value : Array(String)? = nil, slop : Int? = nil, inorder : Bool? = nil, language : String? = nil, expander : String? = nil, scorer : String? = nil, explainscore = nil, payload : String | Bytes | Nil = nil, sortby : SortBy? = nil, limit : Tuple(Int, Int)? = nil)","args_html":"(index : String, query : String, nocontent = <span class=\"n\">false</span>, verbatim = <span class=\"n\">false</span>, nostopwords = <span class=\"n\">false</span>, withscores = <span class=\"n\">false</span>, withpayloads = <span class=\"n\">false</span>, withsortkeys = <span class=\"n\">false</span>, filter : Tuple(String, Int | String, Int | String)? = <span class=\"n\">nil</span>, geofilter : Tuple(String, Float, Float, Numeric, <a href=\"../Redis/FullText/GeoUnit.html\">GeoUnit</a>)? = <span class=\"n\">nil</span>, inkeys : Array(String)? = <span class=\"n\">nil</span>, infields : Array(String)? = <span class=\"n\">nil</span>, return return_value : Array(String)? = <span class=\"n\">nil</span>, slop : Int? = <span class=\"n\">nil</span>, inorder : Bool? = <span class=\"n\">nil</span>, language : String? = <span class=\"n\">nil</span>, expander : String? = <span class=\"n\">nil</span>, scorer : String? = <span class=\"n\">nil</span>, explainscore = <span class=\"n\">nil</span>, payload : String | Bytes | Nil = <span class=\"n\">nil</span>, sortby : <a href=\"../Redis/FullText/SortBy.html\">SortBy</a>? = <span class=\"n\">nil</span>, limit : Tuple(Int, Int)? = <span class=\"n\">nil</span>)","location":{"filename":"src/search.cr","line_number":93,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L93"},"def":{"name":"search","args":[{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"String"},{"name":"query","doc":null,"default_value":"","external_name":"query","restriction":"String"},{"name":"nocontent","doc":null,"default_value":"false","external_name":"nocontent","restriction":""},{"name":"verbatim","doc":null,"default_value":"false","external_name":"verbatim","restriction":""},{"name":"nostopwords","doc":null,"default_value":"false","external_name":"nostopwords","restriction":""},{"name":"withscores","doc":null,"default_value":"false","external_name":"withscores","restriction":""},{"name":"withpayloads","doc":null,"default_value":"false","external_name":"withpayloads","restriction":""},{"name":"withsortkeys","doc":null,"default_value":"false","external_name":"withsortkeys","restriction":""},{"name":"filter","doc":null,"default_value":"nil","external_name":"filter","restriction":"::Tuple(String, Int | String, Int | String) | ::Nil"},{"name":"geofilter","doc":null,"default_value":"nil","external_name":"geofilter","restriction":"::Tuple(String, Float, Float, Numeric, GeoUnit) | ::Nil"},{"name":"inkeys","doc":null,"default_value":"nil","external_name":"inkeys","restriction":"Array(String) | ::Nil"},{"name":"infields","doc":null,"default_value":"nil","external_name":"infields","restriction":"Array(String) | ::Nil"},{"name":"return_value","doc":null,"default_value":"nil","external_name":"return","restriction":"Array(String) | ::Nil"},{"name":"slop","doc":null,"default_value":"nil","external_name":"slop","restriction":"Int | ::Nil"},{"name":"inorder","doc":null,"default_value":"nil","external_name":"inorder","restriction":"Bool | ::Nil"},{"name":"language","doc":null,"default_value":"nil","external_name":"language","restriction":"String | ::Nil"},{"name":"expander","doc":null,"default_value":"nil","external_name":"expander","restriction":"String | ::Nil"},{"name":"scorer","doc":null,"default_value":"nil","external_name":"scorer","restriction":"String | ::Nil"},{"name":"explainscore","doc":null,"default_value":"nil","external_name":"explainscore","restriction":""},{"name":"payload","doc":null,"default_value":"nil","external_name":"payload","restriction":"String | Bytes | Nil"},{"name":"sortby","doc":null,"default_value":"nil","external_name":"sortby","restriction":"SortBy | ::Nil"},{"name":"limit","doc":null,"default_value":"nil","external_name":"limit","restriction":"::Tuple(Int, Int) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = [\"ft.search\", index, query]\nif nocontent\n  command << \"nocontent\"\nend\nif verbatim\n  command << \"verbatim\"\nend\nif nostopwords\n  command << \"nostopwords\"\nend\nif withscores\n  command << \"withscores\"\nend\nif withpayloads\n  command << \"withpayloads\"\nend\nif withsortkeys\n  command << \"withsortkeys\"\nend\nif filter\n  command << \"filter\"\n  attr, min, max = filter\n  ((command << attr) << min.to_s) << max.to_s\nend\nif geofilter\n  command << \"geofilter\"\n  geofilter.each do |__arg0|\n    attr = __arg0[0]\n    lon = __arg0[1]\n    lat = __arg0[2]\n    radius = __arg0[3]\n    unit = __arg0[4]\n    ((((command << attr) << lon.to_s) << lat.to_s) << radius.to_s) << unit.to_s\n  end\nend\nif inkeys\n  command << \"inkeys\"\n  command.concat(inkeys)\nend\nif infields\n  command << \"infields\"\n  command.concat(infields)\nend\nif return_value\n  command = command + ([\"return\", return_value.size.to_s] + return_value)\nend\nif slop\n  (command << \"slop\") << slop.to_s\nend\nif inorder\n  command << \"inorder\"\nend\nif language\n  (command << \"language\") << language\nend\nif expander\n  (command << \"expander\") << expander\nend\nif scorer\n  (command << \"scorer\") << scorer\nend\nif explainscore\n  command << \"explainscore\"\nend\ncase payload\nwhen String\n  command << payload\nwhen Bytes\n  command << (String.new(payload))\nend\nif sortby\n  ((command << \"sortby\") << sortby.attribute) << sortby.direction.to_s\nend\nif limit\n  command << \"limit\"\n  command.concat(limit.map(&.to_s).to_a)\nend\n@redis.run(command)\n"}}],"macros":[],"types":[{"html_id":"redis/Redis/FullText/GeoUnit","path":"Redis/FullText/GeoUnit.html","kind":"enum","full_name":"Redis::FullText::GeoUnit","name":"GeoUnit","abstract":false,"superclass":null,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/search.cr","line_number":45,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L45"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"M","name":"M","value":"0","doc":null,"summary":null},{"id":"KM","name":"KM","value":"1","doc":null,"summary":null},{"id":"MI","name":"MI","value":"2","doc":null,"summary":null},{"id":"FT","name":"FT","value":"3","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/FullText","kind":"struct","full_name":"Redis::FullText(Runnable)","name":"FullText"},"doc":"Pass to the `search` method's `geofilter` argument to filter within the\nspecified range. For example, to search for pizza places within 25 miles\nof the Baltimore Ravens stadium:\n\n```\nredis.ft.search \"places-index\", \"pizza\",\n  geofilter: {\"location\", -76.622400, 39.277751, 25, :mi}\n```","summary":"<p>Pass to the <code>search</code> method's <code>geofilter</code> argument to filter within the specified range.</p>","class_methods":[],"constructors":[],"instance_methods":[{"html_id":"ft?-instance-method","name":"ft?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/search.cr","line_number":49,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L49"},"def":{"name":"ft?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == FT"}},{"html_id":"km?-instance-method","name":"km?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/search.cr","line_number":47,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L47"},"def":{"name":"km?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == KM"}},{"html_id":"m?-instance-method","name":"m?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/search.cr","line_number":46,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L46"},"def":{"name":"m?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == M"}},{"html_id":"mi?-instance-method","name":"mi?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/search.cr","line_number":48,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L48"},"def":{"name":"mi?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == MI"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/FullText/SortBy","path":"Redis/FullText/SortBy.html","kind":"struct","full_name":"Redis::FullText::SortBy","name":"SortBy","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/search.cr","line_number":35,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L35"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/FullText","kind":"struct","full_name":"Redis::FullText(Runnable)","name":"FullText"},"doc":"Pass to the `search` method's `sortby` argument to sort the results on the\ngiven attribute.\n\n```\nredis.ft.search \"people-index\", \"@name:Jamie\",\n  sortby: Redis::FullText::SortBy.new(\"name\", :asc)\n```","summary":"<p>Pass to the <code>search</code> method's <code>sortby</code> argument to sort the results on the given attribute.</p>","class_methods":[],"constructors":[{"html_id":"new(attribute:String,direction:SortDirection=:asc)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"String"},{"name":"direction","doc":null,"default_value":":asc","external_name":"direction","restriction":"SortDirection"}],"args_string":"(attribute : String, direction : SortDirection = :asc)","args_html":"(attribute : String, direction : <a href=\"../../Redis/FullText/SortDirection.html\">SortDirection</a> = <span class=\"n\">:asc</span>)","location":{"filename":"src/search.cr","line_number":35,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L35"},"def":{"name":"new","args":[{"name":"attribute","doc":null,"default_value":"","external_name":"attribute","restriction":"String"},{"name":"direction","doc":null,"default_value":":asc","external_name":"direction","restriction":"SortDirection"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(attribute, direction)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"attribute:String-instance-method","name":"attribute","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":null,"def":{"name":"attribute","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@attribute"}},{"html_id":"clone-instance-method","name":"clone","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/search.cr","line_number":35,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L35"},"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.class.new(@attribute.clone, @direction.clone)"}},{"html_id":"copy_with(attribute_attribute=@attribute,direction_direction=@direction)-instance-method","name":"copy_with","doc":null,"summary":null,"abstract":false,"args":[{"name":"_attribute","doc":null,"default_value":"@attribute","external_name":"attribute","restriction":""},{"name":"_direction","doc":null,"default_value":"@direction","external_name":"direction","restriction":""}],"args_string":"(attribute _attribute = @attribute, direction _direction = @direction)","args_html":"(attribute _attribute = @attribute, direction _direction = @direction)","location":{"filename":"src/search.cr","line_number":35,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L35"},"def":{"name":"copy_with","args":[{"name":"_attribute","doc":null,"default_value":"@attribute","external_name":"attribute","restriction":""},{"name":"_direction","doc":null,"default_value":"@direction","external_name":"direction","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.class.new(_attribute, _direction)"}},{"html_id":"direction:SortDirection-instance-method","name":"direction","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : SortDirection","args_html":" : <a href=\"../../Redis/FullText/SortDirection.html\">SortDirection</a>","location":null,"def":{"name":"direction","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"SortDirection","visibility":"Public","body":"@direction"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/FullText/SortDirection","path":"Redis/FullText/SortDirection.html","kind":"enum","full_name":"Redis::FullText::SortDirection","name":"SortDirection","abstract":false,"superclass":null,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/search.cr","line_number":53,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L53"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"ASC","name":"ASC","value":"0","doc":null,"summary":null},{"id":"DESC","name":"DESC","value":"1","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/FullText","kind":"struct","full_name":"Redis::FullText(Runnable)","name":"FullText"},"doc":"Pass to a `SortBy` constructor to specify a fulltext search sort direction.","summary":"<p>Pass to a <code><a href=\"../../Redis/FullText/SortBy.html\">SortBy</a></code> constructor to specify a fulltext search sort direction.</p>","class_methods":[],"constructors":[],"instance_methods":[{"html_id":"asc?-instance-method","name":"asc?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/search.cr","line_number":54,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L54"},"def":{"name":"asc?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == ASC"}},{"html_id":"desc?-instance-method","name":"desc?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/search.cr","line_number":55,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/search.cr#L55"},"def":{"name":"desc?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == DESC"}}],"macros":[],"types":[]}]},{"html_id":"redis/Redis/Future","path":"Redis/Future.html","kind":"class","full_name":"Redis::Future","name":"Future","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/pipeline.cr","line_number":33,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/pipeline.cr#L33"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"A `Redis::Future` is what pipelined commands return. They will be resolved\nwith the value of the command that spawned them.","summary":"<p>A <code><a href=\"../Redis/Future.html\">Redis::Future</a></code> is what pipelined commands return.</p>","class_methods":[],"constructors":[],"instance_methods":[{"html_id":"resolve(value:Value)-instance-method","name":"resolve","doc":"Resolves a Future with the supplied Redis::Value","summary":"<p>Resolves a Future with the supplied Redis::Value</p>","abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Value"}],"args_string":"(value : Value)","args_html":"(value : <a href=\"../Redis/Value.html\">Value</a>)","location":{"filename":"src/pipeline.cr","line_number":38,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/pipeline.cr#L38"},"def":{"name":"resolve","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Value"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@resolved = true\n@value = value\n"}},{"html_id":"resolved?:Bool-instance-method","name":"resolved?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","args_html":" : Bool","location":{"filename":"src/pipeline.cr","line_number":35,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/pipeline.cr#L35"},"def":{"name":"resolved?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@resolved"}},{"html_id":"value-instance-method","name":"value","doc":"Read the value contained in this Future after it is resolved. If this\nmethod is called before the Future is resolved, it will raise a\n`Redis::Future::NotResolved` exception.","summary":"<p>Read the value contained in this Future after it is resolved.</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/pipeline.cr","line_number":46,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/pipeline.cr#L46"},"def":{"name":"value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if resolved?\n  @value\nelse\n  raise(NotResolved.new(\"Attempted to get the value of an unresolved Redis::Future\"))\nend"}}],"macros":[],"types":[{"html_id":"redis/Redis/Future/NotResolved","path":"Redis/Future/NotResolved.html","kind":"class","full_name":"Redis::Future::NotResolved","name":"NotResolved","abstract":false,"superclass":{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/pipeline.cr","line_number":57,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/pipeline.cr#L57"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Future","kind":"class","full_name":"Redis::Future","name":"Future"},"doc":"A `Redis::Future::NotResolved` is raised when attempting to access the\nvalue of a `Future` that has not been resolved yet. For example, calling\n`pipeline.get(\"my-key\").value`.","summary":"<p>A <code><a href=\"../../Redis/Future/NotResolved.html\">Redis::Future::NotResolved</a></code> is raised when attempting to access the value of a <code><a href=\"../../Redis/Future.html\">Future</a></code> that has not been resolved yet.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"redis/Redis/Graph","path":"Redis/Graph.html","kind":"module","full_name":"Redis::Graph","name":"Graph","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/graph.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L5"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":null,"summary":"<p><span class=\"flag lime\">EXPERIMENTAL</span>  Please don't use this in production yet. I'm not even sure what I'm doing here.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"redis/Redis/Graph/Client","path":"Redis/Graph/Client.html","kind":"struct","full_name":"Redis::Graph::Client","name":"Client","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":9,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L9"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(redis:Redis::Client,key:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"redis","doc":null,"default_value":"","external_name":"redis","restriction":"::Redis::Client"},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(redis : Redis::Client, key : String)","args_html":"(redis : <a href=\"../../Redis/Client.html\">Redis::Client</a>, key : String)","location":{"filename":"src/graph.cr","line_number":10,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L10"},"def":{"name":"new","args":[{"name":"redis","doc":null,"default_value":"","external_name":"redis","restriction":"::Redis::Client"},{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(redis, key)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"read_query(cypher:String)-instance-method","name":"read_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"cypher","doc":null,"default_value":"","external_name":"cypher","restriction":"String"}],"args_string":"(cypher : String)","args_html":"(cypher : String)","location":{"filename":"src/graph.cr","line_number":30,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L30"},"def":{"name":"read_query","args":[{"name":"cypher","doc":null,"default_value":"","external_name":"cypher","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(@redis.run({\"GRAPH.RO_QUERY\", @key, cypher})).as(Array)"}},{"html_id":"write_query(cypher:String)-instance-method","name":"write_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"cypher","doc":null,"default_value":"","external_name":"cypher","restriction":"String"}],"args_string":"(cypher : String)","args_html":"(cypher : String)","location":{"filename":"src/graph.cr","line_number":13,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L13"},"def":{"name":"write_query","args":[{"name":"cypher","doc":null,"default_value":"","external_name":"cypher","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(@redis.run({\"GRAPH.QUERY\", @key, cypher})).as(Array)"}},{"html_id":"write_query(cypher:String,**params:Property)-instance-method","name":"write_query","doc":null,"summary":null,"abstract":false,"args":[{"name":"cypher","doc":null,"default_value":"","external_name":"cypher","restriction":"String"}],"args_string":"(cypher : String, **params : Property)","args_html":"(cypher : String, **params : Property)","location":{"filename":"src/graph.cr","line_number":17,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L17"},"def":{"name":"write_query","args":[{"name":"cypher","doc":null,"default_value":"","external_name":"cypher","restriction":"String"}],"double_splat":{"name":"params","doc":null,"default_value":"","external_name":"params","restriction":"Property"},"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"cypher = String.build do |str|\n  str << \"CYPHER \"\n  params.each do |key, value|\n    (str << key) << '='\n    encode_param(value, str)\n  end\n  (str << ' ') << cypher.strip\nend\n(@redis.run({\"GRAPH.QUERY\", @key, cypher})).as(Array)\n"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/Graph/Error","path":"Redis/Graph/Error.html","kind":"class","full_name":"Redis::Graph::Error","name":"Error","abstract":false,"superclass":{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L6"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"redis/Redis/Graph/List","path":"Redis/Graph/List.html","kind":"alias","full_name":"Redis::Graph::List","name":"List","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/graph.cr","line_number":67,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L67"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"Array(Array(Array(Redis::Value) | Int64 | Redis::Graph::Node | String | Nil) | Array(Redis::Value) | Int64 | Redis::Graph::Node | String | Nil)","aliased_html":"Array(Array(Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | <a href=\"../../Redis/Graph/Node.html\">Redis::Graph::Node</a> | String | Nil) | Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | <a href=\"../../Redis/Graph/Node.html\">Redis::Graph::Node</a> | String | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"redis/Redis/Graph/Map","path":"Redis/Graph/Map.html","kind":"alias","full_name":"Redis::Graph::Map","name":"Map","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/graph.cr","line_number":68,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L68"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"Hash(String, Array(Redis::Value) | Int64 | String | Nil)","aliased_html":"Hash(String, Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | String | Nil)","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"redis/Redis/Graph/Node","path":"Redis/Graph/Node.html","kind":"struct","full_name":"Redis::Graph::Node","name":"Node","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":39,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L39"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"doc":null,"summary":null,"class_methods":[{"html_id":"from?(array:Array(Redis::Value))-class-method","name":"from?","doc":null,"summary":null,"abstract":false,"args":[{"name":"array","doc":null,"default_value":"","external_name":"array","restriction":"Array(Redis::Value)"}],"args_string":"(array : Array(Redis::Value))","args_html":"(array : Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>))","location":{"filename":"src/graph.cr","line_number":44,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L44"},"def":{"name":"from?","args":[{"name":"array","doc":null,"default_value":"","external_name":"array","restriction":"Array(Redis::Value)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if array.size != 3\n  return\nend\nif (array[0].as?(Array)).try(&.[]?(0)) == \"id\"\nelse\n  return\nend\nif (array[1].as?(Array)).try(&.[]?(0)) == \"labels\"\nelse\n  return\nend\nif (array[2].as?(Array)).try(&.[]?(0)) == \"properties\"\nelse\n  return\nend\nid = (array[0].as(Array))[1].as(Int64)\nlabels = ((array[1].as(Array))[1].as(Array)).map do |__arg3|\n  __arg3.as(String)\nend\nproperties = Map.new(initial_capacity: (array[2].as(Array)).size)\n((array[2].as(Array))[1].as(Array)).each do |prop|\n  key, value = prop.as(Array)\n  properties[key.as(String)] = value.as(Property)\nend\nnew(id, labels, properties)\n"}}],"constructors":[{"html_id":"new(id,labels,properties)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"labels","doc":null,"default_value":"","external_name":"labels","restriction":""},{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""}],"args_string":"(id, labels, properties)","args_html":"(id, labels, properties)","location":{"filename":"src/graph.cr","line_number":61,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L61"},"def":{"name":"new","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"labels","doc":null,"default_value":"","external_name":"labels","restriction":""},{"name":"properties","doc":null,"default_value":"","external_name":"properties","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(id, labels, properties)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"id:Int64-instance-method","name":"id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","args_html":" : Int64","location":{"filename":"src/graph.cr","line_number":40,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L40"},"def":{"name":"id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@id"}},{"html_id":"labels:Array(String)-instance-method","name":"labels","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","args_html":" : Array(String)","location":{"filename":"src/graph.cr","line_number":41,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L41"},"def":{"name":"labels","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"@labels"}},{"html_id":"properties:Hash(String,Property)-instance-method","name":"properties","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, Property)","args_html":" : Hash(String, <a href=\"../../Redis/Graph/Property.html\">Property</a>)","location":{"filename":"src/graph.cr","line_number":42,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L42"},"def":{"name":"properties","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Hash(String, Property)","visibility":"Public","body":"@properties"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/Graph/Property","path":"Redis/Graph/Property.html","kind":"alias","full_name":"Redis::Graph::Property","name":"Property","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/graph.cr","line_number":65,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L65"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"Redis::Value","aliased_html":"<a href=\"../../Redis/Value.html\">Redis::Value</a>","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"redis/Redis/Graph/Result","path":"Redis/Graph/Result.html","kind":"struct","full_name":"Redis::Graph::Result","name":"Result","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":70,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L70"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[{"html_id":"redis/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(raw:Array)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"raw","doc":null,"default_value":"","external_name":"raw","restriction":"Array"}],"args_string":"(raw : Array)","args_html":"(raw : Array)","location":{"filename":"src/graph.cr","line_number":81,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L81"},"def":{"name":"new","args":[{"name":"raw","doc":null,"default_value":"","external_name":"raw","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"columns, rows, metadata = raw\nlabels_added = 0_i64\nnodes_created = 0_i64\nproperties_set = 0_i64\ncached = false\nquery_time = 0.seconds\n(metadata.as(Array)).each do |item|\n  case item\n  when /Labels added: (\\d+)/\n    labels_added = $~[1].to_i64\n  when /Nodes created: (\\d+)/\n    nodes_created = $~[1].to_i64\n  when /Properties set: (\\d+)/\n    properties_set = $~[1].to_i64\n  when /Query internal execution time: (\\d+\\.\\d+) milliseconds/\n    query_time = $~[1].to_f64.milliseconds\n  when /Cached execution: (\\d+)/\n    cached = $~[1] != \"0\"\n  end\nend\nnew(columns: (columns.as(Array)).map do |__arg4|\n  __arg4.as(String)\nend, rows: (rows.as(Array)).map do |row|\n  row = row.as(Array)\n  list = List.new(initial_capacity: row.size)\n  row.each do |item|\n    (case item\n    in String, Int64, Nil\n      list << item\n    in Array\n      (list << (Node.from?(item))) || item\n    end).as(ResultValue | List)\n  end\n  list\nend, cached_execution: !(!(cached =~ (/1/))), duration: query_time, labels_added: labels_added, nodes_created: nodes_created, properties_set: properties_set)\n"}},{"html_id":"new(*,columns,rows,cached_execution,duration,labels_added,nodes_created,properties_set)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":""},{"name":"rows","doc":null,"default_value":"","external_name":"rows","restriction":""},{"name":"cached_execution","doc":null,"default_value":"","external_name":"cached_execution","restriction":""},{"name":"duration","doc":null,"default_value":"","external_name":"duration","restriction":""},{"name":"labels_added","doc":null,"default_value":"","external_name":"labels_added","restriction":""},{"name":"nodes_created","doc":null,"default_value":"","external_name":"nodes_created","restriction":""},{"name":"properties_set","doc":null,"default_value":"","external_name":"properties_set","restriction":""}],"args_string":"(*, columns, rows, cached_execution, duration, labels_added, nodes_created, properties_set)","args_html":"(*, columns, rows, cached_execution, duration, labels_added, nodes_created, properties_set)","location":{"filename":"src/graph.cr","line_number":127,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L127"},"def":{"name":"new","args":[{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"columns","doc":null,"default_value":"","external_name":"columns","restriction":""},{"name":"rows","doc":null,"default_value":"","external_name":"rows","restriction":""},{"name":"cached_execution","doc":null,"default_value":"","external_name":"cached_execution","restriction":""},{"name":"duration","doc":null,"default_value":"","external_name":"duration","restriction":""},{"name":"labels_added","doc":null,"default_value":"","external_name":"labels_added","restriction":""},{"name":"nodes_created","doc":null,"default_value":"","external_name":"nodes_created","restriction":""},{"name":"properties_set","doc":null,"default_value":"","external_name":"properties_set","restriction":""}],"double_splat":null,"splat_index":0,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(columns: columns, rows: rows, cached_execution: cached_execution, duration: duration, labels_added: labels_added, nodes_created: nodes_created, properties_set: properties_set)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"cached_execution?:Bool-instance-method","name":"cached_execution?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","args_html":" : Bool","location":{"filename":"src/graph.cr","line_number":75,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L75"},"def":{"name":"cached_execution?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@cached_execution"}},{"html_id":"columns:Array(String)-instance-method","name":"columns","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(String)","args_html":" : Array(String)","location":{"filename":"src/graph.cr","line_number":73,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L73"},"def":{"name":"columns","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"@columns"}},{"html_id":"duration:Time::Span-instance-method","name":"duration","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Time::Span","args_html":" : Time::Span","location":{"filename":"src/graph.cr","line_number":76,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L76"},"def":{"name":"duration","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Time::Span","visibility":"Public","body":"@duration"}},{"html_id":"each(&)-instance-method","name":"each","doc":"Must yield this collection's elements to the block.","summary":"<p>Must yield this collection's elements to the block.</p>","abstract":false,"args":[],"args_string":"(&)","args_html":"(&)","location":{"filename":"src/graph.cr","line_number":130,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L130"},"def":{"name":"each","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":null,"return_type":"","visibility":"Public","body":"@rows.each do |row|\n  yield row\nend"}},{"html_id":"labels_added:Int64-instance-method","name":"labels_added","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","args_html":" : Int64","location":{"filename":"src/graph.cr","line_number":77,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L77"},"def":{"name":"labels_added","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@labels_added"}},{"html_id":"nodes_created:Int64-instance-method","name":"nodes_created","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","args_html":" : Int64","location":{"filename":"src/graph.cr","line_number":78,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L78"},"def":{"name":"nodes_created","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@nodes_created"}},{"html_id":"properties_set:Int64-instance-method","name":"properties_set","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","args_html":" : Int64","location":{"filename":"src/graph.cr","line_number":79,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L79"},"def":{"name":"properties_set","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@properties_set"}},{"html_id":"rows:Array(List)-instance-method","name":"rows","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(List)","args_html":" : Array(<a href=\"../../Redis/Graph/List.html\">List</a>)","location":{"filename":"src/graph.cr","line_number":74,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L74"},"def":{"name":"rows","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(List)","visibility":"Public","body":"@rows"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/Graph/ResultValue","path":"Redis/Graph/ResultValue.html","kind":"alias","full_name":"Redis::Graph::ResultValue","name":"ResultValue","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/graph.cr","line_number":66,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/graph.cr#L66"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"(Array(Redis::Value) | Int64 | Redis::Graph::Node | String | Nil)","aliased_html":"Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | <a href=\"../../Redis/Graph/Node.html\">Redis::Graph::Node</a> | String | Nil","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]},{"html_id":"redis/Redis/JSON","path":"Redis/JSON.html","kind":"struct","full_name":"Redis::JSON(Runnable)","name":"JSON","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/json.cr","line_number":36,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L36"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"`Redis::JSON` wraps a `Redis::Client` or `Redis::Cluster` to execute\ncommands against keys storing JSON data using the\n[RedisJSON](https://oss.redis.com/redisjson/) plugin for Redis.\n\n```\nrequire \"redis\"\nrequire \"redis/json\"\nrequire \"uuid/json\"\n\nstruct Person\n  include JSON::Serializable\n\n  getter id : UUID\n  getter name : String\n  getter email : String\n\n  def initialize(@id, @name, @email)\n  end\nend\n\nredis = Redis::Client.new\n\nid = UUID.random\n\nredis.json.set \"person:#{id}\", \".\", Person.new(id, \"Jamie\", \"jamie@example.com\")\nredis.json.get(\"person:#{id}\", \".\", as: Person)\n# => Person(@email=\"jamie@example.com\", @id=UUID(081af617-6b50-48d3-b53f-dbc17a1072f5), @name=\"Jamie\")\nredis.json.get(\"person:#{id}\", \".name\", as: String)\n# => \"Jamie\"\n```","summary":"<p><code><a href=\"../Redis/JSON.html\">Redis::JSON</a></code> wraps a <code><a href=\"../Redis/Client.html\">Redis::Client</a></code> or <code><a href=\"../Redis/Cluster.html\">Redis::Cluster</a></code> to execute commands against keys storing JSON data using the <a href=\"https://oss.redis.com/redisjson/\">RedisJSON</a> plugin for Redis.</p>","class_methods":[],"constructors":[{"html_id":"new(redis:Runnable)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"redis","doc":null,"default_value":"","external_name":"redis","restriction":"Runnable"}],"args_string":"(redis : Runnable)","args_html":"(redis : Runnable)","location":{"filename":"src/json.cr","line_number":37,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L37"},"def":{"name":"new","args":[{"name":"redis","doc":null,"default_value":"","external_name":"redis","restriction":"Runnable"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = JSON(Runnable).allocate\n_.initialize(redis)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"arrappend(key:String,path:String,value)-instance-method","name":"arrappend","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(key : String, path : String, value)","args_html":"(key : String, path : String, value)","location":{"filename":"src/json.cr","line_number":192,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L192"},"def":{"name":"arrappend","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@redis.run({\"json.arrappend\", key, path, value.to_json})"}},{"html_id":"arrappend(key:String,path:String,*,values:Array)-instance-method","name":"arrappend","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array"}],"args_string":"(key : String, path : String, *, values : Array)","args_html":"(key : String, path : String, *, values : Array)","location":{"filename":"src/json.cr","line_number":196,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L196"},"def":{"name":"arrappend","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array"}],"double_splat":null,"splat_index":2,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 3 + values.size)\n((command << \"json.arrappend\") << key) << path\nvalues.each do |value|\n  command << value.to_json\nend\n@redis.run(command)\n"}},{"html_id":"arrindex(key:String,path:String,value,betweenrange:Range(Int,Int?))-instance-method","name":"arrindex","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"range","doc":null,"default_value":"","external_name":"between","restriction":"Range(Int, Int | ::Nil)"}],"args_string":"(key : String, path : String, value, between range : Range(Int, Int?))","args_html":"(key : String, path : String, value, between range : Range(Int, Int?))","location":{"filename":"src/json.cr","line_number":210,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L210"},"def":{"name":"arrindex","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"range","doc":null,"default_value":"","external_name":"between","restriction":"Range(Int, Int | ::Nil)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = {\"json.arrindex\", key, path, value.to_json, range.begin.to_s}\nif last = range.end\n  if range.excludes_end?\n    command = command + {last.to_s}\n  else\n    command = command + {(last + 1).to_s}\n  end\nend\n@redis.run(command)\n"}},{"html_id":"arrindex(key:String,path:String,value)-instance-method","name":"arrindex","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(key : String, path : String, value)","args_html":"(key : String, path : String, value)","location":{"filename":"src/json.cr","line_number":206,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L206"},"def":{"name":"arrindex","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@redis.run({\"json.arrindex\", key, path, value.to_json})"}},{"html_id":"arrinsert(key:String,path:String,index:Int,value)-instance-method","name":"arrinsert","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"Int"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"args_string":"(key : String, path : String, index : Int, value)","args_html":"(key : String, path : String, index : Int, value)","location":{"filename":"src/json.cr","line_number":223,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L223"},"def":{"name":"arrinsert","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"Int"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@redis.run({\"json.arrinsert\", key, path, index.to_s, value.to_json})"}},{"html_id":"arrinsert(key:String,path:String,index:Int,*,values:Array)-instance-method","name":"arrinsert","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"Int"},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array"}],"args_string":"(key : String, path : String, index : Int, *, values : Array)","args_html":"(key : String, path : String, index : Int, *, values : Array)","location":{"filename":"src/json.cr","line_number":227,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L227"},"def":{"name":"arrinsert","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"Int"},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"values","doc":null,"default_value":"","external_name":"values","restriction":"Array"}],"double_splat":null,"splat_index":3,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 4 + values.size)\n(((command << \"json.arrinsert\") << key) << path) << index.to_s\nvalues.each do |value|\n  command << value.to_json\nend\n@redis.run(command)\n"}},{"html_id":"arrlen(key:String,path:String)-instance-method","name":"arrlen","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"args_string":"(key : String, path : String)","args_html":"(key : String, path : String)","location":{"filename":"src/json.cr","line_number":237,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L237"},"def":{"name":"arrlen","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@redis.run({\"json.arrlen\", key, path})"}},{"html_id":"arrpop(key:String,path:String?=nil,*,index:Int=-1)-instance-method","name":"arrpop","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"nil","external_name":"path","restriction":"String | ::Nil"},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"index","doc":null,"default_value":"-1","external_name":"index","restriction":"Int"}],"args_string":"(key : String, path : String? = nil, *, index : Int = -1)","args_html":"(key : String, path : String? = <span class=\"n\">nil</span>, *, index : Int = <span class=\"n\">-1</span>)","location":{"filename":"src/json.cr","line_number":241,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L241"},"def":{"name":"arrpop","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"nil","external_name":"path","restriction":"String | ::Nil"},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"index","doc":null,"default_value":"-1","external_name":"index","restriction":"Int"}],"double_splat":null,"splat_index":2,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = {\"json.arrpop\", key}\nif path\n  command = command + {path}\n  if index != -1\n    command = command + {index.to_s}\n  end\nend\n@redis.run(command)\n"}},{"html_id":"arrpop(key:String,path:String,*,as:T.class):T?forallT-instance-method","name":"arrpop","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"as","doc":null,"default_value":"","external_name":"as","restriction":"T.class"}],"args_string":"(key : String, path : String, *, as : T.class) : T? forall T","args_html":"(key : String, path : String, *, as : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : T? forall T","location":{"filename":"src/json.cr","line_number":251,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L251"},"def":{"name":"arrpop","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"as","doc":null,"default_value":"","external_name":"as","restriction":"T.class"}],"double_splat":null,"splat_index":2,"yields":null,"block_arg":null,"return_type":"T | ::Nil","visibility":"Public","body":"if result = @redis.run({\"json.arrpop\", key, path})\n  T.from_json(result.as(String))\nend"}},{"html_id":"get(key:String,path:String,astype:T.class):T?forallT-instance-method","name":"get","doc":"Get the value stored at the given JSONPath inside the given `key`,\ndeserializing the value into the type `T`. You can use this to deserialize\nyour custom `JSON::Serializable` objects.\n\n```\nstruct Order\n  include JSON::Serializable\n  getter id : UUID\n  getter customer_id : UUID\n  getter line_items : Array(LineItem)\nend\n\nstruct LineItem\n  include JSON::Serializable\n  getter product_id : UUID\n  getter quantity : Int32\n  getter unit_price_cents : Int32\nend\n\n# Get the Order at the root\nredis.json.get(\"order:#{id}\", \".\", as: Order)\n# Get the LineItems at the `.line_items` JSONPath\n# Note the `$` at the beginning to make it an array\nredis.json.get(\"order:#{id}\", \"$.line_items\", as: Array(LineItem))\n# Get only the `product_id` properties of all the `line_items`\nredis.json.get(\"order:#{id}\", \"$.line_items..product_id\", as: Array(UUID))\n```\n\nNOTE: This method _cannot_ be used in a pipeline or `Redis::Connection#multi`\nblock because it operates on the value returned from the Redis server\ninside the method, which isn't possible when using pipelines or `multi`.","summary":"<p>Get the value stored at the given JSONPath inside the given <code>key</code>, deserializing the value into the type <code>T</code>.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"type","doc":null,"default_value":"","external_name":"as","restriction":"T.class"}],"args_string":"(key : String, path : String, as type : T.class) : T? forall T","args_html":"(key : String, path : String, as type : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : T? forall T","location":{"filename":"src/json.cr","line_number":138,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L138"},"def":{"name":"get","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"type","doc":null,"default_value":"","external_name":"as","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T | ::Nil","visibility":"Public","body":"if result = @redis.run({\"json.get\", key, path})\n  T.from_json(result.as(String))\nend"}},{"html_id":"get(key:String,path:String)-instance-method","name":"get","doc":"Get the raw JSON string representation at the given `key` nested at the\ngiven JSONPath.\n\n```\nemail = redis.json.get(\"user:#{id}\", \".email\").as(String)\n# => \"me@example.com\"\n```","summary":"<p>Get the raw JSON string representation at the given <code>key</code> nested at the given JSONPath.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"args_string":"(key : String, path : String)","args_html":"(key : String, path : String)","location":{"filename":"src/json.cr","line_number":84,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L84"},"def":{"name":"get","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@redis.run({\"json.get\", key, path})"}},{"html_id":"get(key:String,paths:Array(String),astype:T.class=::JSON::Any)forallT-instance-method","name":"get","doc":"Get the values stored at the specifed JSONPaths, deserializing them into\nthe specified type as values in a `Hash`.\n\n```\nif result = redis.json.get(\"posts:#{id}\", %w[title tags], as: String | Array(String))\n  result         # => {\"title\" => \"JSON with Redis\", tags: [\"redis\", \"json\", \"crystal\"]}\n  typeof(result) # => Hash(String, String | Array(String))\nend\n```\n\nNOTE: This method _cannot_ be used in a pipeline or `Redis::Connection#multi`\nblock because it operates on the value returned from the Redis server,\nwhich isn't a thing when using pipelines or `multi`.","summary":"<p>Get the values stored at the specifed JSONPaths, deserializing them into the specified type as values in a <code>Hash</code>.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"paths","doc":null,"default_value":"","external_name":"paths","restriction":"Array(String)"},{"name":"type","doc":null,"default_value":"::JSON::Any","external_name":"as","restriction":"T.class"}],"args_string":"(key : String, paths : Array(String), as type : T.class = ::JSON::Any) forall T","args_html":"(key : String, paths : Array(String), as type : <span class=\"t\">T</span>.<span class=\"k\">class</span> = <span class=\"t\">::</span><span class=\"t\">JSON</span><span class=\"t\">::</span><span class=\"t\">Any</span>) forall T","location":{"filename":"src/json.cr","line_number":101,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L101"},"def":{"name":"get","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"paths","doc":null,"default_value":"","external_name":"paths","restriction":"Array(String)"},{"name":"type","doc":null,"default_value":"::JSON::Any","external_name":"as","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if result = @redis.run([\"json.get\", key] + paths)\n  Hash(String, T).from_json(result.as(String))\nend"}},{"html_id":"get(key:String)-instance-method","name":"get","doc":"Get the raw JSON string at the specified `key`","summary":"<p>Get the raw JSON string at the specified <code>key</code></p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/json.cr","line_number":73,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L73"},"def":{"name":"get","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@redis.run({\"json.get\", key})"}},{"html_id":"mget(keys:Array(String),path:String,astype:T.class):Array(T?)forallT-instance-method","name":"mget","doc":"Get the values for all `keys` at the specified JSONPaths.\n\nNOTE: This method _cannot_ be used in a pipeline or `Redis::Connection#multi`\nblock because it operates on the value returned from the Redis server\ninside the method, which isn't possible when using pipelines or `multi`.\nNOTE: If you are using a cluster, the `keys` _must_ all be on the same\nshard, or you may only get some of them back with this method. When using\n`mget` in a cluster, you'll most likely want to use subhashed keys (with\n`{}` around the same part of the name) to ensure all keys are on the same\nshard.","summary":"<p>Get the values for all <code>keys</code> at the specified JSONPaths.</p>","abstract":false,"args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"Array(String)"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"type","doc":null,"default_value":"","external_name":"as","restriction":"T.class"}],"args_string":"(keys : Array(String), path : String, as type : T.class) : Array(T?) forall T","args_html":"(keys : Array(String), path : String, as type : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : Array(T?) forall T","location":{"filename":"src/json.cr","line_number":154,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L154"},"def":{"name":"mget","args":[{"name":"keys","doc":null,"default_value":"","external_name":"keys","restriction":"Array(String)"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"type","doc":null,"default_value":"","external_name":"as","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(T | ::Nil)","visibility":"Public","body":"if result = @redis.run(([\"json.mget\"] + keys) + [path])\n  (result.as(Array)).map do |value|\n    if value\n      T.from_json(value.as(String))\n    end\n  end\nelse\n  raise(\"lolwut?\")\nend"}},{"html_id":"numincrby(key:String,path:String,count:String|Int,astype:T.class):TforallT-instance-method","name":"numincrby","doc":"Increment the number at the specified JSONPath\n\n```\nredis.json.numincrby \"product:#{id}\", \".purchase_count\", 1, as: Int64\n# => 2\n```\n\nIf `key` exists and an incrementable number exists at the specified\nJSONPath (including the possibility of incrementing multiple numbers if\nthe JSONPath resolves to multiple numeric values), then this method\nreturns a value of type `T`. If the JSONPath resolves to multiple values\n(for example, it begins with \"$\" or is recursive), you will need to\nspecify that it can be an `Array` of that type.","summary":"<p>Increment the number at the specified JSONPath</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"String | Int"},{"name":"type","doc":null,"default_value":"","external_name":"as","restriction":"T.class"}],"args_string":"(key : String, path : String, count : String | Int, as type : T.class) : T forall T","args_html":"(key : String, path : String, count : String | Int, as type : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : T forall T","location":{"filename":"src/json.cr","line_number":188,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L188"},"def":{"name":"numincrby","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"String | Int"},{"name":"type","doc":null,"default_value":"","external_name":"as","restriction":"T.class"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"T","visibility":"Public","body":"T.from_json((numincrby(key, path, count)).as(String))"}},{"html_id":"numincrby(key:String,path:String,count:String|Int)-instance-method","name":"numincrby","doc":"Increment the number at the specified JSONPath\n\n```\nredis.json.numincrby \"product:#{id}\", \".purchase_count\", 1\n```","summary":"<p>Increment the number at the specified JSONPath</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"String | Int"}],"args_string":"(key : String, path : String, count : String | Int)","args_html":"(key : String, path : String, count : String | Int)","location":{"filename":"src/json.cr","line_number":171,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L171"},"def":{"name":"numincrby","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"count","doc":null,"default_value":"","external_name":"count","restriction":"String | Int"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@redis.run({\"json.numincrby\", key, path, count.to_s})"}},{"html_id":"set(key:String,path:String,value,*,nx=false,xx=false):Nil-instance-method","name":"set","doc":"Set the given key to the given JSON `value`. The `value` will have\n`to_json` called on it automatically. The `nx` and `xx` arguments are\nidentical to `Redis::Commands#set`.\n\nStore a user at the root JSONPath (`.`) of the specified key:\n\n```\nstruct User\n  include JSON::Serializable\n\n  getter id : UUID\n  getter name : String\n  getter email : String\nend\n\nredis.json.set \"user:#{user.id}\", \".\", user\n```\n\nUpdate (with `xx` so we ensure the key exists) a user's email by setting\nthe new email value at the `.email` JSONPath:\n\n```\nredis.json.set \"user:#{id}\", \".email\", new_email, xx: true\n```","summary":"<p>Set the given key to the given JSON <code>value</code>.</p>","abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"nx","doc":null,"default_value":"false","external_name":"nx","restriction":""},{"name":"xx","doc":null,"default_value":"false","external_name":"xx","restriction":""}],"args_string":"(key : String, path : String, value, *, nx = false, xx = false) : Nil","args_html":"(key : String, path : String, value, *, nx = <span class=\"n\">false</span>, xx = <span class=\"n\">false</span>) : Nil","location":{"filename":"src/json.cr","line_number":64,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/json.cr#L64"},"def":{"name":"set","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":""},{"name":"","doc":null,"default_value":"","external_name":"","restriction":""},{"name":"nx","doc":null,"default_value":"false","external_name":"nx","restriction":""},{"name":"xx","doc":null,"default_value":"false","external_name":"xx","restriction":""}],"double_splat":null,"splat_index":3,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"command = {\"json.set\", key, path, value.to_json}\nif nx\n  command = command + {\"nx\"}\nend\nif xx\n  command = command + {\"xx\"}\nend\n@redis.run(command)\n"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/NoGroup","path":"Redis/NoGroup.html","kind":"class","full_name":"Redis::NoGroup","name":"NoGroup","abstract":false,"superclass":{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":7,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/errors.cr#L7"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]},{"html_id":"redis/Redis/Parser","path":"Redis/Parser.html","kind":"struct","full_name":"Redis::Parser","name":"Parser","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/parser.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/parser.cr#L5"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(io:IO)-class-method","name":"new","doc":"Initialize a parser to read from the given IO","summary":"<p>Initialize a parser to read from the given IO</p>","abstract":false,"args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/parser.cr","line_number":7,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/parser.cr#L7"},"def":{"name":"new","args":[{"name":"io","doc":null,"default_value":"","external_name":"io","restriction":"IO"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(io)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"read:Value-instance-method","name":"read","doc":"Read a `Redis::Value` from the parser's `IO`\n\nExample:\n\n```\nio = IO::Memory.new\nio << \"$3\\r\\n\"\nio << \"foo\\r\\n\"\nio.rewind\n\nParser.new(io).read # => \"foo\"\n```","summary":"<p>Read a <code><a href=\"../Redis/Value.html\">Redis::Value</a></code> from the parser's <code>IO</code></p>","abstract":false,"args":[],"args_string":" : Value","args_html":" : <a href=\"../Redis/Value.html\">Value</a>","location":{"filename":"src/parser.cr","line_number":22,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/parser.cr#L22"},"def":{"name":"read","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Value","visibility":"Public","body":"case byte_marker = @io.read_byte\nwhen ':'\n  parse_int.tap do\n    @io.skip(2)\n  end\nwhen '*'\n  length = parse_int\n  @io.skip(2)\n  if length >= 0\n    Array.new(length) do\n      read\n    end\n  end\nwhen '$'\n  length = parse_int\n  @io.skip(2)\n  if length >= 0\n    value = @io.read_string(length)\n    @io.skip(2)\n    value\n  end\nwhen '+'\n  @io.read_line\nwhen '-'\n  type, message = @io.read_line.split(' ', 2)\n  raise(ERROR_MAP[type].new(\"#{type} #{message}\"))\nwhen nil\n  raise(IO::Error.new(\"Connection closed\"))\nelse\n  raise(\"Invalid byte marker: #{byte_marker.chr.inspect}\")\nend"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/Pipeline","path":"Redis/Pipeline.html","kind":"class","full_name":"Redis::Pipeline","name":"Pipeline","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/pipeline.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/pipeline.cr#L6"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(connection:Connection)-class-method","name":"new","doc":"Wraps a connection so that our `run` and `commit` methods can execute against it.","summary":"<p>Wraps a connection so that our <code><a href=\"../Redis/Pipeline.html#run%28command%29-instance-method\">#run</a></code> and <code><a href=\"../Redis/Pipeline.html#commit-instance-method\">#commit</a></code> methods can execute against it.</p>","abstract":false,"args":[{"name":"connection","doc":null,"default_value":"","external_name":"connection","restriction":"Connection"}],"args_string":"(connection : Connection)","args_html":"(connection : <a href=\"../Redis/Connection.html\">Connection</a>)","location":{"filename":"src/pipeline.cr","line_number":12,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/pipeline.cr#L12"},"def":{"name":"new","args":[{"name":"connection","doc":null,"default_value":"","external_name":"connection","restriction":"Connection"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(connection)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"commit-instance-method","name":"commit","doc":"Read all of the return values from all of the commands we've sent to Redis\nand resolve all `Redis::Future`s with them in the order they were sent.","summary":"<p>Read all of the return values from all of the commands we've sent to Redis and resolve all <code><a href=\"../Redis/Future.html\">Redis::Future</a></code>s with them in the order they were sent.</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/pipeline.cr","line_number":26,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/pipeline.cr#L26"},"def":{"name":"commit","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@futures.map(&.resolve(@connection.read))"}},{"html_id":"run(command)-instance-method","name":"run","doc":"The `run` method is required by the `Commands` mixin. When you run a Redis\ncommand, it gets pushed to the server via this method.","summary":"<p>The <code><a href=\"../Redis/Pipeline.html#run%28command%29-instance-method\">#run</a></code> method is required by the <code><a href=\"../Redis/Commands.html\">Commands</a></code> mixin.</p>","abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command)","args_html":"(command)","location":{"filename":"src/pipeline.cr","line_number":17,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/pipeline.cr#L17"},"def":{"name":"run","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@connection.encode(command)\nfuture = Future.new\n@futures << future\nfuture\n"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/Streaming","path":"Redis/Streaming.html","kind":"module","full_name":"Redis::Streaming","name":"Streaming","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/streaming.cr","line_number":4,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L4"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"redis/Redis/Streaming/Message","path":"Redis/Streaming/Message.html","kind":"struct","full_name":"Redis::Streaming::Message","name":"Message","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":92,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L92"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Streaming","kind":"module","full_name":"Redis::Streaming","name":"Streaming"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(message:Array)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"Array"}],"args_string":"(message : Array)","args_html":"(message : Array)","location":{"filename":"src/streaming.cr","line_number":95,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L95"},"def":{"name":"new","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"id:String-instance-method","name":"id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/streaming.cr","line_number":93,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L93"},"def":{"name":"id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@id"}},{"html_id":"values:Hash(String,String)-instance-method","name":"values","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Hash(String, String)","args_html":" : Hash(String, String)","location":{"filename":"src/streaming.cr","line_number":93,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L93"},"def":{"name":"values","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@values"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/Streaming/XAutoClaimResponse","path":"Redis/Streaming/XAutoClaimResponse.html","kind":"struct","full_name":"Redis::Streaming::XAutoClaimResponse","name":"XAutoClaimResponse","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":77,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L77"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Streaming","kind":"module","full_name":"Redis::Streaming","name":"Streaming"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(response:Array)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"response","doc":null,"default_value":"","external_name":"response","restriction":"Array"}],"args_string":"(response : Array)","args_html":"(response : Array)","location":{"filename":"src/streaming.cr","line_number":81,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L81"},"def":{"name":"new","args":[{"name":"response","doc":null,"default_value":"","external_name":"response","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(response)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"id:String-instance-method","name":"id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/streaming.cr","line_number":78,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L78"},"def":{"name":"id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@id"}},{"html_id":"messages:Array(Message)-instance-method","name":"messages","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Message)","args_html":" : Array(<a href=\"../../Redis/Streaming/Message.html\">Message</a>)","location":{"filename":"src/streaming.cr","line_number":79,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L79"},"def":{"name":"messages","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Message)","visibility":"Public","body":"@messages"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/Streaming/XPendingBaseResponse","path":"Redis/Streaming/XPendingBaseResponse.html","kind":"struct","full_name":"Redis::Streaming::XPendingBaseResponse","name":"XPendingBaseResponse","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L5"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Streaming","kind":"module","full_name":"Redis::Streaming","name":"Streaming"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(response:Array)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"response","doc":null,"default_value":"","external_name":"response","restriction":"Array"}],"args_string":"(response : Array)","args_html":"(response : Array)","location":{"filename":"src/streaming.cr","line_number":8,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L8"},"def":{"name":"new","args":[{"name":"response","doc":null,"default_value":"","external_name":"response","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(response)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"count:Int64-instance-method","name":"count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","args_html":" : Int64","location":{"filename":"src/streaming.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L6"},"def":{"name":"count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@count"}},{"html_id":"data:Array(Data)-instance-method","name":"data","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Data)","args_html":" : Array(<a href=\"../../Redis/Streaming/XPendingBaseResponse/Data.html\">Data</a>)","location":{"filename":"src/streaming.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L6"},"def":{"name":"data","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Data)","visibility":"Public","body":"@data"}},{"html_id":"earliest:String-instance-method","name":"earliest","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/streaming.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L6"},"def":{"name":"earliest","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@earliest"}},{"html_id":"latest:String-instance-method","name":"latest","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/streaming.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L6"},"def":{"name":"latest","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@latest"}}],"macros":[],"types":[{"html_id":"redis/Redis/Streaming/XPendingBaseResponse/Data","path":"Redis/Streaming/XPendingBaseResponse/Data.html","kind":"struct","full_name":"Redis::Streaming::XPendingBaseResponse::Data","name":"Data","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":21,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L21"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Streaming/XPendingBaseResponse","kind":"struct","full_name":"Redis::Streaming::XPendingBaseResponse","name":"XPendingBaseResponse"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(consumer:String,pending_count:Int64)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"consumer","doc":null,"default_value":"","external_name":"consumer","restriction":"String"},{"name":"pending_count","doc":null,"default_value":"","external_name":"pending_count","restriction":"Int64"}],"args_string":"(consumer : String, pending_count : Int64)","args_html":"(consumer : String, pending_count : Int64)","location":{"filename":"src/streaming.cr","line_number":21,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L21"},"def":{"name":"new","args":[{"name":"consumer","doc":null,"default_value":"","external_name":"consumer","restriction":"String"},{"name":"pending_count","doc":null,"default_value":"","external_name":"pending_count","restriction":"Int64"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(consumer, pending_count)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/streaming.cr","line_number":21,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L21"},"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.class.new(@consumer.clone, @pending_count.clone)"}},{"html_id":"consumer:String-instance-method","name":"consumer","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":null,"def":{"name":"consumer","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@consumer"}},{"html_id":"copy_with(consumer_consumer=@consumer,pending_count_pending_count=@pending_count)-instance-method","name":"copy_with","doc":null,"summary":null,"abstract":false,"args":[{"name":"_consumer","doc":null,"default_value":"@consumer","external_name":"consumer","restriction":""},{"name":"_pending_count","doc":null,"default_value":"@pending_count","external_name":"pending_count","restriction":""}],"args_string":"(consumer _consumer = @consumer, pending_count _pending_count = @pending_count)","args_html":"(consumer _consumer = @consumer, pending_count _pending_count = @pending_count)","location":{"filename":"src/streaming.cr","line_number":21,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L21"},"def":{"name":"copy_with","args":[{"name":"_consumer","doc":null,"default_value":"@consumer","external_name":"consumer","restriction":""},{"name":"_pending_count","doc":null,"default_value":"@pending_count","external_name":"pending_count","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.class.new(_consumer, _pending_count)"}},{"html_id":"pending_count:Int64-instance-method","name":"pending_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","args_html":" : Int64","location":null,"def":{"name":"pending_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@pending_count"}}],"macros":[],"types":[]}]},{"html_id":"redis/Redis/Streaming/XPendingExtendedResponse","path":"Redis/Streaming/XPendingExtendedResponse.html","kind":"struct","full_name":"Redis::Streaming::XPendingExtendedResponse","name":"XPendingExtendedResponse","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":24,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L24"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Streaming","kind":"module","full_name":"Redis::Streaming","name":"Streaming"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(data:Array,now:Time=Time.utc)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Array"},{"name":"now","doc":null,"default_value":"Time.utc","external_name":"now","restriction":"Time"}],"args_string":"(data : Array, now : Time = Time.utc)","args_html":"(data : Array, now : Time = <span class=\"t\">Time</span>.utc)","location":{"filename":"src/streaming.cr","line_number":27,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L27"},"def":{"name":"new","args":[{"name":"data","doc":null,"default_value":"","external_name":"data","restriction":"Array"},{"name":"now","doc":null,"default_value":"Time.utc","external_name":"now","restriction":"Time"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(data, now)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"messages:Array(MessageData)-instance-method","name":"messages","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(MessageData)","args_html":" : Array(<a href=\"../../Redis/Streaming/XPendingExtendedResponse/MessageData.html\">MessageData</a>)","location":{"filename":"src/streaming.cr","line_number":25,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L25"},"def":{"name":"messages","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(MessageData)","visibility":"Public","body":"@messages"}}],"macros":[],"types":[{"html_id":"redis/Redis/Streaming/XPendingExtendedResponse/MessageData","path":"Redis/Streaming/XPendingExtendedResponse/MessageData.html","kind":"struct","full_name":"Redis::Streaming::XPendingExtendedResponse::MessageData","name":"MessageData","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":40,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L40"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Streaming/XPendingExtendedResponse","kind":"struct","full_name":"Redis::Streaming::XPendingExtendedResponse","name":"XPendingExtendedResponse"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(id,consumer,last_delivered_at,delivery_count)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"consumer","doc":null,"default_value":"","external_name":"consumer","restriction":""},{"name":"last_delivered_at","doc":null,"default_value":"","external_name":"last_delivered_at","restriction":""},{"name":"delivery_count","doc":null,"default_value":"","external_name":"delivery_count","restriction":""}],"args_string":"(id, consumer, last_delivered_at, delivery_count)","args_html":"(id, consumer, last_delivered_at, delivery_count)","location":{"filename":"src/streaming.cr","line_number":46,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L46"},"def":{"name":"new","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":""},{"name":"consumer","doc":null,"default_value":"","external_name":"consumer","restriction":""},{"name":"last_delivered_at","doc":null,"default_value":"","external_name":"last_delivered_at","restriction":""},{"name":"delivery_count","doc":null,"default_value":"","external_name":"delivery_count","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(id, consumer, last_delivered_at, delivery_count)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"age-instance-method","name":"age","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/streaming.cr","line_number":49,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L49"},"def":{"name":"age","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Time.utc - last_delivered_at"}},{"html_id":"consumer:String-instance-method","name":"consumer","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/streaming.cr","line_number":42,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L42"},"def":{"name":"consumer","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@consumer"}},{"html_id":"delivery_count:Int64-instance-method","name":"delivery_count","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int64","args_html":" : Int64","location":{"filename":"src/streaming.cr","line_number":44,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L44"},"def":{"name":"delivery_count","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int64","visibility":"Public","body":"@delivery_count"}},{"html_id":"id:String-instance-method","name":"id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/streaming.cr","line_number":41,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L41"},"def":{"name":"id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@id"}},{"html_id":"last_delivered_at:Time-instance-method","name":"last_delivered_at","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Time","args_html":" : Time","location":{"filename":"src/streaming.cr","line_number":43,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L43"},"def":{"name":"last_delivered_at","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Time","visibility":"Public","body":"@last_delivered_at"}}],"macros":[],"types":[]}]},{"html_id":"redis/Redis/Streaming/XReadGroupResponse","path":"Redis/Streaming/XReadGroupResponse.html","kind":"struct","full_name":"Redis::Streaming::XReadGroupResponse","name":"XReadGroupResponse","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":55,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L55"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Streaming","kind":"module","full_name":"Redis::Streaming","name":"Streaming"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(response:Array(Redis::Value))-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"response","doc":null,"default_value":"","external_name":"response","restriction":"Array(Redis::Value)"}],"args_string":"(response : Array(Redis::Value))","args_html":"(response : Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>))","location":{"filename":"src/streaming.cr","line_number":58,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L58"},"def":{"name":"new","args":[{"name":"response","doc":null,"default_value":"","external_name":"response","restriction":"Array(Redis::Value)"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(response)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"results:Array(Redis::Streaming::XReadGroupResponse::Result)-instance-method","name":"results","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Redis::Streaming::XReadGroupResponse::Result)","args_html":" : Array(<a href=\"../../Redis/Streaming/XReadGroupResponse/Result.html\">Redis::Streaming::XReadGroupResponse::Result</a>)","location":{"filename":"src/streaming.cr","line_number":56,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L56"},"def":{"name":"results","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@results"}}],"macros":[],"types":[{"html_id":"redis/Redis/Streaming/XReadGroupResponse/Result","path":"Redis/Streaming/XReadGroupResponse/Result.html","kind":"struct","full_name":"Redis::Streaming::XReadGroupResponse::Result","name":"Result","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":67,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L67"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/Streaming/XReadGroupResponse","kind":"struct","full_name":"Redis::Streaming::XReadGroupResponse","name":"XReadGroupResponse"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(key:String,messages:Array)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"messages","doc":null,"default_value":"","external_name":"messages","restriction":"Array"}],"args_string":"(key : String, messages : Array)","args_html":"(key : String, messages : Array)","location":{"filename":"src/streaming.cr","line_number":71,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L71"},"def":{"name":"new","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"messages","doc":null,"default_value":"","external_name":"messages","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(key, messages)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"key:String-instance-method","name":"key","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/streaming.cr","line_number":69,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L69"},"def":{"name":"key","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@key"}},{"html_id":"messages:Array(Message)-instance-method","name":"messages","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(Message)","args_html":" : Array(<a href=\"../../../Redis/Streaming/Message.html\">Message</a>)","location":{"filename":"src/streaming.cr","line_number":68,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/streaming.cr#L68"},"def":{"name":"messages","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(Message)","visibility":"Public","body":"@messages"}}],"macros":[],"types":[]}]}]},{"html_id":"redis/Redis/TimeSeries","path":"Redis/TimeSeries.html","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":15,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L15"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"Time-series support for Redis using the\n[RedisTimeSeries module](https://oss.redis.com/redistimeseries/).\n\n```\nrequire \"redis\"\nrequire \"redis/time_series\"\n\n\n```","summary":"<p>Time-series support for Redis using the <a href=\"https://oss.redis.com/redistimeseries/\">RedisTimeSeries module</a>.</p>\n<p><span class=\"flag lime\">EXPERIMENTAL</span>  Support for the Redis TimeSeries module is subject to change.</p>","class_methods":[],"constructors":[],"instance_methods":[{"html_id":"add(key:String,value:Float64|Int64,retention:Time::Span?=nil,encoding:Encoding?=nil,chunk_size:Int64?=nil,on_duplicateduplicate_policy:DuplicatePolicy?=nil,labels:Hash(String,String|Int32|Int64)?=nil)-instance-method","name":"add","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Float64 | Int64"},{"name":"retention","doc":null,"default_value":"nil","external_name":"retention","restriction":"Time::Span | ::Nil"},{"name":"encoding","doc":null,"default_value":"nil","external_name":"encoding","restriction":"Encoding | ::Nil"},{"name":"chunk_size","doc":null,"default_value":"nil","external_name":"chunk_size","restriction":"Int64 | ::Nil"},{"name":"duplicate_policy","doc":null,"default_value":"nil","external_name":"on_duplicate","restriction":"DuplicatePolicy | ::Nil"},{"name":"labels","doc":null,"default_value":"nil","external_name":"labels","restriction":"Hash(String, String | Int32 | Int64) | ::Nil"}],"args_string":"(key : String, value : Float64 | Int64, retention : Time::Span? = nil, encoding : Encoding? = nil, chunk_size : Int64? = nil, on_duplicate duplicate_policy : DuplicatePolicy? = nil, labels : Hash(String, String | Int32 | Int64)? = nil)","args_html":"(key : String, value : Float64 | Int64, retention : Time::Span? = <span class=\"n\">nil</span>, encoding : <a href=\"../Redis/TimeSeries/Encoding.html\">Encoding</a>? = <span class=\"n\">nil</span>, chunk_size : Int64? = <span class=\"n\">nil</span>, on_duplicate duplicate_policy : <a href=\"../Redis/TimeSeries/DuplicatePolicy.html\">DuplicatePolicy</a>? = <span class=\"n\">nil</span>, labels : Hash(String, String | Int32 | Int64)? = <span class=\"n\">nil</span>)","location":{"filename":"src/time_series.cr","line_number":53,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L53"},"def":{"name":"add","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Float64 | Int64"},{"name":"retention","doc":null,"default_value":"nil","external_name":"retention","restriction":"Time::Span | ::Nil"},{"name":"encoding","doc":null,"default_value":"nil","external_name":"encoding","restriction":"Encoding | ::Nil"},{"name":"chunk_size","doc":null,"default_value":"nil","external_name":"chunk_size","restriction":"Int64 | ::Nil"},{"name":"duplicate_policy","doc":null,"default_value":"nil","external_name":"on_duplicate","restriction":"DuplicatePolicy | ::Nil"},{"name":"labels","doc":null,"default_value":"nil","external_name":"labels","restriction":"Hash(String, String | Int32 | Int64) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 12 + (labels.try(&.size) || 0))\n(((command << \"ts.add\") << key) << \"*\") << value.to_s\nif retention\n  (command << \"retention\") << retention.total_milliseconds.to_i.to_s\nend\nif encoding\n  (command << \"encoding\") << encoding.to_s\nend\nif chunk_size\n  (command << \"chunk_size\") << chunk_size.to_s\nend\nif duplicate_policy\n  (command << \"duplicate_policy\") << duplicate_policy.to_s\nend\nif labels && labels.any?\n  command << \"labels\"\n  labels.each do |key, value|\n    (command << key) << value.to_s\n  end\nend\n@redis.run(command)\n"}},{"html_id":"add(key:String,timestamp:Time,value:Float64|Int64,retention:Time::Span?=nil,encoding:Encoding?=nil,chunk_size:Int64?=nil,on_duplicateduplicate_policy:DuplicatePolicy?=nil,labels:Hash(String,String|Int32|Int64)?=nil)-instance-method","name":"add","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":"Time"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Float64 | Int64"},{"name":"retention","doc":null,"default_value":"nil","external_name":"retention","restriction":"Time::Span | ::Nil"},{"name":"encoding","doc":null,"default_value":"nil","external_name":"encoding","restriction":"Encoding | ::Nil"},{"name":"chunk_size","doc":null,"default_value":"nil","external_name":"chunk_size","restriction":"Int64 | ::Nil"},{"name":"duplicate_policy","doc":null,"default_value":"nil","external_name":"on_duplicate","restriction":"DuplicatePolicy | ::Nil"},{"name":"labels","doc":null,"default_value":"nil","external_name":"labels","restriction":"Hash(String, String | Int32 | Int64) | ::Nil"}],"args_string":"(key : String, timestamp : Time, value : Float64 | Int64, retention : Time::Span? = nil, encoding : Encoding? = nil, chunk_size : Int64? = nil, on_duplicate duplicate_policy : DuplicatePolicy? = nil, labels : Hash(String, String | Int32 | Int64)? = nil)","args_html":"(key : String, timestamp : Time, value : Float64 | Int64, retention : Time::Span? = <span class=\"n\">nil</span>, encoding : <a href=\"../Redis/TimeSeries/Encoding.html\">Encoding</a>? = <span class=\"n\">nil</span>, chunk_size : Int64? = <span class=\"n\">nil</span>, on_duplicate duplicate_policy : <a href=\"../Redis/TimeSeries/DuplicatePolicy.html\">DuplicatePolicy</a>? = <span class=\"n\">nil</span>, labels : Hash(String, String | Int32 | Int64)? = <span class=\"n\">nil</span>)","location":{"filename":"src/time_series.cr","line_number":87,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L87"},"def":{"name":"add","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"timestamp","doc":null,"default_value":"","external_name":"timestamp","restriction":"Time"},{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"Float64 | Int64"},{"name":"retention","doc":null,"default_value":"nil","external_name":"retention","restriction":"Time::Span | ::Nil"},{"name":"encoding","doc":null,"default_value":"nil","external_name":"encoding","restriction":"Encoding | ::Nil"},{"name":"chunk_size","doc":null,"default_value":"nil","external_name":"chunk_size","restriction":"Int64 | ::Nil"},{"name":"duplicate_policy","doc":null,"default_value":"nil","external_name":"on_duplicate","restriction":"DuplicatePolicy | ::Nil"},{"name":"labels","doc":null,"default_value":"nil","external_name":"labels","restriction":"Hash(String, String | Int32 | Int64) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 13 + (labels.try(&.size) || 0))\n(((command << \"ts.add\") << key) << timestamp.to_unix_ms.to_s) << value.to_s\nif retention\n  (command << \"retention\") << retention.total_milliseconds.to_i.to_s\nend\nif encoding\n  (command << \"encoding\") << encoding.to_s\nend\nif chunk_size\n  (command << \"chunk_size\") << chunk_size.to_s\nend\nif duplicate_policy\n  (command << \"duplicate_policy\") << duplicate_policy.to_s\nend\nif labels && labels.any?\n  command << \"labels\"\n  labels.each do |key, value|\n    (command << key) << value.to_s\n  end\nend\n@redis.run(command)\n"}},{"html_id":"create(key:String,retention:Time::Span?=nil,encoding:Encoding?=nil,chunk_size:Int64?=nil,duplicate_policy:DuplicatePolicy?=nil,labels:Hash(String,String|Int32|Int64)?=nil)-instance-method","name":"create","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"retention","doc":null,"default_value":"nil","external_name":"retention","restriction":"Time::Span | ::Nil"},{"name":"encoding","doc":null,"default_value":"nil","external_name":"encoding","restriction":"Encoding | ::Nil"},{"name":"chunk_size","doc":null,"default_value":"nil","external_name":"chunk_size","restriction":"Int64 | ::Nil"},{"name":"duplicate_policy","doc":null,"default_value":"nil","external_name":"duplicate_policy","restriction":"DuplicatePolicy | ::Nil"},{"name":"labels","doc":null,"default_value":"nil","external_name":"labels","restriction":"Hash(String, String | Int32 | Int64) | ::Nil"}],"args_string":"(key : String, retention : Time::Span? = nil, encoding : Encoding? = nil, chunk_size : Int64? = nil, duplicate_policy : DuplicatePolicy? = nil, labels : Hash(String, String | Int32 | Int64)? = nil)","args_html":"(key : String, retention : Time::Span? = <span class=\"n\">nil</span>, encoding : <a href=\"../Redis/TimeSeries/Encoding.html\">Encoding</a>? = <span class=\"n\">nil</span>, chunk_size : Int64? = <span class=\"n\">nil</span>, duplicate_policy : <a href=\"../Redis/TimeSeries/DuplicatePolicy.html\">DuplicatePolicy</a>? = <span class=\"n\">nil</span>, labels : Hash(String, String | Int32 | Int64)? = <span class=\"n\">nil</span>)","location":{"filename":"src/time_series.cr","line_number":20,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L20"},"def":{"name":"create","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"retention","doc":null,"default_value":"nil","external_name":"retention","restriction":"Time::Span | ::Nil"},{"name":"encoding","doc":null,"default_value":"nil","external_name":"encoding","restriction":"Encoding | ::Nil"},{"name":"chunk_size","doc":null,"default_value":"nil","external_name":"chunk_size","restriction":"Int64 | ::Nil"},{"name":"duplicate_policy","doc":null,"default_value":"nil","external_name":"duplicate_policy","restriction":"DuplicatePolicy | ::Nil"},{"name":"labels","doc":null,"default_value":"nil","external_name":"labels","restriction":"Hash(String, String | Int32 | Int64) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 11 + (labels.try(&.size) || 0))\n(command << \"ts.create\") << key\nif retention\n  (command << \"retention\") << retention.total_milliseconds.to_i.to_s\nend\nif encoding\n  (command << \"encoding\") << encoding.to_s\nend\nif chunk_size\n  (command << \"chunk_size\") << chunk_size.to_s\nend\nif duplicate_policy\n  (command << \"duplicate_policy\") << duplicate_policy.to_s\nend\nif labels && labels.any?\n  command << \"labels\"\n  labels.each do |key, value|\n    (command << key) << value.to_s\n  end\nend\n@redis.run(command)\n"}},{"html_id":"info(key:String)-instance-method","name":"info","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/time_series.cr","line_number":137,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L137"},"def":{"name":"info","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@redis.run({\"ts.info\", key})"}},{"html_id":"range(key:String,time_range:::Range(Time,Time),&:RangeOptions->)-instance-method","name":"range","doc":null,"summary":null,"abstract":false,"args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"time_range","doc":null,"default_value":"","external_name":"time_range","restriction":"::Range(Time, Time)"}],"args_string":"(key : String, time_range : ::Range(Time, Time), & : RangeOptions -> )","args_html":"(key : String, time_range : ::Range(Time, Time), & : <a href=\"../Redis/TimeSeries/RangeOptions.html\">RangeOptions</a> -> )","location":{"filename":"src/time_series.cr","line_number":122,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L122"},"def":{"name":"range","args":[{"name":"key","doc":null,"default_value":"","external_name":"key","restriction":"String"},{"name":"time_range","doc":null,"default_value":"","external_name":"time_range","restriction":"::Range(Time, Time)"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"","doc":null,"default_value":"","external_name":"","restriction":"(RangeOptions ->)"},"return_type":"","visibility":"Public","body":"command = Array(String).new(initial_capacity: 14)\noptions = RangeOptions.new\n(((command << \"ts.range\") << key) << time_range.begin.to_unix_ms.to_s) << time_range.end.to_unix_ms.to_s\nyield options\nif agg = options.aggregation\n  ((command << \"aggregation\") << agg.type.to_s) << agg.time_bucket.total_milliseconds.to_i.to_s\nend\n@redis.run(command)\n"}}],"macros":[],"types":[{"html_id":"redis/Redis/TimeSeries/DuplicatePolicy","path":"Redis/TimeSeries/DuplicatePolicy.html","kind":"enum","full_name":"Redis::TimeSeries::DuplicatePolicy","name":"DuplicatePolicy","abstract":false,"superclass":null,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":181,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L181"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"BLOCK","name":"BLOCK","value":"0","doc":"An error will occur for any out-of-order sample","summary":"<p>An error will occur for any out-of-order sample</p>"},{"id":"FIRST","name":"FIRST","value":"1","doc":"Ignore the new value","summary":"<p>Ignore the new value</p>"},{"id":"LAST","name":"LAST","value":"2","doc":"Override with the latest value","summary":"<p>Override with the latest value</p>"},{"id":"MIN","name":"MIN","value":"3","doc":"Only override if the new value is lower than the existing value","summary":"<p>Only override if the new value is lower than the existing value</p>"},{"id":"MAX","name":"MAX","value":"4","doc":"Only override if the new value is higher than the existing value","summary":"<p>Only override if the new value is higher than the existing value</p>"},{"id":"SUM","name":"SUM","value":"5","doc":"If a previous sample exists, add the new sample to it so that the\nupdated value is equal to `previous + new`. If no previous sample\nexists, set the updated value equal to the new value.","summary":"<p>If a previous sample exists, add the new sample to it so that the updated value is equal to <code>previous + new</code>.</p>"}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"html_id":"block?-instance-method","name":"block?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":183,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L183"},"def":{"name":"block?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == BLOCK"}},{"html_id":"first?-instance-method","name":"first?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":186,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L186"},"def":{"name":"first?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == FIRST"}},{"html_id":"last?-instance-method","name":"last?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":189,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L189"},"def":{"name":"last?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == LAST"}},{"html_id":"max?-instance-method","name":"max?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":195,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L195"},"def":{"name":"max?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == MAX"}},{"html_id":"min?-instance-method","name":"min?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":192,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L192"},"def":{"name":"min?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == MIN"}},{"html_id":"sum?-instance-method","name":"sum?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":200,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L200"},"def":{"name":"sum?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == SUM"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/TimeSeries/Encoding","path":"Redis/TimeSeries/Encoding.html","kind":"enum","full_name":"Redis::TimeSeries::Encoding","name":"Encoding","abstract":false,"superclass":null,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":176,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L176"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"COMPRESSED","name":"COMPRESSED","value":"0","doc":null,"summary":null},{"id":"UNCOMPRESSED","name":"UNCOMPRESSED","value":"1","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"html_id":"compressed?-instance-method","name":"compressed?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":177,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L177"},"def":{"name":"compressed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == COMPRESSED"}},{"html_id":"uncompressed?-instance-method","name":"uncompressed?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":178,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L178"},"def":{"name":"uncompressed?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == UNCOMPRESSED"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/TimeSeries/Range","path":"Redis/TimeSeries/Range.html","kind":"struct","full_name":"Redis::TimeSeries::Range","name":"Range","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":141,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L141"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(raw_data:Array)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"raw_data","doc":null,"default_value":"","external_name":"raw_data","restriction":"Array"}],"args_string":"(raw_data : Array)","args_html":"(raw_data : Array)","location":{"filename":"src/time_series.cr","line_number":142,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L142"},"def":{"name":"new","args":[{"name":"raw_data","doc":null,"default_value":"","external_name":"raw_data","restriction":"Array"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(raw_data)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"redis/Redis/TimeSeries/RangeOptions","path":"Redis/TimeSeries/RangeOptions.html","kind":"class","full_name":"Redis::TimeSeries::RangeOptions","name":"RangeOptions","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":151,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L151"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"html_id":"aggregation(type:AggregationType,bucket:Time::Span)-instance-method","name":"aggregation","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"AggregationType"},{"name":"bucket","doc":null,"default_value":"","external_name":"bucket","restriction":"Time::Span"}],"args_string":"(type : AggregationType, bucket : Time::Span)","args_html":"(type : <a href=\"../../Redis/TimeSeries/RangeOptions/AggregationType.html\">AggregationType</a>, bucket : Time::Span)","location":{"filename":"src/time_series.cr","line_number":154,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L154"},"def":{"name":"aggregation","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"AggregationType"},{"name":"bucket","doc":null,"default_value":"","external_name":"bucket","restriction":"Time::Span"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@aggregation = Aggregation.new(type, bucket)"}},{"html_id":"aggregation:Aggregation?-instance-method","name":"aggregation","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Aggregation?","args_html":" : <a href=\"../../Redis/TimeSeries/RangeOptions/Aggregation.html\">Aggregation</a>?","location":{"filename":"src/time_series.cr","line_number":152,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L152"},"def":{"name":"aggregation","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Aggregation | ::Nil","visibility":"Public","body":"@aggregation"}}],"macros":[],"types":[{"html_id":"redis/Redis/TimeSeries/RangeOptions/Aggregation","path":"Redis/TimeSeries/RangeOptions/Aggregation.html","kind":"struct","full_name":"Redis::TimeSeries::RangeOptions::Aggregation","name":"Aggregation","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":158,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L158"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/TimeSeries/RangeOptions","kind":"class","full_name":"Redis::TimeSeries::RangeOptions","name":"RangeOptions"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(type:AggregationType,time_bucket:Time::Span)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"AggregationType"},{"name":"time_bucket","doc":null,"default_value":"","external_name":"time_bucket","restriction":"Time::Span"}],"args_string":"(type : AggregationType, time_bucket : Time::Span)","args_html":"(type : <a href=\"../../../Redis/TimeSeries/RangeOptions/AggregationType.html\">AggregationType</a>, time_bucket : Time::Span)","location":{"filename":"src/time_series.cr","line_number":158,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L158"},"def":{"name":"new","args":[{"name":"type","doc":null,"default_value":"","external_name":"type","restriction":"AggregationType"},{"name":"time_bucket","doc":null,"default_value":"","external_name":"time_bucket","restriction":"Time::Span"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(type, time_bucket)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":158,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L158"},"def":{"name":"clone","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.class.new(@type.clone, @time_bucket.clone)"}},{"html_id":"copy_with(type_type=@type,time_bucket_time_bucket=@time_bucket)-instance-method","name":"copy_with","doc":null,"summary":null,"abstract":false,"args":[{"name":"_type","doc":null,"default_value":"@type","external_name":"type","restriction":""},{"name":"_time_bucket","doc":null,"default_value":"@time_bucket","external_name":"time_bucket","restriction":""}],"args_string":"(type _type = @type, time_bucket _time_bucket = @time_bucket)","args_html":"(type _type = @type, time_bucket _time_bucket = @time_bucket)","location":{"filename":"src/time_series.cr","line_number":158,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L158"},"def":{"name":"copy_with","args":[{"name":"_type","doc":null,"default_value":"@type","external_name":"type","restriction":""},{"name":"_time_bucket","doc":null,"default_value":"@time_bucket","external_name":"time_bucket","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self.class.new(_type, _time_bucket)"}},{"html_id":"time_bucket:Time::Span-instance-method","name":"time_bucket","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Time::Span","args_html":" : Time::Span","location":null,"def":{"name":"time_bucket","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Time::Span","visibility":"Public","body":"@time_bucket"}},{"html_id":"type:AggregationType-instance-method","name":"type","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : AggregationType","args_html":" : <a href=\"../../../Redis/TimeSeries/RangeOptions/AggregationType.html\">AggregationType</a>","location":null,"def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"AggregationType","visibility":"Public","body":"@type"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/TimeSeries/RangeOptions/AggregationType","path":"Redis/TimeSeries/RangeOptions/AggregationType.html","kind":"enum","full_name":"Redis::TimeSeries::RangeOptions::AggregationType","name":"AggregationType","abstract":false,"superclass":null,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":160,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L160"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"AVG","name":"AVG","value":"0","doc":null,"summary":null},{"id":"SUM","name":"SUM","value":"1","doc":null,"summary":null},{"id":"MIN","name":"MIN","value":"2","doc":null,"summary":null},{"id":"MAX","name":"MAX","value":"3","doc":null,"summary":null},{"id":"RANGE","name":"RANGE","value":"4","doc":null,"summary":null},{"id":"COUNT","name":"COUNT","value":"5","doc":null,"summary":null},{"id":"FIRST","name":"FIRST","value":"6","doc":null,"summary":null},{"id":"LAST","name":"LAST","value":"7","doc":null,"summary":null},{"id":"STD_P","name":"STD_P","value":"8","doc":null,"summary":null},{"id":"STD_S","name":"STD_S","value":"9","doc":null,"summary":null},{"id":"VAR_P","name":"VAR_P","value":"10","doc":null,"summary":null},{"id":"VAR_S","name":"VAR_S","value":"11","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis/TimeSeries/RangeOptions","kind":"class","full_name":"Redis::TimeSeries::RangeOptions","name":"RangeOptions"},"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"html_id":"avg?-instance-method","name":"avg?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":161,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L161"},"def":{"name":"avg?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == AVG"}},{"html_id":"count?-instance-method","name":"count?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":166,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L166"},"def":{"name":"count?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == COUNT"}},{"html_id":"first?-instance-method","name":"first?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":167,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L167"},"def":{"name":"first?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == FIRST"}},{"html_id":"last?-instance-method","name":"last?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":168,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L168"},"def":{"name":"last?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == LAST"}},{"html_id":"max?-instance-method","name":"max?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":164,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L164"},"def":{"name":"max?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == MAX"}},{"html_id":"min?-instance-method","name":"min?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":163,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L163"},"def":{"name":"min?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == MIN"}},{"html_id":"range?-instance-method","name":"range?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":165,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L165"},"def":{"name":"range?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == RANGE"}},{"html_id":"std_p?-instance-method","name":"std_p?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":169,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L169"},"def":{"name":"std_p?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == STD_P"}},{"html_id":"std_s?-instance-method","name":"std_s?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":170,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L170"},"def":{"name":"std_s?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == STD_S"}},{"html_id":"sum?-instance-method","name":"sum?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":162,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L162"},"def":{"name":"sum?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == SUM"}},{"html_id":"var_p?-instance-method","name":"var_p?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":171,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L171"},"def":{"name":"var_p?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == VAR_P"}},{"html_id":"var_s?-instance-method","name":"var_s?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/time_series.cr","line_number":172,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/time_series.cr#L172"},"def":{"name":"var_s?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == VAR_S"}}],"macros":[],"types":[]}]}]},{"html_id":"redis/Redis/Transaction","path":"Redis/Transaction.html","kind":"class","full_name":"Redis::Transaction","name":"Transaction","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/transaction.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/transaction.cr#L5"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"html_id":"new(connection:Connection)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"connection","doc":null,"default_value":"","external_name":"connection","restriction":"Connection"}],"args_string":"(connection : Connection)","args_html":"(connection : <a href=\"../Redis/Connection.html\">Connection</a>)","location":{"filename":"src/transaction.cr","line_number":10,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/transaction.cr#L10"},"def":{"name":"new","args":[{"name":"connection","doc":null,"default_value":"","external_name":"connection","restriction":"Connection"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(connection)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"discard:Nil-instance-method","name":"discard","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Nil","args_html":" : Nil","location":{"filename":"src/transaction.cr","line_number":14,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/transaction.cr#L14"},"def":{"name":"discard","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"@discarded = true\nfinish(\"discard\")\n"}},{"html_id":"discarded?:Bool?-instance-method","name":"discarded?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool?","args_html":" : Bool?","location":{"filename":"src/transaction.cr","line_number":8,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/transaction.cr#L8"},"def":{"name":"discarded?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@discarded"}},{"html_id":"exec-instance-method","name":"exec","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/transaction.cr","line_number":25,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/transaction.cr#L25"},"def":{"name":"exec","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(finish(\"exec\")).as(Array)"}},{"html_id":"run(command):Nil-instance-method","name":"run","doc":"Execute the given command and return the result from the server. Commands\nmust be an `Enumerable` and its `size` method must be re-entrant.\n\n```\nrun({\"set\", \"foo\", \"bar\"})\n```","summary":"<p>Execute the given command and return the result from the server.</p>","abstract":false,"args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"args_string":"(command) : Nil","args_html":"(command) : Nil","location":{"filename":"src/transaction.cr","line_number":19,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/transaction.cr#L19"},"def":{"name":"run","args":[{"name":"command","doc":null,"default_value":"","external_name":"command","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Nil","visibility":"Public","body":"if discarded?\n  return\nend\n@connection.encode(command)\n@command_count = @command_count + 1\n"}},{"html_id":"start!-instance-method","name":"start!","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/transaction.cr","line_number":29,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/transaction.cr#L29"},"def":{"name":"start!","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@connection.encode({\"multi\"})"}}],"macros":[],"types":[]},{"html_id":"redis/Redis/Value","path":"Redis/Value.html","kind":"alias","full_name":"Redis::Value","name":"Value","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/value.cr","line_number":4,"url":"https://github.com/jgaskins/redis/blob/v0.3.0/src/value.cr#L4"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"(Array(Redis::Value) | Int64 | String | Nil)","aliased_html":"Array(<a href=\"../Redis/Value.html\">Redis::Value</a>) | Int64 | String | Nil","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"Values consumed and emitted by Redis can be strings, 64-bit integers, `nil`,\nor an array of any of these types.","summary":"<p>Values consumed and emitted by Redis can be strings, 64-bit integers, <code>nil</code>, or an array of any of these types.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]}]}}