crystal_doc_search_index_callback({"repository_name":"redis","body":"# redis\n\nA pure-Crystal implementation of the Redis protocol\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     redis:\n       github: jgaskins/redis\n   ```\n\n2. Run `shards`\n\n## Usage\n\n```crystal\nrequire \"redis\"\n\nredis = Redis::Client.new # Defaults to `localhost` port 6379\n\nredis.set \"foo\", \"bar\"\nredis.get \"foo\" # => \"bar\"\n\nredis.incr \"counter\" # => 1\nredis.incr \"counter\" # => 2\nredis.decr \"counter\" # => 1\n\nredis.del \"foo\", \"counter\" # => 2\n```\n\n### Pipelined queries\n\nTo mitigate latency with multiple queries whose inputs and outputs are completely independent of each other, you can \"pipeline\" your queries by sending them all at once before reading them. To do this, you can use the `pipeline` method:\n\n```crystal\nredis.pipeline do |pipe|\n  pipe.incr \"foo\"\n  pipe.set \"bar\", \"baz\"\n  pipe.lpush \"my-list\", \"my value\"\nend\n```\n\nThe return value of `pipeline` will be an array containing the values of each of those calls in the order they were sent. So in this case, it might be `[1, nil, 2]` to match the return values of `incr`, `set`, and `lpush`, respectively.\n\n### Transactions\n\nThe Redis [`MULTI` command](https://redis.io/commands/multi) begins a transaction, so you can use the `multi` method to execute a transaction against the server:\n\n```crystal\nredis.multi do |txn|\n  txn.set \"foo\", \"bar\"\n  txn.incr \"baz\"\n  txn.lpush \"my-list\", \"my value\"\nend\n```\n\nThe transaction is automatically committed with [`EXEC`](https://redis.io/commands/exec) at the end of the block. If an exception occurs within the block, the transaction will be rolled back with [`DISCARD`](https://redis.io/commands/discard) before exiting the block.\n\nYou may also call `txn.discard`, which will effectively disable the transaction (all further methods called on the transaction do nothing), but will not exit the block. You will need to exit the block explicitly with `break` if there are operations within the block that cannot be rolled back, such as sending an email or sending a request to a third-party API.\n\nThe reason for this is that the only way to exit a containing block from an inner method in Crystal is to raise an exception, and this library chooses not to use exceptions for flow control.\n\n### Beyond `localhost`\n\nTo use a Redis server that isn't at `localhost:6379`, pass a `URI` to the client. For example, if you store it in your shell environment:\n\n```crystal\nredis = Redis::Client.new(URI.parse(ENV[\"REDIS_URL\"]))\n\n# ... or ...\n\nredis = Redis::Client.from_env(\"REDIS_URL\")\n```\n\nTo connect via SSL, make sure you use the `rediss://` URL scheme. If your Redis server requires a password or uses a different database slot than `0`, make sure you include them in the URL:\n\n```crystal\nredis = Redis::Client.new(URI.parse(\"rediss://:my_password@example.com/3\"))\n```\n\n### Connection Pool\n\nThe `Redis::Client` maintains its own connection pool, so there is no need to run your own within your application. When you execute a command on the `Redis::Client`, it is automatically being executed against a connection. When you execute a pipeline or transaction with `multi`, all commands within that block will automatically be routed to the same connection.\n\n## Development\n\nMake sure you have a Redis or KeyDB server running locally on port 6379.\n\n## Contributing\n\n1. Fork it (<https://github.com/jgaskins/redis/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [Jamie Gaskins](https://github.com/jgaskins) - creator and maintainer\n","program":{"html_id":"redis/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"redis","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"redis/Redis","path":"Redis.html","kind":"module","full_name":"Redis","name":"Redis","abstract":false,"locations":[{"filename":"src/client.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/client.cr#L5"},{"filename":"src/cluster.cr","line_number":7,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/cluster.cr#L7"},{"filename":"src/commands.cr","line_number":8,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L8"},{"filename":"src/connection.cr","line_number":12,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L12"},{"filename":"src/errors.cr","line_number":1,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/errors.cr#L1"},{"filename":"src/graph.cr","line_number":7,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L7"},{"filename":"src/json.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L5"},{"filename":"src/parser.cr","line_number":4,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/parser.cr#L4"},{"filename":"src/pipeline.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/pipeline.cr#L5"},{"filename":"src/redis.cr","line_number":7,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/redis.cr#L7"},{"filename":"src/search.cr","line_number":3,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L3"},{"filename":"src/streaming.cr","line_number":3,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L3"},{"filename":"src/time_series.cr","line_number":4,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L4"},{"filename":"src/transaction.cr","line_number":4,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/transaction.cr#L4"},{"filename":"src/value.cr","line_number":1,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/value.cr#L1"},{"filename":"src/writer.cr","line_number":1,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/writer.cr#L1"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"ERROR_MAP","name":"ERROR_MAP","value":"Hash(String, Error.class).new(default_value: Error)"},{"id":"VERSION","name":"VERSION","value":"\"0.5.3\""}],"types":[{"html_id":"redis/Redis/BusyGroup","path":"Redis/BusyGroup.html","kind":"class","full_name":"Redis::BusyGroup","name":"BusyGroup","abstract":false,"superclass":{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":11,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/errors.cr#L11"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"}},{"html_id":"redis/Redis/Client","path":"Redis/Client.html","kind":"class","full_name":"Redis::Client","name":"Client","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/client.cr","line_number":19,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/client.cr#L19"},{"filename":"src/graph.cr","line_number":475,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L475"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"The Redis client is the expected entrypoint for this shard. By default, it will connect to localhost:6379, but you can also supply a `URI` to connect to an arbitrary Redis server. SSL, password authentication, and DB selection are all supported.\n\n```\n# Connects to localhost:6379\nredis = Redis::Client.new\n\n# Connects to a server at \"redis.example.com\" on port 6000 over a TLS\n# connection, authenticates with the password \"password\", and uses DB 3\nredis = Redis::Client.new(URI.parse(\"rediss://:password@redis.example.com:6000/3\"))\n\n# Connects to a server at the URL in `ENV[\"REDIS_URL\"]`\nredis = Redis::Client.from_env(\"REDIS_URL\")\n```","summary":"<p>The Redis client is the expected entrypoint for this shard.</p>","class_methods":[{"html_id":"from_env(env_var)-class-method","name":"from_env","abstract":false,"args":[{"name":"env_var","external_name":"env_var","restriction":""}],"args_string":"(env_var)","args_html":"(env_var)","location":{"filename":"src/client.cr","line_number":22,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/client.cr#L22"},"def":{"name":"from_env","args":[{"name":"env_var","external_name":"env_var","restriction":""}],"visibility":"Public","body":"new(URI.parse(ENV[env_var]))"}}],"constructors":[{"html_id":"new(uri:URI=URI.parse(ENV.fetch(\"REDIS_URL\",\"redis:///\")))-class-method","name":"new","doc":"The client holds a pool of connections that expands and contracts as\nneeded.","summary":"<p>The client holds a pool of connections that expands and contracts as needed.</p>","abstract":false,"args":[{"name":"uri","default_value":"URI.parse(ENV.fetch(\"REDIS_URL\", \"redis:///\"))","external_name":"uri","restriction":"URI"}],"args_string":"(uri : URI = URI.parse(ENV.fetch(\"REDIS_URL\", \"redis:///\")))","args_html":"(uri : URI = <span class=\"t\">URI</span>.parse(<span class=\"t\">ENV</span>.fetch(<span class=\"s\">&quot;REDIS_URL&quot;</span>, <span class=\"s\">&quot;redis:///&quot;</span>)))","location":{"filename":"src/client.cr","line_number":28,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/client.cr#L28"},"def":{"name":"new","args":[{"name":"uri","default_value":"URI.parse(ENV.fetch(\"REDIS_URL\", \"redis:///\"))","external_name":"uri","restriction":"URI"}],"visibility":"Public","body":"_ = allocate\n_.initialize(uri)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"graph(key:String)-instance-method","name":"graph","doc":"Instantiate a `Redis::Graph::Client` backed by this `Redis::Client`.","summary":"<p>Instantiate a <code><a href=\"../Redis/Graph/Client.html\">Redis::Graph::Client</a></code> backed by this <code><a href=\"../Redis/Client.html\">Redis::Client</a></code>.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/graph.cr","line_number":477,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L477"},"def":{"name":"graph","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"Graph::Client.new(self, key)"}}],"macros":[{"html_id":"method_missing(call)-macro","name":"method_missing","doc":"All Redis commands invoked on the client check out a connection from the\nconnection pool, invoke the command on that connection, and then check the\nconnection back into the pool.\n\n```\nredis = Redis::Client.new\n```","summary":"<p>All Redis commands invoked on the client check out a connection from the connection pool, invoke the command on that connection, and then check the connection back into the pool.</p>","abstract":false,"args":[{"name":"call","external_name":"call","restriction":""}],"args_string":"(call)","args_html":"(call)","location":{"filename":"src/client.cr","line_number":42,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/client.cr#L42"},"def":{"name":"method_missing","args":[{"name":"call","external_name":"call","restriction":""}],"visibility":"Public","body":"      @pool.checkout(&.\n{{ call }}\n)\n    \n"}}]},{"html_id":"redis/Redis/Cluster","path":"Redis/Cluster.html","kind":"class","full_name":"Redis::Cluster","name":"Cluster","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},{"html_id":"redis/Redis/Commands/Stream","kind":"module","full_name":"Redis::Commands::Stream","name":"Stream"},{"html_id":"redis/Redis/Commands/SortedSet","kind":"module","full_name":"Redis::Commands::SortedSet","name":"SortedSet"},{"html_id":"redis/Redis/Commands/Set","kind":"module","full_name":"Redis::Commands::Set","name":"Set"},{"html_id":"redis/Redis/Commands/List","kind":"module","full_name":"Redis::Commands::List","name":"List"},{"html_id":"redis/Redis/Commands/Hash","kind":"module","full_name":"Redis::Commands::Hash","name":"Hash"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/cluster.cr","line_number":31,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/cluster.cr#L31"},{"filename":"src/errors.cr","line_number":15,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/errors.cr#L15"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"Use in place of a `Redis::Client` when talking to Redis clusters. This class\nwill discover all nodes in a Redis cluster when given a URI for any of them,\nroute commands to appropriate shards based on the keys they operate on, and\nroute commands which do not change state to shard replicas to spread the\nload across the cluster.\n\nIt's important that, when using commands which operate on multiple keys (for\nexample: `MGET`, `DEL`, `RPOPLPUSH`, etc) that _all_ specified keys reside\non the same shard in the cluster. Usually, this means designing your key\nnames with curly braces around parts of them to ensure they hash to the same\n[key slot](https://redis.io/commands/cluster-keyslot). For example:\n\n```\nredis.del \"{comment}:1\", \"{comment}:2\"\nvalue = redis.rpoplpush \"{queue}:default\", \"{queue}:default:pending\"\n```\n\nIf you want to use a Redis module that provides custom commands, you can\nregister them as read-only with `Redis::Cluster.register_read_only_commands`\nand they will automatically be routed to replicas. See\n[`redis/cluster/json.cr`](https://github.com/jgaskins/redis/blob/3e874563dd524df9af6827f72edecca13a615802/src/cluster/json.cr#L5-L15)\nfor example usage.","summary":"<p>Use in place of a <code><a href=\"../Redis/Client.html\">Redis::Client</a></code> when talking to Redis clusters.</p>\n<p><span class=\"flag lime\">EXPERIMENTAL</span>  Cluster support is still under development. Some APIs may change while details are discovered and highly customized clusters (for example, servers handling individual hash slots or multiple hash-slot ranges) are not yet supported.</p>","class_methods":[{"html_id":"register_read_only_command(command:String)-class-method","name":"register_read_only_command","doc":"Tell the cluster driver that the specified Redis command can be routed to\nread-only replicas.\n\n```\nRedis::Cluster.register_read_only_command \"mymodule.get\"\n```","summary":"<p>Tell the cluster driver that the specified Redis command can be routed to read-only replicas.</p>","abstract":false,"args":[{"name":"command","external_name":"command","restriction":"String"}],"args_string":"(command : String)","args_html":"(command : String)","location":{"filename":"src/cluster.cr","line_number":65,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/cluster.cr#L65"},"def":{"name":"register_read_only_command","args":[{"name":"command","external_name":"command","restriction":"String"}],"visibility":"Public","body":"READ_ONLY_COMMANDS << command"}},{"html_id":"register_read_only_commands(commands:Enumerable(String))-class-method","name":"register_read_only_commands","doc":"Tell the cluster driver that all the specified Redis commands can be\nrouted to read-only replicas.\n\n```\nRedis::Cluster.register_read_only_commands %w[\n  mymodule.get\n  mymodule.mget\n]\n```","summary":"<p>Tell the cluster driver that all the specified Redis commands can be routed to read-only replicas.</p>","abstract":false,"args":[{"name":"commands","external_name":"commands","restriction":"Enumerable(String)"}],"args_string":"(commands : Enumerable(String))","args_html":"(commands : Enumerable(String))","location":{"filename":"src/cluster.cr","line_number":55,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/cluster.cr#L55"},"def":{"name":"register_read_only_commands","args":[{"name":"commands","external_name":"commands","restriction":"Enumerable(String)"}],"visibility":"Public","body":"commands.each do |command|\n  register_read_only_command(command)\nend"}}],"constructors":[{"html_id":"new(uri:URI=URI.parse(ENV[\"REDIS_CLUSTER_URL\"]?||\"redis:///\"))-class-method","name":"new","doc":"Pass a `URI` (defaulting to the `REDIS_CLUSTER_URL` environment variable)\nto connect to the specified Redis cluster — the URI can point to _any_\nserver in the cluster and `Redis::Cluster` will discover the rest.","summary":"<p>Pass a <code>URI</code> (defaulting to the <code>REDIS_CLUSTER_URL</code> environment variable) to connect to the specified Redis cluster — the URI can point to <em>any</em> server in the cluster and <code><a href=\"../Redis/Cluster.html\">Redis::Cluster</a></code> will discover the rest.</p>","abstract":false,"args":[{"name":"uri","default_value":"URI.parse(ENV[\"REDIS_CLUSTER_URL\"]? || \"redis:///\")","external_name":"uri","restriction":"URI"}],"args_string":"(uri : URI = URI.parse(ENV[\"REDIS_CLUSTER_URL\"]? || \"redis:///\"))","args_html":"(uri : URI = <span class=\"t\">URI</span>.parse(<span class=\"t\">ENV</span>[<span class=\"s\">&quot;REDIS_CLUSTER_URL&quot;</span>]? || <span class=\"s\">&quot;redis:///&quot;</span>))","location":{"filename":"src/cluster.cr","line_number":72,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/cluster.cr#L72"},"def":{"name":"new","args":[{"name":"uri","default_value":"URI.parse(ENV[\"REDIS_CLUSTER_URL\"]? || \"redis:///\")","external_name":"uri","restriction":"URI"}],"visibility":"Public","body":"_ = allocate\n_.initialize(uri)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"close-instance-method","name":"close","doc":"Close all connections to this Redis cluster","summary":"<p>Close all connections to this Redis cluster</p>","abstract":false,"location":{"filename":"src/cluster.cr","line_number":338,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/cluster.cr#L338"},"def":{"name":"close","visibility":"Public","body":"begin\n  @write_pools.each do |__arg7|\n    pool = __arg7[1]\n    pool.close\n  end\n  @read_pools.each do |__arg8|\n    pool = __arg8[1]\n    pool.close\n  end\nensure\n  @closed = true\nend"}},{"html_id":"flushdb-instance-method","name":"flushdb","doc":"Executes `flushdb` on each shard in the cluster.","summary":"<p>Executes <code><a href=\"../Redis/Cluster.html#flushdb-instance-method\">#flushdb</a></code> on each shard in the cluster.</p>","abstract":false,"location":{"filename":"src/cluster.cr","line_number":210,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/cluster.cr#L210"},"def":{"name":"flushdb","visibility":"Public","body":"each_master(&.run({\"flushdb\"}))"}},{"html_id":"keys:Array(String)-instance-method","name":"keys","doc":"Get all key across all shards. This executes a `keys` command on every\nshard in the cluster. Probably not a good idea in production since this\nwill block every Redis shard or replica for the duration of the query, but\nwe're supporting it because you may have a reasonable use case for it at\n_some_ point and it's just not easy to do otherwise.","summary":"<p>Get all key across all shards.</p>","abstract":false,"location":{"filename":"src/cluster.cr","line_number":180,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/cluster.cr#L180"},"def":{"name":"keys","return_type":"Array(String)","visibility":"Public","body":"keys = [] of String\neach_unique_replica() do |__arg2|\n  __arg2.keys.each do |key|\n    keys << (key.as(String))\n  end\nend\nkeys\n"}},{"html_id":"pipeline(key:String,&)-instance-method","name":"pipeline","doc":"Run a pipeline for the specified key\n\n```\ncluster.pipeline \"{widgets}\" do |pipe|\n  widget_ids.each do |id|\n    pipe.get \"{widgets}:#{id}\"\n  end\nend\n```\n\nWARNING: All keys that this pipeline operates on _MUST_ reside on the same\nshard. It's best to pass a pre-hashed key (one containing `{}`) to this\nmethod. See the example above.","summary":"<p>Run a pipeline for the specified key</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String, &)","args_html":"(key : String, &)","location":{"filename":"src/cluster.cr","line_number":200,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/cluster.cr#L200"},"def":{"name":"pipeline","args":[{"name":"key","external_name":"key","restriction":"String"}],"yields":1,"visibility":"Public","body":"(write_pool_for(key)).checkout(&.pipeline do |pipe|\n  yield pipe\nend)"}},{"html_id":"run(commandfull_command)-instance-method","name":"run","doc":"Execute the given command and return the result from the server. Commands\nmust be an `Enumerable` and its `size` method must be re-entrant.\n\n```\nrun({\"set\", \"foo\", \"bar\"})\n```","summary":"<p>Execute the given command and return the result from the server.</p>","abstract":false,"args":[{"name":"full_command","external_name":"command","restriction":""}],"args_string":"(command full_command)","args_html":"(command full_command)","location":{"filename":"src/cluster.cr","line_number":268,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/cluster.cr#L268"},"def":{"name":"run","args":[{"name":"full_command","external_name":"command","restriction":""}],"visibility":"Public","body":"if full_command.empty?\n  raise(ArgumentError.new(\"Redis commands must have at least one component\"))\nend\ncommand = full_command[0]\nif key = full_command[1]?\n  if command =~ (/[A-Z]/)\n    command = command.downcase\n  end\n  started_at = Time.monotonic\n  (if READ_ONLY_COMMANDS.includes?(command)\n    read_pool_for(key)\n  else\n    write_pool_for(key)\n  end).checkout do |connection|\n    connection.run(full_command)\n  end.tap do\n    LOG.debug(&.emit(command: full_command.join(' '), duration: (Time.monotonic - started_at).total_seconds))\n  end\nelse\n  raise(Error.new(\"No key was specified for this command, so the cluster driver cannot route it to an appropriate Redis shard. A cluster-specific method must be added to handle cases like these until a generalized solution is added.\"))\nend\n"}},{"html_id":"scan_each(*args,**kwargs,&):Nil-instance-method","name":"scan_each","doc":"Execute `Commands#scan_each` on each shard, yielding any matching keys.","summary":"<p>Execute <code>Commands#scan_each</code> on each shard, yielding any matching keys.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **kwargs, &) : Nil","args_html":"(*args, **kwargs, &) : Nil","location":{"filename":"src/cluster.cr","line_number":205,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/cluster.cr#L205"},"def":{"name":"scan_each","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"kwargs","external_name":"kwargs","restriction":""},"splat_index":0,"yields":1,"return_type":"Nil","visibility":"Public","body":"each_unique_replica(&.scan_each(*args, **kwargs) do |key|\n  yield key\nend)"}},{"html_id":"slot_for(key:String)-instance-method","name":"slot_for","doc":"Return the Redis hash slot for the given key. This is useful for seeing\nwhich shard your command will be routed to.","summary":"<p>Return the Redis hash slot for the given key.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/cluster.cr","line_number":381,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/cluster.cr#L381"},"def":{"name":"slot_for","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"if (hash_start = key.index('{')) && (hash_end = key.index('}', hash_start + 1))\n  key = key[(hash_start + 1)..(hash_end - 1)]\nend\n(CRC16.checksum(key)) % 16384\n"}}],"types":[{"html_id":"redis/Redis/Cluster/Ask","path":"Redis/Cluster/Ask.html","kind":"class","full_name":"Redis::Cluster::Ask","name":"Ask","abstract":false,"superclass":{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":23,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/errors.cr#L23"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Cluster","kind":"class","full_name":"Redis::Cluster","name":"Cluster"}},{"html_id":"redis/Redis/Cluster/CrossSlot","path":"Redis/Cluster/CrossSlot.html","kind":"class","full_name":"Redis::Cluster::CrossSlot","name":"CrossSlot","abstract":false,"superclass":{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":27,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/errors.cr#L27"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Cluster","kind":"class","full_name":"Redis::Cluster","name":"Cluster"}},{"html_id":"redis/Redis/Cluster/Error","path":"Redis/Cluster/Error.html","kind":"class","full_name":"Redis::Cluster::Error","name":"Error","abstract":false,"superclass":{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":16,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/errors.cr#L16"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"redis/Redis/Cluster/Ask","kind":"class","full_name":"Redis::Cluster::Ask","name":"Ask"},{"html_id":"redis/Redis/Cluster/CrossSlot","kind":"class","full_name":"Redis::Cluster::CrossSlot","name":"CrossSlot"},{"html_id":"redis/Redis/Cluster/Moved","kind":"class","full_name":"Redis::Cluster::Moved","name":"Moved"}],"namespace":{"html_id":"redis/Redis/Cluster","kind":"class","full_name":"Redis::Cluster","name":"Cluster"}},{"html_id":"redis/Redis/Cluster/Moved","path":"Redis/Cluster/Moved.html","kind":"class","full_name":"Redis::Cluster::Moved","name":"Moved","abstract":false,"superclass":{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":19,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/errors.cr#L19"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Cluster","kind":"class","full_name":"Redis::Cluster","name":"Cluster"}}]},{"html_id":"redis/Redis/Commands","path":"Redis/Commands.html","kind":"module","full_name":"Redis::Commands","name":"Commands","abstract":false,"ancestors":[{"html_id":"redis/Redis/Commands/Stream","kind":"module","full_name":"Redis::Commands::Stream","name":"Stream"},{"html_id":"redis/Redis/Commands/SortedSet","kind":"module","full_name":"Redis::Commands::SortedSet","name":"SortedSet"},{"html_id":"redis/Redis/Commands/Set","kind":"module","full_name":"Redis::Commands::Set","name":"Set"},{"html_id":"redis/Redis/Commands/List","kind":"module","full_name":"Redis::Commands::List","name":"List"},{"html_id":"redis/Redis/Commands/Hash","kind":"module","full_name":"Redis::Commands::Hash","name":"Hash"}],"locations":[{"filename":"src/commands.cr","line_number":14,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L14"},{"filename":"src/commands/hash.cr","line_number":1,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/hash.cr#L1"},{"filename":"src/json.cr","line_number":319,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L319"},{"filename":"src/search.cr","line_number":285,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L285"},{"filename":"src/time_series.cr","line_number":384,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L384"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"redis/Redis/Commands/Hash","kind":"module","full_name":"Redis::Commands::Hash","name":"Hash"},{"html_id":"redis/Redis/Commands/List","kind":"module","full_name":"Redis::Commands::List","name":"List"},{"html_id":"redis/Redis/Commands/Set","kind":"module","full_name":"Redis::Commands::Set","name":"Set"},{"html_id":"redis/Redis/Commands/SortedSet","kind":"module","full_name":"Redis::Commands::SortedSet","name":"SortedSet"},{"html_id":"redis/Redis/Commands/Stream","kind":"module","full_name":"Redis::Commands::Stream","name":"Stream"}],"including_types":[{"html_id":"redis/Redis/Cluster","kind":"class","full_name":"Redis::Cluster","name":"Cluster"},{"html_id":"redis/Redis/Connection","kind":"class","full_name":"Redis::Connection","name":"Connection"},{"html_id":"redis/Redis/Pipeline","kind":"class","full_name":"Redis::Pipeline","name":"Pipeline"},{"html_id":"redis/Redis/Transaction","kind":"class","full_name":"Redis::Transaction","name":"Transaction"}],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"All Redis commands are defined in this module. Any paradigm that needs to\nuse these commands simply overrides `run`, which takes a single `command`\nobject, which must be an `Enumerable`.\n\nTODO: Add more Redis commands from https://redis.io/commands","summary":"<p>All Redis commands are defined in this module.</p>","instance_methods":[{"html_id":"decr(key:String)-instance-method","name":"decr","doc":"Atomically decrement and return the integer value for the specified key,\ncreating it if it does not exist\n\n```\nredis.del \"counter\"\nredis.decr \"counter\" # => -1\n```","summary":"<p>Atomically decrement and return the integer value for the specified key, creating it if it does not exist</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":104,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L104"},"def":{"name":"decr","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"decr\", key})"}},{"html_id":"decrby(key:String,amount:Int|String)-instance-method","name":"decrby","doc":"Atomically decrement and return the integer value for the specified key by\nthe specified amount, creating it if it does not exist\n\n```\nredis.del \"counter\"\nredis.decrby \"counter\", 2 # => -2\n```","summary":"<p>Atomically decrement and return the integer value for the specified key by the specified amount, creating it if it does not exist</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"amount","external_name":"amount","restriction":"Int | String"}],"args_string":"(key : String, amount : Int | String)","args_html":"(key : String, amount : Int | String)","location":{"filename":"src/commands.cr","line_number":126,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L126"},"def":{"name":"decrby","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"amount","external_name":"amount","restriction":"Int | String"}],"visibility":"Public","body":"run({\"decrby\", key, amount.to_s})"}},{"html_id":"del(*keys:String)-instance-method","name":"del","doc":"Delete all specified keys and return the number of keys deleted.\n\n```\nredis.set \"foo\", \"12\"\nredis.del \"foo\", \"bar\" # => 1\nredis.del \"foo\", \"bar\" # => 0\n```","summary":"<p>Delete all specified keys and return the number of keys deleted.</p>","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"String"}],"args_string":"(*keys : String)","args_html":"(*keys : String)","location":{"filename":"src/commands.cr","line_number":137,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L137"},"def":{"name":"del","args":[{"name":"keys","external_name":"keys","restriction":"String"}],"splat_index":0,"visibility":"Public","body":"run({\"del\"} + keys)"}},{"html_id":"exists(*keys:String)-instance-method","name":"exists","doc":"Return the number of specified keys that exist\n\n```\nredis.exists(\"foo\", \"bar\") # => 0\nredis.set \"foo\", \"exists now\"\nredis.exists(\"foo\", \"bar\") # => 1\nredis.set \"bar\", \"also exists now\"\nredis.exists(\"foo\", \"bar\") # => 2\n```","summary":"<p>Return the number of specified keys that exist</p>","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"String"}],"args_string":"(*keys : String)","args_html":"(*keys : String)","location":{"filename":"src/commands.cr","line_number":162,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L162"},"def":{"name":"exists","args":[{"name":"keys","external_name":"keys","restriction":"String"}],"splat_index":0,"visibility":"Public","body":"run({\"exists\"} + keys)"}},{"html_id":"expire(key:String,ttl:Int)-instance-method","name":"expire","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"ttl","external_name":"ttl","restriction":"Int"}],"args_string":"(key : String, ttl : Int)","args_html":"(key : String, ttl : Int)","location":{"filename":"src/commands.cr","line_number":180,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L180"},"def":{"name":"expire","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"ttl","external_name":"ttl","restriction":"Int"}],"visibility":"Public","body":"run({\"expire\", key, ttl.to_s})"}},{"html_id":"expireat(key:String,at:Time)-instance-method","name":"expireat","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"at","external_name":"at","restriction":"Time"}],"args_string":"(key : String, at : Time)","args_html":"(key : String, at : Time)","location":{"filename":"src/commands.cr","line_number":188,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L188"},"def":{"name":"expireat","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"at","external_name":"at","restriction":"Time"}],"visibility":"Public","body":"run({\"expireat\", key, at.to_unix.to_s})"}},{"html_id":"flushdb-instance-method","name":"flushdb","abstract":false,"location":{"filename":"src/commands.cr","line_number":226,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L226"},"def":{"name":"flushdb","visibility":"Public","body":"run({\"flushdb\"})"}},{"html_id":"ft-instance-method","name":"ft","summary":"<p><span class=\"flag lime\">EXPERIMENTAL</span>  RediSearch support is still under development. Some APIs may change while details are discovered.</p>","abstract":false,"location":{"filename":"src/search.cr","line_number":287,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L287"},"def":{"name":"ft","visibility":"Public","body":"FullText.new(self)"}},{"html_id":"get(key:String)-instance-method","name":"get","doc":"Get the value for the specified key\n\n```\nredis.set \"foo\", \"bar\"\nredis.get(\"foo\") # => \"bar\"\n```","summary":"<p>Get the value for the specified key</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":82,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L82"},"def":{"name":"get","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"get\", key})"}},{"html_id":"incr(key:String)-instance-method","name":"incr","doc":"Atomically increment and return the integer value for the specified key,\ncreating it if it does not exist\n\n```\nredis.del \"counter\"\nredis.incr \"counter\" # => 1\n```","summary":"<p>Atomically increment and return the integer value for the specified key, creating it if it does not exist</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":93,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L93"},"def":{"name":"incr","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"incr\", key})"}},{"html_id":"incrby(key:String,amount:Int|String)-instance-method","name":"incrby","doc":"Atomically increment and return the integer value for the specified key by\nthe specified amount, creating it if it does not exist\n\n```\nredis.del \"counter\"\nredis.incrby \"counter\", 2 # => 2\n```","summary":"<p>Atomically increment and return the integer value for the specified key by the specified amount, creating it if it does not exist</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"amount","external_name":"amount","restriction":"Int | String"}],"args_string":"(key : String, amount : Int | String)","args_html":"(key : String, amount : Int | String)","location":{"filename":"src/commands.cr","line_number":115,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L115"},"def":{"name":"incrby","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"amount","external_name":"amount","restriction":"Int | String"}],"visibility":"Public","body":"run({\"incrby\", key, amount.to_s})"}},{"html_id":"info-instance-method","name":"info","abstract":false,"location":{"filename":"src/commands.cr","line_number":230,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L230"},"def":{"name":"info","visibility":"Public","body":"((run({\"info\"})).as(String)).lines.reject do |line|\n  line =~ (/^(#|$)/)\nend.map(&.split(':', 2)).to_h"}},{"html_id":"json-instance-method","name":"json","doc":"Return a `Redis::JSON` instance that wraps the current `Redis::Client` or\n`Redis::Cluster`.","summary":"<p>Return a <code><a href=\"../Redis/JSON.html\">Redis::JSON</a></code> instance that wraps the current <code><a href=\"../Redis/Client.html\">Redis::Client</a></code> or <code><a href=\"../Redis/Cluster.html\">Redis::Cluster</a></code>.</p>\n<p><span class=\"flag lime\">EXPERIMENTAL</span>  Support for the RedisJSON module is still under development and subject to change.</p>","abstract":false,"location":{"filename":"src/json.cr","line_number":323,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L323"},"def":{"name":"json","visibility":"Public","body":"JSON.new(self)"}},{"html_id":"keys(pattern=\"*\")-instance-method","name":"keys","doc":"Get the keys whose names follow the specified glob pattern. If a pattern\nis not specified, it will return all keys by default. Be careful when\nusing this command on Redis servers with a lot of traffic and millions\nof keys.\n\n```\nredis.keys       # => [\"foo\", \"bar\", \"baz\"]\nredis.keys(\"f*\") # => [\"foo\"]\nredis.keys(\"b*\") # => [\"bar\", \"baz\"]\n```","summary":"<p>Get the keys whose names follow the specified glob pattern.</p>","abstract":false,"args":[{"name":"pattern","default_value":"\"*\"","external_name":"pattern","restriction":""}],"args_string":"(pattern = \"*\")","args_html":"(pattern = <span class=\"s\">&quot;*&quot;</span>)","location":{"filename":"src/commands.cr","line_number":39,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L39"},"def":{"name":"keys","args":[{"name":"pattern","default_value":"\"*\"","external_name":"pattern","restriction":""}],"visibility":"Public","body":"run({\"keys\", pattern})"}},{"html_id":"mget(keys:Enumerable(String))-instance-method","name":"mget","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"Enumerable(String)"}],"args_string":"(keys : Enumerable(String))","args_html":"(keys : Enumerable(String))","location":{"filename":"src/commands.cr","line_number":208,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L208"},"def":{"name":"mget","args":[{"name":"keys","external_name":"keys","restriction":"Enumerable(String)"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: 1 + keys.size)\ncommand << \"mget\"\nkeys.each do |key|\n  command << key\nend\nrun(command)\n"}},{"html_id":"mset(data:Hash(String,String))-instance-method","name":"mset","abstract":false,"args":[{"name":"data","external_name":"data","restriction":"Hash(String, String)"}],"args_string":"(data : Hash(String, String))","args_html":"(data : <a href=\"../Redis/Commands/Hash.html\">Hash</a>(String, String))","location":{"filename":"src/commands.cr","line_number":216,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L216"},"def":{"name":"mset","args":[{"name":"data","external_name":"data","restriction":"Hash(String, String)"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: 1 + data.size)\ncommand << \"mset\"\ndata.each do |key, value|\n  (command << key) << value\nend\nrun(command)\n"}},{"html_id":"pexpire(key:String,ttl:Int)-instance-method","name":"pexpire","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"ttl","external_name":"ttl","restriction":"Int"}],"args_string":"(key : String, ttl : Int)","args_html":"(key : String, ttl : Int)","location":{"filename":"src/commands.cr","line_number":184,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L184"},"def":{"name":"pexpire","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"ttl","external_name":"ttl","restriction":"Int"}],"visibility":"Public","body":"run({\"pexpire\", key, ttl.to_s})"}},{"html_id":"pexpireat(key:String,at:Time)-instance-method","name":"pexpireat","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"at","external_name":"at","restriction":"Time"}],"args_string":"(key : String, at : Time)","args_html":"(key : String, at : Time)","location":{"filename":"src/commands.cr","line_number":192,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L192"},"def":{"name":"pexpireat","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"at","external_name":"at","restriction":"Time"}],"visibility":"Public","body":"run({\"pexpireat\", key, at.to_unix_ms.to_s})"}},{"html_id":"pttl(key:String)-instance-method","name":"pttl","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":200,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L200"},"def":{"name":"pttl","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"pttl\", key})"}},{"html_id":"publish(channel:String,message:String)-instance-method","name":"publish","abstract":false,"args":[{"name":"channel","external_name":"channel","restriction":"String"},{"name":"message","external_name":"message","restriction":"String"}],"args_string":"(channel : String, message : String)","args_html":"(channel : String, message : String)","location":{"filename":"src/commands.cr","line_number":176,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L176"},"def":{"name":"publish","args":[{"name":"channel","external_name":"channel","restriction":"String"},{"name":"message","external_name":"message","restriction":"String"}],"visibility":"Public","body":"run({\"publish\", channel, message})"}},{"html_id":"run(command)-instance-method","name":"run","doc":"Execute the given command and return the result from the server. Commands\nmust be an `Enumerable` and its `size` method must be re-entrant.\n\n```\nrun({\"set\", \"foo\", \"bar\"})\n```","summary":"<p>Execute the given command and return the result from the server.</p>","abstract":true,"args":[{"name":"command","external_name":"command","restriction":""}],"args_string":"(command)","args_html":"(command)","location":{"filename":"src/commands.cr","line_number":27,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L27"},"def":{"name":"run","args":[{"name":"command","external_name":"command","restriction":""}],"visibility":"Public","body":""}},{"html_id":"scan(cursor:String=\"0\",match:String?=nil,count:String|Int|Nil=nil,type:String?=nil)-instance-method","name":"scan","abstract":false,"args":[{"name":"cursor","default_value":"\"0\"","external_name":"cursor","restriction":"String"},{"name":"match","default_value":"nil","external_name":"match","restriction":"String | ::Nil"},{"name":"count","default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"type","default_value":"nil","external_name":"type","restriction":"String | ::Nil"}],"args_string":"(cursor : String = \"0\", match : String? = nil, count : String | Int | Nil = nil, type : String? = nil)","args_html":"(cursor : String = <span class=\"s\">&quot;0&quot;</span>, match : String? = <span class=\"n\">nil</span>, count : String | Int | Nil = <span class=\"n\">nil</span>, type : String? = <span class=\"n\">nil</span>)","location":{"filename":"src/commands.cr","line_number":166,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L166"},"def":{"name":"scan","args":[{"name":"cursor","default_value":"\"0\"","external_name":"cursor","restriction":"String"},{"name":"match","default_value":"nil","external_name":"match","restriction":"String | ::Nil"},{"name":"count","default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"type","default_value":"nil","external_name":"type","restriction":"String | ::Nil"}],"visibility":"Public","body":"command = {\"scan\", cursor}\nif match\n  command = command + {\"match\", match}\nend\nif count\n  command = command + {\"count\", count.to_s}\nend\nif type\n  command = command + {\"type\", type}\nend\nrun(command)\n"}},{"html_id":"set(key:String,value:String,ex:String|Int?=nil,px:String|Int|Nil=nil,nx=false,xx=false,keepttl=false)-instance-method","name":"set","doc":"Set a given key to a given value, optionally specifying time-to-live (TTL).\n\n- `ex`: TTL in seconds (mnemonic: \"ex\" = \"expiration\")\n- `px`: TTL in milliseconds\n- `nx`: Only set this key if it does not exist (mnemonic: \"nx\" = it does \"not exist\")\n- `xx`: only set this key if it does exist (mnemonic: \"xx\" = it \"exists exists\" — look, I don't make the rules)\n- `keepttl`: If there is a TTL already set on the key, retain that TTL instead of overwriting it\n\n```\nredis.set \"foo\", \"bar\", ex: 1\nredis.get(\"foo\") # => \"bar\"\nsleep 1.second\nredis.get(\"foo\") # => nil\n```","summary":"<p>Set a given key to a given value, optionally specifying time-to-live (TTL).</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":"String"},{"name":"ex","default_value":"nil","external_name":"ex","restriction":"String | Int | ::Nil"},{"name":"px","default_value":"nil","external_name":"px","restriction":"String | Int | Nil"},{"name":"nx","default_value":"false","external_name":"nx","restriction":""},{"name":"xx","default_value":"false","external_name":"xx","restriction":""},{"name":"keepttl","default_value":"false","external_name":"keepttl","restriction":""}],"args_string":"(key : String, value : String, ex : String | Int? = nil, px : String | Int | Nil = nil, nx = false, xx = false, keepttl = false)","args_html":"(key : String, value : String, ex : String | Int? = <span class=\"n\">nil</span>, px : String | Int | Nil = <span class=\"n\">nil</span>, nx = <span class=\"n\">false</span>, xx = <span class=\"n\">false</span>, keepttl = <span class=\"n\">false</span>)","location":{"filename":"src/commands.cr","line_number":57,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L57"},"def":{"name":"set","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":"String"},{"name":"ex","default_value":"nil","external_name":"ex","restriction":"String | Int | ::Nil"},{"name":"px","default_value":"nil","external_name":"px","restriction":"String | Int | Nil"},{"name":"nx","default_value":"false","external_name":"nx","restriction":""},{"name":"xx","default_value":"false","external_name":"xx","restriction":""},{"name":"keepttl","default_value":"false","external_name":"keepttl","restriction":""}],"visibility":"Public","body":"command = {\"set\", key, value}\nif ex\n  command = command + {\"ex\", ex.to_s}\nend\nif px\n  command = command + {\"px\", px.to_s}\nend\nif nx\n  command = command + {\"nx\"}\nend\nif xx\n  command = command + {\"xx\"}\nend\nif keepttl\n  command = command + {\"keepttl\"}\nend\nrun(command)\n"}},{"html_id":"set(key,value,ex:Time,nx=false,xx=false,keepttl=false)-instance-method","name":"set","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""},{"name":"value","external_name":"value","restriction":""},{"name":"ex","external_name":"ex","restriction":"Time"},{"name":"nx","default_value":"false","external_name":"nx","restriction":""},{"name":"xx","default_value":"false","external_name":"xx","restriction":""},{"name":"keepttl","default_value":"false","external_name":"keepttl","restriction":""}],"args_string":"(key, value, ex : Time, nx = false, xx = false, keepttl = false)","args_html":"(key, value, ex : Time, nx = <span class=\"n\">false</span>, xx = <span class=\"n\">false</span>, keepttl = <span class=\"n\">false</span>)","location":{"filename":"src/commands.cr","line_number":68,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L68"},"def":{"name":"set","args":[{"name":"key","external_name":"key","restriction":""},{"name":"value","external_name":"value","restriction":""},{"name":"ex","external_name":"ex","restriction":"Time"},{"name":"nx","default_value":"false","external_name":"nx","restriction":""},{"name":"xx","default_value":"false","external_name":"xx","restriction":""},{"name":"keepttl","default_value":"false","external_name":"keepttl","restriction":""}],"visibility":"Public","body":"set(key, value, ex: ex - Time.utc, nx: nx, xx: xx, keepttl: keepttl)"}},{"html_id":"set(key,value,ex:Time::Span,nx=false,xx=false,keepttl=false)-instance-method","name":"set","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""},{"name":"value","external_name":"value","restriction":""},{"name":"ex","external_name":"ex","restriction":"Time::Span"},{"name":"nx","default_value":"false","external_name":"nx","restriction":""},{"name":"xx","default_value":"false","external_name":"xx","restriction":""},{"name":"keepttl","default_value":"false","external_name":"keepttl","restriction":""}],"args_string":"(key, value, ex : Time::Span, nx = false, xx = false, keepttl = false)","args_html":"(key, value, ex : Time::Span, nx = <span class=\"n\">false</span>, xx = <span class=\"n\">false</span>, keepttl = <span class=\"n\">false</span>)","location":{"filename":"src/commands.cr","line_number":72,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L72"},"def":{"name":"set","args":[{"name":"key","external_name":"key","restriction":""},{"name":"value","external_name":"value","restriction":""},{"name":"ex","external_name":"ex","restriction":"Time::Span"},{"name":"nx","default_value":"false","external_name":"nx","restriction":""},{"name":"xx","default_value":"false","external_name":"xx","restriction":""},{"name":"keepttl","default_value":"false","external_name":"keepttl","restriction":""}],"visibility":"Public","body":"set(key, value, px: ex.total_milliseconds.to_i64, nx: nx, xx: xx, keepttl: keepttl)"}},{"html_id":"ts-instance-method","name":"ts","doc":"Return a `Redis::TimeSeries` that wraps the current `Redis::Client` or\n`Redis::Cluster`.","summary":"<p>Return a <code><a href=\"../Redis/TimeSeries.html\">Redis::TimeSeries</a></code> that wraps the current <code><a href=\"../Redis/Client.html\">Redis::Client</a></code> or <code><a href=\"../Redis/Cluster.html\">Redis::Cluster</a></code>.</p>","abstract":false,"location":{"filename":"src/time_series.cr","line_number":387,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L387"},"def":{"name":"ts","visibility":"Public","body":"TimeSeries.new(self)"}},{"html_id":"ttl(key:String)-instance-method","name":"ttl","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":196,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L196"},"def":{"name":"ttl","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"ttl\", key})"}},{"html_id":"type(key:String)-instance-method","name":"type","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands.cr","line_number":204,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L204"},"def":{"name":"type","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"type\", key})"}},{"html_id":"unlink(keys:Enumerable(String))-instance-method","name":"unlink","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"Enumerable(String)"}],"args_string":"(keys : Enumerable(String))","args_html":"(keys : Enumerable(String))","location":{"filename":"src/commands.cr","line_number":145,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L145"},"def":{"name":"unlink","args":[{"name":"keys","external_name":"keys","restriction":"Enumerable(String)"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: 1 + keys.size)\ncommand << \"unlink\"\nkeys.each do |key|\n  command << key\nend\nrun(command)\n"}},{"html_id":"unlink(*keys:String)-instance-method","name":"unlink","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"String"}],"args_string":"(*keys : String)","args_html":"(*keys : String)","location":{"filename":"src/commands.cr","line_number":141,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands.cr#L141"},"def":{"name":"unlink","args":[{"name":"keys","external_name":"keys","restriction":"String"}],"splat_index":0,"visibility":"Public","body":"run({\"unlink\"} + keys)"}}],"types":[{"html_id":"redis/Redis/Commands/Hash","path":"Redis/Commands/Hash.html","kind":"module","full_name":"Redis::Commands::Hash","name":"Hash","abstract":false,"locations":[{"filename":"src/commands/hash.cr","line_number":1,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/hash.cr#L1"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"namespace":{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},"instance_methods":[{"html_id":"hget(key:String,field:String)-instance-method","name":"hget","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"field","external_name":"field","restriction":"String"}],"args_string":"(key : String, field : String)","args_html":"(key : String, field : String)","location":{"filename":"src/commands/hash.cr","line_number":2,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/hash.cr#L2"},"def":{"name":"hget","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"field","external_name":"field","restriction":"String"}],"visibility":"Public","body":"run({\"hget\", key, field})"}},{"html_id":"hgetall(key:String)-instance-method","name":"hgetall","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands/hash.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/hash.cr#L6"},"def":{"name":"hgetall","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"hgetall\", key})"}},{"html_id":"hmget(key:String,*fields:String)-instance-method","name":"hmget","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"fields","external_name":"fields","restriction":"String"}],"args_string":"(key : String, *fields : String)","args_html":"(key : String, *fields : String)","location":{"filename":"src/commands/hash.cr","line_number":10,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/hash.cr#L10"},"def":{"name":"hmget","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"fields","external_name":"fields","restriction":"String"}],"splat_index":1,"visibility":"Public","body":"run({\"hmget\", key} + fields)"}},{"html_id":"hmset(key:String,data:::Hash(String,String))-instance-method","name":"hmset","summary":"<p><span class=\"flag red\">DEPRECATED</span>  The Redis HMSET command is deprecated. Use HSET instead. This method will be removed in v1.0.0 of this shard. See https://redis.io/commands/hmset/</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"data","external_name":"data","restriction":"::Hash(String, String)"}],"args_string":"(key : String, data : ::Hash(String, String))","args_html":"(key : String, data : ::Hash(String, String))","location":{"filename":"src/commands/hash.cr","line_number":43,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/hash.cr#L43"},"def":{"name":"hmset","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"data","external_name":"data","restriction":"::Hash(String, String)"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: 2 + data.size)\n(command << \"hmset\") << key\ndata.each do |key, value|\n  (command << key) << value\nend\nrun(command)\n"}},{"html_id":"hset(key:String,data:::Hash(String,String))-instance-method","name":"hset","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"data","external_name":"data","restriction":"::Hash(String, String)"}],"args_string":"(key : String, data : ::Hash(String, String))","args_html":"(key : String, data : ::Hash(String, String))","location":{"filename":"src/commands/hash.cr","line_number":31,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/hash.cr#L31"},"def":{"name":"hset","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"data","external_name":"data","restriction":"::Hash(String, String)"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: 2 + data.size)\n(command << \"hset\") << key\ndata.each do |key, value|\n  (command << key) << value\nend\nrun(command)\n"}},{"html_id":"hset(key:String,*fields:String)-instance-method","name":"hset","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"fields","external_name":"fields","restriction":"String"}],"args_string":"(key : String, *fields : String)","args_html":"(key : String, *fields : String)","location":{"filename":"src/commands/hash.cr","line_number":27,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/hash.cr#L27"},"def":{"name":"hset","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"fields","external_name":"fields","restriction":"String"}],"splat_index":1,"visibility":"Public","body":"run({\"hset\", key} + fields)"}},{"html_id":"hset(key:String,**fields:String)-instance-method","name":"hset","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String, **fields : String)","args_html":"(key : String, **fields : String)","location":{"filename":"src/commands/hash.cr","line_number":14,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/hash.cr#L14"},"def":{"name":"hset","args":[{"name":"key","external_name":"key","restriction":"String"}],"double_splat":{"name":"fields","external_name":"fields","restriction":"String"},"visibility":"Public","body":"hash = ::Hash(String, String).new(initial_capacity: fields.size)\nfields.each do |key, value|\n  hash[key.to_s] = value\nend\nhset(key, hash)\n"}}]},{"html_id":"redis/Redis/Commands/List","path":"Redis/Commands/List.html","kind":"module","full_name":"Redis::Commands::List","name":"List","abstract":false,"locations":[{"filename":"src/commands/list.cr","line_number":1,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L1"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"namespace":{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},"instance_methods":[{"html_id":"blpop(*keys:String,timeout:Time::Span)-instance-method","name":"blpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method waits the specified amount\nof time for an element to be added to it by another connection. If the\nelement *is* added by another connection within that amount of time, this\nmethod will return it immediately. If it *is not*, then this method returns\n`nil`.\n\n```\nredis.rpush \"foo\", \"first\"\nspawn do\n  sleep 100.milliseconds\n  redis.rpush \"foo\", \"second\"\nend\nredis.blpop \"foo\", 1.second # => \"first\"\nredis.blpop \"foo\", 1.second # => \"second\" (after 100 milliseconds)\nredis.blpop \"foo\", 1.second # => nil (after 1 second)\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"String"},{"name":"timeout","external_name":"timeout","restriction":"Time::Span"}],"args_string":"(*keys : String, timeout : Time::Span)","args_html":"(*keys : String, timeout : Time::Span)","location":{"filename":"src/commands/list.cr","line_number":98,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L98"},"def":{"name":"blpop","args":[{"name":"keys","external_name":"keys","restriction":"String"},{"name":"timeout","external_name":"timeout","restriction":"Time::Span"}],"splat_index":0,"visibility":"Public","body":"blpop(*keys, timeout: timeout.total_seconds.to_i.to_s)"}},{"html_id":"blpop(*keys:String,timeout:Int|Float)-instance-method","name":"blpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method waits the specified number\nof seconds for an element to be added to it by another connection. If the\nelement *is* added by another connection within that number of seconds,\nthis method will return it immediately. If it *is not*, then this method\nreturns `nil`.\n\n```\nredis.lpush \"foo\", \"first\"\nspawn do\n  sleep 100.milliseconds\n  redis.lpush \"foo\", \"second\"\nend\nredis.blpop \"foo\", 1 # => \"first\"\nredis.blpop \"foo\", 1 # => \"second\" (after 100 milliseconds)\nredis.blpop \"foo\", 1 # => nil (after 1 second)\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"String"},{"name":"timeout","external_name":"timeout","restriction":"Int | Float"}],"args_string":"(*keys : String, timeout : Int | Float)","args_html":"(*keys : String, timeout : Int | Float)","location":{"filename":"src/commands/list.cr","line_number":119,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L119"},"def":{"name":"blpop","args":[{"name":"keys","external_name":"keys","restriction":"String"},{"name":"timeout","external_name":"timeout","restriction":"Int | Float"}],"splat_index":0,"visibility":"Public","body":"if timeout == timeout.to_i\n  timeout = timeout.to_i\nend\nblpop(*keys, timeout: timeout.to_s)\n"}},{"html_id":"blpop(*keys:String,timeout:String)-instance-method","name":"blpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method waits the specified number\nof seconds for an element to be added to it by another connection. If the\nelement *is* added by another connection within that number of seconds,\nthis method will return it immediately. If it *is not*, then this method\nreturns `nil`.\n\n```\nredis.lpush \"foo\", \"first\"\nspawn do\n  sleep 100.milliseconds\n  redis.lpush \"foo\", \"second\"\nend\nredis.blpop \"foo\", \"1\" # => \"first\"\nredis.blpop \"foo\", \"1\" # => \"second\" (after 100 milliseconds)\nredis.blpop \"foo\", \"1\" # => nil (after 1 second)\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"String"},{"name":"timeout","external_name":"timeout","restriction":"String"}],"args_string":"(*keys : String, timeout : String)","args_html":"(*keys : String, timeout : String)","location":{"filename":"src/commands/list.cr","line_number":141,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L141"},"def":{"name":"blpop","args":[{"name":"keys","external_name":"keys","restriction":"String"},{"name":"timeout","external_name":"timeout","restriction":"String"}],"splat_index":0,"visibility":"Public","body":"run(({\"blpop\"} + keys) + {timeout})"}},{"html_id":"brpop(keys:Enumerable(String),timeout:Int)-instance-method","name":"brpop","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"Enumerable(String)"},{"name":"timeout","external_name":"timeout","restriction":"Int"}],"args_string":"(keys : Enumerable(String), timeout : Int)","args_html":"(keys : Enumerable(String), timeout : Int)","location":{"filename":"src/commands/list.cr","line_number":217,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L217"},"def":{"name":"brpop","args":[{"name":"keys","external_name":"keys","restriction":"Enumerable(String)"},{"name":"timeout","external_name":"timeout","restriction":"Int"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: 2 + keys.size)\ncommand << \"brpop\"\nkeys.each do |key|\n  command << key\nend\ncommand << timeout.to_s\nrun(command)\n"}},{"html_id":"brpop(*keys:String,timeout:Time::Span)-instance-method","name":"brpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method waits the specified amount\nof time for an element to be added to it by another connection. If the\nelement *is* added by another connection within that amount of time, this\nmethod will return it immediately. If it *is not*, then this method returns\n`nil`.\n\n```\nredis.lpush \"foo\", \"first\"\nspawn do\n  sleep 100.milliseconds\n  redis.lpush \"foo\", \"second\"\nend\nredis.brpop \"foo\", 1.second # => \"first\"\nredis.brpop \"foo\", 1.second # => \"second\" (after 100 milliseconds)\nredis.brpop \"foo\", 1.second # => nil (after 1 second)\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"String"},{"name":"timeout","external_name":"timeout","restriction":"Time::Span"}],"args_string":"(*keys : String, timeout : Time::Span)","args_html":"(*keys : String, timeout : Time::Span)","location":{"filename":"src/commands/list.cr","line_number":162,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L162"},"def":{"name":"brpop","args":[{"name":"keys","external_name":"keys","restriction":"String"},{"name":"timeout","external_name":"timeout","restriction":"Time::Span"}],"splat_index":0,"visibility":"Public","body":"brpop(*keys, timeout: timeout.total_seconds)"}},{"html_id":"brpop(*keys:String,timeout:Number)-instance-method","name":"brpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method waits the specified number\nof seconds for an element to be added to it by another connection. If the\nelement *is* added by another connection within that number of seconds,\nthis method will return it immediately. If it *is not*, then this method\nreturns `nil`.\n\n```\nredis.lpush \"foo\", \"first\"\nspawn do\n  sleep 100.milliseconds\n  redis.lpush \"foo\", \"second\"\nend\nredis.brpop \"foo\", 1 # => \"first\"\nredis.brpop \"foo\", 1 # => \"second\" (after 100 milliseconds)\nredis.brpop \"foo\", 1 # => nil (after 1 second)\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"String"},{"name":"timeout","external_name":"timeout","restriction":"Number"}],"args_string":"(*keys : String, timeout : Number)","args_html":"(*keys : String, timeout : Number)","location":{"filename":"src/commands/list.cr","line_number":183,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L183"},"def":{"name":"brpop","args":[{"name":"keys","external_name":"keys","restriction":"String"},{"name":"timeout","external_name":"timeout","restriction":"Number"}],"splat_index":0,"visibility":"Public","body":"if timeout == timeout.to_i\n  timeout = timeout.to_i\nend\nbrpop(*keys, timeout: timeout.to_s)\n"}},{"html_id":"brpop(*keys:String,timeout:String)-instance-method","name":"brpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method waits the specified number\nof seconds for an element to be added to it by another connection. If the\nelement *is* added by another connection within that number of seconds,\nthis method will return it immediately. If it *is not*, then this method\nreturns `nil`.\n\n```\nredis.lpush \"foo\", \"first\"\nspawn do\n  sleep 100.milliseconds\n  redis.lpush \"foo\", \"second\"\nend\nredis.brpop \"foo\", \"1\" # => \"first\"\nredis.brpop \"foo\", \"1\" # => \"second\" (after 100 milliseconds)\nredis.brpop \"foo\", \"1\" # => nil (after 1 second)\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"String"},{"name":"timeout","external_name":"timeout","restriction":"String"}],"args_string":"(*keys : String, timeout : String)","args_html":"(*keys : String, timeout : String)","location":{"filename":"src/commands/list.cr","line_number":205,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L205"},"def":{"name":"brpop","args":[{"name":"keys","external_name":"keys","restriction":"String"},{"name":"timeout","external_name":"timeout","restriction":"String"}],"splat_index":0,"visibility":"Public","body":"run(({\"brpop\"} + keys) + {timeout})"}},{"html_id":"llen(key:String)-instance-method","name":"llen","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands/list.cr","line_number":209,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L209"},"def":{"name":"llen","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"llen\", key})"}},{"html_id":"lpop(key:String,count:String?=nil)-instance-method","name":"lpop","doc":"Remove an item from the beginning of a list, returning the item or `nil`\nif the list was empty.\n\n```\nredis.del \"my-list\" # Delete so we know it's empty\nredis.lpush \"my-list\", \"foo\"\nredis.lpop \"my-list\" # => \"foo\"\nredis.lpop \"my-list\" # => nil\n```","summary":"<p>Remove an item from the beginning of a list, returning the item or <code>nil</code> if the list was empty.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"count","default_value":"nil","external_name":"count","restriction":"String | ::Nil"}],"args_string":"(key : String, count : String? = nil)","args_html":"(key : String, count : String? = <span class=\"n\">nil</span>)","location":{"filename":"src/commands/list.cr","line_number":31,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L31"},"def":{"name":"lpop","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"count","default_value":"nil","external_name":"count","restriction":"String | ::Nil"}],"visibility":"Public","body":"command = {\"lpop\", key}\nif count\n  command = command + {count}\nend\nrun(command)\n"}},{"html_id":"lpush(key:String,values:Enumerable(String))-instance-method","name":"lpush","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"values","external_name":"values","restriction":"Enumerable(String)"}],"args_string":"(key : String, values : Enumerable(String))","args_html":"(key : String, values : Enumerable(String))","location":{"filename":"src/commands/list.cr","line_number":14,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L14"},"def":{"name":"lpush","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"values","external_name":"values","restriction":"Enumerable(String)"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: 2 + values.size)\n(command << \"lpush\") << key\nvalues.each do |value|\n  command << value\nend\nrun(command)\n"}},{"html_id":"lpush(key,*values:String)-instance-method","name":"lpush","doc":"Insert an item at the beginning of a list, returning the number of items\nin the list after the insert.\n\n```\nredis.del \"my-list\"                 # Delete so we know it's empty\nredis.lpush \"my-list\", \"foo\", \"bar\" # => 2\nredis.lpush \"my-list\", \"foo\", \"bar\" # => 4\n```","summary":"<p>Insert an item at the beginning of a list, returning the number of items in the list after the insert.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""},{"name":"values","external_name":"values","restriction":"String"}],"args_string":"(key, *values : String)","args_html":"(key, *values : String)","location":{"filename":"src/commands/list.cr","line_number":10,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L10"},"def":{"name":"lpush","args":[{"name":"key","external_name":"key","restriction":""},{"name":"values","external_name":"values","restriction":"String"}],"splat_index":1,"visibility":"Public","body":"run({\"lpush\", key} + values)"}},{"html_id":"lrange(key:String,start:String,finish:String)-instance-method","name":"lrange","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"start","external_name":"start","restriction":"String"},{"name":"finish","external_name":"finish","restriction":"String"}],"args_string":"(key : String, start : String, finish : String)","args_html":"(key : String, start : String, finish : String)","location":{"filename":"src/commands/list.cr","line_number":38,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L38"},"def":{"name":"lrange","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"start","external_name":"start","restriction":"String"},{"name":"finish","external_name":"finish","restriction":"String"}],"visibility":"Public","body":"run({\"lrange\", key, start, finish})"}},{"html_id":"lrem(key:String,count:Int,value:String)-instance-method","name":"lrem","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"count","external_name":"count","restriction":"Int"},{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(key : String, count : Int, value : String)","args_html":"(key : String, count : Int, value : String)","location":{"filename":"src/commands/list.cr","line_number":213,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L213"},"def":{"name":"lrem","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"count","external_name":"count","restriction":"Int"},{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"run({\"lrem\", key, count.to_s, value})"}},{"html_id":"rpop(key:String)-instance-method","name":"rpop","doc":"Remove and return an element from the end of the given list. If the list\nis empty or the key does not exist, this method returns `nil`\n\n```\nredis.lpush \"foo\", \"hello\"\nredis.rpop \"foo\" # => \"hello\"\nredis.rpop \"foo\" # => nil\n```","summary":"<p>Remove and return an element from the end of the given list.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands/list.cr","line_number":65,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L65"},"def":{"name":"rpop","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"rpop\", key})"}},{"html_id":"rpoplpush(source:String,destination:String)-instance-method","name":"rpoplpush","doc":"Atomically remove an item from the end of a list and insert it at the\nbeginning of another. Returns that list item. If the first list is empty,\nnothing happens and this method returns `nil`.\n\n```\nredis.del \"foo\"\nredis.lpush \"foo\", \"hello\", \"world\"\nredis.rpoplpush \"foo\", \"bar\" # => \"hello\"\nredis.rpoplpush \"foo\", \"bar\" # => \"world\"\nredis.rpoplpush \"foo\", \"bar\" # => nil\n```","summary":"<p>Atomically remove an item from the end of a list and insert it at the beginning of another.</p>","abstract":false,"args":[{"name":"source","external_name":"source","restriction":"String"},{"name":"destination","external_name":"destination","restriction":"String"}],"args_string":"(source : String, destination : String)","args_html":"(source : String, destination : String)","location":{"filename":"src/commands/list.cr","line_number":53,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L53"},"def":{"name":"rpoplpush","args":[{"name":"source","external_name":"source","restriction":"String"},{"name":"destination","external_name":"destination","restriction":"String"}],"visibility":"Public","body":"run({\"rpoplpush\", source, destination})"}},{"html_id":"rpush(key,*values:String)-instance-method","name":"rpush","doc":"Insert an item at the end of a list, returning the number of items\nin the list after the insert.\n\n```\nredis.del \"my-list\"                 # Delete so we know it's empty\nredis.rpush \"my-list\", \"foo\", \"bar\" # => 2\nredis.rpush \"my-list\", \"foo\", \"bar\" # => 4\n```","summary":"<p>Insert an item at the end of a list, returning the number of items in the list after the insert.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":""},{"name":"values","external_name":"values","restriction":"String"}],"args_string":"(key, *values : String)","args_html":"(key, *values : String)","location":{"filename":"src/commands/list.cr","line_number":77,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/list.cr#L77"},"def":{"name":"rpush","args":[{"name":"key","external_name":"key","restriction":""},{"name":"values","external_name":"values","restriction":"String"}],"splat_index":1,"visibility":"Public","body":"run({\"rpush\", key} + values)"}}]},{"html_id":"redis/Redis/Commands/Set","path":"Redis/Commands/Set.html","kind":"module","full_name":"Redis::Commands::Set","name":"Set","abstract":false,"locations":[{"filename":"src/commands/set.cr","line_number":1,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/set.cr#L1"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"namespace":{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},"instance_methods":[{"html_id":"sadd(key:String,*values:String)-instance-method","name":"sadd","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"values","external_name":"values","restriction":"String"}],"args_string":"(key : String, *values : String)","args_html":"(key : String, *values : String)","location":{"filename":"src/commands/set.cr","line_number":2,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/set.cr#L2"},"def":{"name":"sadd","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"values","external_name":"values","restriction":"String"}],"splat_index":1,"visibility":"Public","body":"run({\"sadd\", key} + values)"}},{"html_id":"scard(key:String)-instance-method","name":"scard","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands/set.cr","line_number":36,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/set.cr#L36"},"def":{"name":"scard","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"scard\", key})"}},{"html_id":"sdiff(first:String,second:String)-instance-method","name":"sdiff","abstract":false,"args":[{"name":"first","external_name":"first","restriction":"String"},{"name":"second","external_name":"second","restriction":"String"}],"args_string":"(first : String, second : String)","args_html":"(first : String, second : String)","location":{"filename":"src/commands/set.cr","line_number":28,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/set.cr#L28"},"def":{"name":"sdiff","args":[{"name":"first","external_name":"first","restriction":"String"},{"name":"second","external_name":"second","restriction":"String"}],"visibility":"Public","body":"run({\"sdiff\", first, second})"}},{"html_id":"sinter(first:String,*others:String)-instance-method","name":"sinter","abstract":false,"args":[{"name":"first","external_name":"first","restriction":"String"},{"name":"others","external_name":"others","restriction":"String"}],"args_string":"(first : String, *others : String)","args_html":"(first : String, *others : String)","location":{"filename":"src/commands/set.cr","line_number":32,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/set.cr#L32"},"def":{"name":"sinter","args":[{"name":"first","external_name":"first","restriction":"String"},{"name":"others","external_name":"others","restriction":"String"}],"splat_index":1,"visibility":"Public","body":"run({\"sinter\", first} + others)"}},{"html_id":"sismember(key:String,value:String)-instance-method","name":"sismember","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(key : String, value : String)","args_html":"(key : String, value : String)","location":{"filename":"src/commands/set.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/set.cr#L6"},"def":{"name":"sismember","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"run({\"sismember\", key, value})"}},{"html_id":"smembers(key:String)-instance-method","name":"smembers","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands/set.cr","line_number":10,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/set.cr#L10"},"def":{"name":"smembers","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"smembers\", key})"}},{"html_id":"srem(key:String,members:Enumerable(String))-instance-method","name":"srem","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"members","external_name":"members","restriction":"Enumerable(String)"}],"args_string":"(key : String, members : Enumerable(String))","args_html":"(key : String, members : Enumerable(String))","location":{"filename":"src/commands/set.cr","line_number":18,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/set.cr#L18"},"def":{"name":"srem","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"members","external_name":"members","restriction":"Enumerable(String)"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: 2 + members.size)\n(command << \"srem\") << key\nmembers.each do |member|\n  command << member\nend\nrun(command)\n"}},{"html_id":"srem(key:String,*values:String)-instance-method","name":"srem","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"values","external_name":"values","restriction":"String"}],"args_string":"(key : String, *values : String)","args_html":"(key : String, *values : String)","location":{"filename":"src/commands/set.cr","line_number":14,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/set.cr#L14"},"def":{"name":"srem","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"values","external_name":"values","restriction":"String"}],"splat_index":1,"visibility":"Public","body":"run({\"srem\", key} + values)"}}]},{"html_id":"redis/Redis/Commands/SortedSet","path":"Redis/Commands/SortedSet.html","kind":"module","full_name":"Redis::Commands::SortedSet","name":"SortedSet","abstract":false,"locations":[{"filename":"src/commands/sorted_set.cr","line_number":1,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/sorted_set.cr#L1"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"namespace":{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},"instance_methods":[{"html_id":"zadd(key:String,score:String|Float,value:String)-instance-method","name":"zadd","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"score","external_name":"score","restriction":"String | Float"},{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(key : String, score : String | Float, value : String)","args_html":"(key : String, score : String | Float, value : String)","location":{"filename":"src/commands/sorted_set.cr","line_number":42,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/sorted_set.cr#L42"},"def":{"name":"zadd","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"score","external_name":"score","restriction":"String | Float"},{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"run({\"zadd\", key, score.to_s, value})"}},{"html_id":"zadd(key:String,values:Enumerable)-instance-method","name":"zadd","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"values","external_name":"values","restriction":"Enumerable"}],"args_string":"(key : String, values : Enumerable)","args_html":"(key : String, values : Enumerable)","location":{"filename":"src/commands/sorted_set.cr","line_number":46,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/sorted_set.cr#L46"},"def":{"name":"zadd","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"values","external_name":"values","restriction":"Enumerable"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: 2 + values.size)\n(command << \"zadd\") << key\nvalues.each do |value|\n  command << (value.as(String))\nend\nrun(command)\n"}},{"html_id":"zcard(key:String)-instance-method","name":"zcard","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands/sorted_set.cr","line_number":2,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/sorted_set.cr#L2"},"def":{"name":"zcard","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"zcard\", key})"}},{"html_id":"zrange(key:String,starting:String|Int,ending:String|Int,with_scores:Bool=false)-instance-method","name":"zrange","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"starting","external_name":"starting","restriction":"String | Int"},{"name":"ending","external_name":"ending","restriction":"String | Int"},{"name":"with_scores","default_value":"false","external_name":"with_scores","restriction":"Bool"}],"args_string":"(key : String, starting : String | Int, ending : String | Int, with_scores : Bool = false)","args_html":"(key : String, starting : String | Int, ending : String | Int, with_scores : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/commands/sorted_set.cr","line_number":15,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/sorted_set.cr#L15"},"def":{"name":"zrange","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"starting","external_name":"starting","restriction":"String | Int"},{"name":"ending","external_name":"ending","restriction":"String | Int"},{"name":"with_scores","default_value":"false","external_name":"with_scores","restriction":"Bool"}],"visibility":"Public","body":"command = {\"zrange\", key, starting.to_s, ending.to_s}\nif with_scores\n  command = command + {\"withscores\"}\nend\nrun(command)\n"}},{"html_id":"zrangebyscore(key:String,low:String|Float,high:String|Float,limit:Enumerable(String)?=nil)-instance-method","name":"zrangebyscore","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"low","external_name":"low","restriction":"String | Float"},{"name":"high","external_name":"high","restriction":"String | Float"},{"name":"limit","default_value":"nil","external_name":"limit","restriction":"Enumerable(String) | ::Nil"}],"args_string":"(key : String, low : String | Float, high : String | Float, limit : Enumerable(String)? = nil)","args_html":"(key : String, low : String | Float, high : String | Float, limit : Enumerable(String)? = <span class=\"n\">nil</span>)","location":{"filename":"src/commands/sorted_set.cr","line_number":24,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/sorted_set.cr#L24"},"def":{"name":"zrangebyscore","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"low","external_name":"low","restriction":"String | Float"},{"name":"high","external_name":"high","restriction":"String | Float"},{"name":"limit","default_value":"nil","external_name":"limit","restriction":"Enumerable(String) | ::Nil"}],"visibility":"Public","body":"command = {\"zrangebyscore\", key, low.to_s, high.to_s}\nif limit\n  command = command + {\"limit\", limit[0], limit[1]}\nend\nrun(command)\n"}},{"html_id":"zrem(key:String,value:String)-instance-method","name":"zrem","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(key : String, value : String)","args_html":"(key : String, value : String)","location":{"filename":"src/commands/sorted_set.cr","line_number":54,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/sorted_set.cr#L54"},"def":{"name":"zrem","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"run({\"zrem\", key, value})"}},{"html_id":"zremrangebyrank(key:String,low:Int,high:Int)-instance-method","name":"zremrangebyrank","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"low","external_name":"low","restriction":"Int"},{"name":"high","external_name":"high","restriction":"Int"}],"args_string":"(key : String, low : Int, high : Int)","args_html":"(key : String, low : Int, high : Int)","location":{"filename":"src/commands/sorted_set.cr","line_number":38,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/sorted_set.cr#L38"},"def":{"name":"zremrangebyrank","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"low","external_name":"low","restriction":"Int"},{"name":"high","external_name":"high","restriction":"Int"}],"visibility":"Public","body":"run({\"zremrangebyrank\", key, low.to_s, high.to_s})"}},{"html_id":"zremrangebyscore(key:String,low:String|Float,high:String|Float)-instance-method","name":"zremrangebyscore","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"low","external_name":"low","restriction":"String | Float"},{"name":"high","external_name":"high","restriction":"String | Float"}],"args_string":"(key : String, low : String | Float, high : String | Float)","args_html":"(key : String, low : String | Float, high : String | Float)","location":{"filename":"src/commands/sorted_set.cr","line_number":34,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/sorted_set.cr#L34"},"def":{"name":"zremrangebyscore","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"low","external_name":"low","restriction":"String | Float"},{"name":"high","external_name":"high","restriction":"String | Float"}],"visibility":"Public","body":"run({\"zremrangebyscore\", key, low.to_s, high.to_s})"}},{"html_id":"zrevrange(key:String,starting:String|Int,ending:String|Int,with_scores:Bool=false)-instance-method","name":"zrevrange","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"starting","external_name":"starting","restriction":"String | Int"},{"name":"ending","external_name":"ending","restriction":"String | Int"},{"name":"with_scores","default_value":"false","external_name":"with_scores","restriction":"Bool"}],"args_string":"(key : String, starting : String | Int, ending : String | Int, with_scores : Bool = false)","args_html":"(key : String, starting : String | Int, ending : String | Int, with_scores : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/commands/sorted_set.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/sorted_set.cr#L6"},"def":{"name":"zrevrange","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"starting","external_name":"starting","restriction":"String | Int"},{"name":"ending","external_name":"ending","restriction":"String | Int"},{"name":"with_scores","default_value":"false","external_name":"with_scores","restriction":"Bool"}],"visibility":"Public","body":"command = {\"zrevrange\", key, starting.to_s, ending.to_s}\nif with_scores\n  command = command + {\"withscores\"}\nend\nrun(command)\n"}}]},{"html_id":"redis/Redis/Commands/Stream","path":"Redis/Commands/Stream.html","kind":"module","full_name":"Redis::Commands::Stream","name":"Stream","abstract":false,"locations":[{"filename":"src/commands/stream.cr","line_number":1,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L1"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"namespace":{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},"instance_methods":[{"html_id":"xack(key:String,group:String,id:String)-instance-method","name":"xack","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"group","external_name":"group","restriction":"String"},{"name":"id","external_name":"id","restriction":"String"}],"args_string":"(key : String, group : String, id : String)","args_html":"(key : String, group : String, id : String)","location":{"filename":"src/commands/stream.cr","line_number":249,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L249"},"def":{"name":"xack","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"group","external_name":"group","restriction":"String"},{"name":"id","external_name":"id","restriction":"String"}],"visibility":"Public","body":"run({\"xack\", key, group, id})"}},{"html_id":"xack(key:String,group:String,ids:Enumerable(String))-instance-method","name":"xack","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"group","external_name":"group","restriction":"String"},{"name":"ids","external_name":"ids","restriction":"Enumerable(String)"}],"args_string":"(key : String, group : String, ids : Enumerable(String))","args_html":"(key : String, group : String, ids : Enumerable(String))","location":{"filename":"src/commands/stream.cr","line_number":253,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L253"},"def":{"name":"xack","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"group","external_name":"group","restriction":"String"},{"name":"ids","external_name":"ids","restriction":"Enumerable(String)"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: ids.size + 3)\n((command << \"xack\") << key) << group\nids.each do |id|\n  command << id\nend\nrun(command)\n"}},{"html_id":"xadd(key:String,id:String,maxlen,data:Hash(String,String))-instance-method","name":"xadd","doc":"Append an entry with the specified data to the stream with the given `key`\nand gives it the specified `id`. If the id is `\"*\"`, Redis will assign it\nan id of the form `\"#{Time.utc.to_unix_ms}-#{autoincrementing_index}\"`.\nIf `maxlen` is provided, Redis will trim the stream to the specified\nlength. If `maxlen` is of the form `~ 1000`, Redis will trim it to\n*approximately* that length, removing entries when it can do so\nefficiently. This method returns the `id` that Redis stores.\n\n```\nredis.xadd \"my-stream\", \"*\", {\"name\" => \"foo\", \"id\" => UUID.random.to_s}\n```","summary":"<p>Append an entry with the specified data to the stream with the given <code>key</code> and gives it the specified <code>id</code>.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"id","external_name":"id","restriction":"String"},{"name":"maxlen","external_name":"maxlen","restriction":""},{"name":"data","external_name":"data","restriction":"Hash(String, String)"}],"args_string":"(key : String, id : String, maxlen, data : Hash(String, String))","args_html":"(key : String, id : String, maxlen, data : <a href=\"../../Redis/Commands/Hash.html\">Hash</a>(String, String))","location":{"filename":"src/commands/stream.cr","line_number":59,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L59"},"def":{"name":"xadd","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"id","external_name":"id","restriction":"String"},{"name":"maxlen","external_name":"maxlen","restriction":""},{"name":"data","external_name":"data","restriction":"Hash(String, String)"}],"visibility":"Public","body":"command = Array(Value).new(initial_capacity: (data.size * 2) + 3)\n(command << \"xadd\") << key\nif maxlen\n  (command << \"maxlen\") << maxlen\nend\ncommand << id\ndata.each do |key, value|\n  (command << key) << value\nend\nrun(command)\n"}},{"html_id":"xadd(key:String,id:String,data:Hash(String,String))-instance-method","name":"xadd","doc":"Append an entry with the specified data to the stream with the given `key`\nand gives it the specified `id`. If the id is `\"*\"`, Redis will assign it\nan id of the form `\"#{Time.utc.to_unix_ms}-#{autoincrementing_index}\"`.\nIf `maxlen` is provided, Redis will trim the stream to the specified\nlength. If `maxlen` is of the form `~ 1000`, Redis will trim it to\n*approximately* that length, removing entries when it can do so\nefficiently. This method returns the `id` that Redis stores.\n\n```\nredis.xadd \"my-stream\", \"*\", {\"name\" => \"foo\", \"id\" => UUID.random.to_s}\n```","summary":"<p>Append an entry with the specified data to the stream with the given <code>key</code> and gives it the specified <code>id</code>.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"id","external_name":"id","restriction":"String"},{"name":"data","external_name":"data","restriction":"Hash(String, String)"}],"args_string":"(key : String, id : String, data : Hash(String, String))","args_html":"(key : String, id : String, data : <a href=\"../../Redis/Commands/Hash.html\">Hash</a>(String, String))","location":{"filename":"src/commands/stream.cr","line_number":44,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L44"},"def":{"name":"xadd","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"id","external_name":"id","restriction":"String"},{"name":"data","external_name":"data","restriction":"Hash(String, String)"}],"visibility":"Public","body":"xadd(key, id, maxlen: nil, data: data)"}},{"html_id":"xadd(key:String,id:String,maxlen=nil,**data)-instance-method","name":"xadd","doc":"Append an entry with the specified data to the stream with the given `key`\nand gives it the specified `id`. If the id is `\"*\"`, Redis will assign it\nan id of the form `\"#{Time.utc.to_unix_ms}-#{autoincrementing_index}\"`.\nIf `maxlen` is provided, Redis will trim the stream to the specified\nlength. If `maxlen` is of the form `~ 1000`, Redis will trim it to\n*approximately* that length, removing entries when it can do so\nefficiently. This method returns the `id` that Redis stores.\n\n```\nredis.xadd \"my-stream\", \"*\", name: \"foo\", id: UUID.random.to_s\n```","summary":"<p>Append an entry with the specified data to the stream with the given <code>key</code> and gives it the specified <code>id</code>.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"id","external_name":"id","restriction":"String"},{"name":"maxlen","default_value":"nil","external_name":"maxlen","restriction":""}],"args_string":"(key : String, id : String, maxlen = nil, **data)","args_html":"(key : String, id : String, maxlen = <span class=\"n\">nil</span>, **data)","location":{"filename":"src/commands/stream.cr","line_number":13,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L13"},"def":{"name":"xadd","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"id","external_name":"id","restriction":"String"},{"name":"maxlen","default_value":"nil","external_name":"maxlen","restriction":""}],"double_splat":{"name":"data","external_name":"data","restriction":""},"visibility":"Public","body":"command = Array(Value).new(initial_capacity: (data.size * 2) + 6)\n(command << \"xadd\") << key\nif maxlen\n  command << \"maxlen\"\n  case maxlen\n  when Tuple\n    maxlen.each do |entry|\n      command << entry\n    end\n  when String\n    command << maxlen\n  end\nend\ncommand << id\ndata.each do |key, value|\n  (command << key.to_s) << value\nend\nrun(command)\n"}},{"html_id":"xautoclaim(key:String,group:String,consumer:String,min_idle_time:Time::Span,start:String,count:Int|String|Nil=nil)-instance-method","name":"xautoclaim","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"group","external_name":"group","restriction":"String"},{"name":"consumer","external_name":"consumer","restriction":"String"},{"name":"min_idle_time","external_name":"min_idle_time","restriction":"Time::Span"},{"name":"start","external_name":"start","restriction":"String"},{"name":"count","default_value":"nil","external_name":"count","restriction":"Int | String | Nil"}],"args_string":"(key : String, group : String, consumer : String, min_idle_time : Time::Span, start : String, count : Int | String | Nil = nil)","args_html":"(key : String, group : String, consumer : String, min_idle_time : Time::Span, start : String, count : Int | String | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/commands/stream.cr","line_number":261,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L261"},"def":{"name":"xautoclaim","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"group","external_name":"group","restriction":"String"},{"name":"consumer","external_name":"consumer","restriction":"String"},{"name":"min_idle_time","external_name":"min_idle_time","restriction":"Time::Span"},{"name":"start","external_name":"start","restriction":"String"},{"name":"count","default_value":"nil","external_name":"count","restriction":"Int | String | Nil"}],"visibility":"Public","body":"min_idle_time = min_idle_time.total_milliseconds.to_i.to_s\ncommand = {\"xautoclaim\", key, group, consumer, min_idle_time, start}\nif count\n  command = command + {\"count\", count.to_s}\nend\nrun(command)\n"}},{"html_id":"xdel(key:String,ids:Enumerable(String))-instance-method","name":"xdel","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"ids","external_name":"ids","restriction":"Enumerable(String)"}],"args_string":"(key : String, ids : Enumerable(String))","args_html":"(key : String, ids : Enumerable(String))","location":{"filename":"src/commands/stream.cr","line_number":75,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L75"},"def":{"name":"xdel","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"ids","external_name":"ids","restriction":"Enumerable(String)"}],"visibility":"Public","body":"command = Array(Value).new(initial_capacity: 2 + ids.size)\n(command << \"xdel\") << key\nids.each do |id|\n  command << id\nend\nrun(command)\n"}},{"html_id":"xdel(key:String,*ids:String)-instance-method","name":"xdel","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"ids","external_name":"ids","restriction":"String"}],"args_string":"(key : String, *ids : String)","args_html":"(key : String, *ids : String)","location":{"filename":"src/commands/stream.cr","line_number":71,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L71"},"def":{"name":"xdel","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"ids","external_name":"ids","restriction":"String"}],"splat_index":1,"visibility":"Public","body":"xdel(key, ids)"}},{"html_id":"xgroup(command:String,key:String,groupname:String)-instance-method","name":"xgroup","doc":"Run a Redis XGROUP subcommand for a given stream. See the [XGROUP command in the Redis documentation](https://redis.io/commands/xgroup) for more information.\n\n```\nredis.xgroup \"DESTROY\", \"my-stream\", \"my-group\"\n```","summary":"<p>Run a Redis XGROUP subcommand for a given stream.</p>","abstract":false,"args":[{"name":"command","external_name":"command","restriction":"String"},{"name":"key","external_name":"key","restriction":"String"},{"name":"groupname","external_name":"groupname","restriction":"String"}],"args_string":"(command : String, key : String, groupname : String)","args_html":"(command : String, key : String, groupname : String)","location":{"filename":"src/commands/stream.cr","line_number":135,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L135"},"def":{"name":"xgroup","args":[{"name":"command","external_name":"command","restriction":"String"},{"name":"key","external_name":"key","restriction":"String"},{"name":"groupname","external_name":"groupname","restriction":"String"}],"visibility":"Public","body":"run({\"xgroup\", command, key, groupname})"}},{"html_id":"xgroup(command:XGroup,key:String,groupname:String,*,id:String?=nil,mkstream=false,consumer_name:String?=nil)-instance-method","name":"xgroup","doc":"Run a Redis XGROUP subcommand for a given stream. See the [XGROUP command in the Redis documentation](https://redis.io/commands/xgroup) for more information.\n\n```\nredis.xgroup :create, \"my-stream\", \"my-group\", mkstream: true\n```","summary":"<p>Run a Redis XGROUP subcommand for a given stream.</p>","abstract":false,"args":[{"name":"command","external_name":"command","restriction":"XGroup"},{"name":"key","external_name":"key","restriction":"String"},{"name":"groupname","external_name":"groupname","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"id","default_value":"nil","external_name":"id","restriction":"String | ::Nil"},{"name":"mkstream","default_value":"false","external_name":"mkstream","restriction":""},{"name":"consumer_name","default_value":"nil","external_name":"consumer_name","restriction":"String | ::Nil"}],"args_string":"(command : XGroup, key : String, groupname : String, *, id : String? = nil, mkstream = false, consumer_name : String? = nil)","args_html":"(command : <a href=\"../../Redis/Commands/Stream/XGroup.html\">XGroup</a>, key : String, groupname : String, *, id : String? = <span class=\"n\">nil</span>, mkstream = <span class=\"n\">false</span>, consumer_name : String? = <span class=\"n\">nil</span>)","location":{"filename":"src/commands/stream.cr","line_number":113,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L113"},"def":{"name":"xgroup","args":[{"name":"command","external_name":"command","restriction":"XGroup"},{"name":"key","external_name":"key","restriction":"String"},{"name":"groupname","external_name":"groupname","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"id","default_value":"nil","external_name":"id","restriction":"String | ::Nil"},{"name":"mkstream","default_value":"false","external_name":"mkstream","restriction":""},{"name":"consumer_name","default_value":"nil","external_name":"consumer_name","restriction":"String | ::Nil"}],"splat_index":3,"visibility":"Public","body":"cmd = Array(String).new(initial_capacity: 7)\n(((cmd << \"xgroup\") << command.to_s) << key) << groupname\nif id\n  cmd << id\nend\nif mkstream\n  cmd << \"mkstream\"\nend\nif consumer_name\n  cmd << consumer_name\nend\nrun(cmd)\n"}},{"html_id":"xgroup(command:String,key:String,groupname:String,*args:String)-instance-method","name":"xgroup","doc":"Run a Redis XGROUP subcommand for a given stream. See the [XGROUP command in the Redis documentation](https://redis.io/commands/xgroup) for more information.\n\n```\nredis.xgroup \"CREATE\", \"my-stream\", \"my-group\", \"0\"\n```","summary":"<p>Run a Redis XGROUP subcommand for a given stream.</p>","abstract":false,"args":[{"name":"command","external_name":"command","restriction":"String"},{"name":"key","external_name":"key","restriction":"String"},{"name":"groupname","external_name":"groupname","restriction":"String"},{"name":"args","external_name":"args","restriction":"String"}],"args_string":"(command : String, key : String, groupname : String, *args : String)","args_html":"(command : String, key : String, groupname : String, *args : String)","location":{"filename":"src/commands/stream.cr","line_number":144,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L144"},"def":{"name":"xgroup","args":[{"name":"command","external_name":"command","restriction":"String"},{"name":"key","external_name":"key","restriction":"String"},{"name":"groupname","external_name":"groupname","restriction":"String"},{"name":"args","external_name":"args","restriction":"String"}],"splat_index":3,"visibility":"Public","body":"run({\"xgroup\", command, key, groupname} + args)"}},{"html_id":"xgroup_create(key:String,groupname:String,*,id:String=\"$\",mkstream=false)-instance-method","name":"xgroup_create","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"groupname","external_name":"groupname","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"id","default_value":"\"$\"","external_name":"id","restriction":"String"},{"name":"mkstream","default_value":"false","external_name":"mkstream","restriction":""}],"args_string":"(key : String, groupname : String, *, id : String = \"$\", mkstream = false)","args_html":"(key : String, groupname : String, *, id : String = <span class=\"s\">&quot;$&quot;</span>, mkstream = <span class=\"n\">false</span>)","location":{"filename":"src/commands/stream.cr","line_number":99,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L99"},"def":{"name":"xgroup_create","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"groupname","external_name":"groupname","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"id","default_value":"\"$\"","external_name":"id","restriction":"String"},{"name":"mkstream","default_value":"false","external_name":"mkstream","restriction":""}],"splat_index":2,"visibility":"Public","body":"xgroup(XGroup::CREATE, key, groupname, id: id, mkstream: mkstream)"}},{"html_id":"xgroup_create_consumer(key:String,groupname:String,consumer_name:String)-instance-method","name":"xgroup_create_consumer","doc":"XGROUP CREATECONSUMER key groupname consumername","summary":"<p>XGROUP CREATECONSUMER key groupname consumername</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"groupname","external_name":"groupname","restriction":"String"},{"name":"consumer_name","external_name":"consumer_name","restriction":"String"}],"args_string":"(key : String, groupname : String, consumer_name : String)","args_html":"(key : String, groupname : String, consumer_name : String)","location":{"filename":"src/commands/stream.cr","line_number":104,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L104"},"def":{"name":"xgroup_create_consumer","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"groupname","external_name":"groupname","restriction":"String"},{"name":"consumer_name","external_name":"consumer_name","restriction":"String"}],"visibility":"Public","body":"xgroup(XGroup::CREATECONSUMER, key, groupname, consumer_name: consumer_name)"}},{"html_id":"xlen(key:String)-instance-method","name":"xlen","doc":"Return the number of entries in the given stream","summary":"<p>Return the number of entries in the given stream</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/commands/stream.cr","line_number":84,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L84"},"def":{"name":"xlen","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"run({\"xlen\", key})"}},{"html_id":"xpending(key:String,group:String,start:String,endfinish:String,count:String|Int,idle:String|Time::Span|Nil=nil)-instance-method","name":"xpending","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"group","external_name":"group","restriction":"String"},{"name":"start","external_name":"start","restriction":"String"},{"name":"finish","external_name":"end","restriction":"String"},{"name":"count","external_name":"count","restriction":"String | Int"},{"name":"idle","default_value":"nil","external_name":"idle","restriction":"String | Time::Span | Nil"}],"args_string":"(key : String, group : String, start : String, end finish : String, count : String | Int, idle : String | Time::Span | Nil = nil)","args_html":"(key : String, group : String, start : String, end finish : String, count : String | Int, idle : String | Time::Span | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/commands/stream.cr","line_number":229,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L229"},"def":{"name":"xpending","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"group","external_name":"group","restriction":"String"},{"name":"start","external_name":"start","restriction":"String"},{"name":"finish","external_name":"end","restriction":"String"},{"name":"count","external_name":"count","restriction":"String | Int"},{"name":"idle","default_value":"nil","external_name":"idle","restriction":"String | Time::Span | Nil"}],"visibility":"Public","body":"command = {\"xpending\", key, group}\ncase idle\nwhen String\n  command = command + {\"idle\", idle}\nwhen Time::Span\n  command = command + {\"idle\", idle.total_milliseconds.to_i.to_s}\nend\ncommand = command + {start, finish, count.to_s}\nrun(command)\n"}},{"html_id":"xpending(key:String,group:String)-instance-method","name":"xpending","doc":"XPENDING key group [[IDLE min-idle-time] start end count [consumer]]","summary":"<p>XPENDING key group [[IDLE min-idle-time] start end count [consumer]]</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"group","external_name":"group","restriction":"String"}],"args_string":"(key : String, group : String)","args_html":"(key : String, group : String)","location":{"filename":"src/commands/stream.cr","line_number":225,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L225"},"def":{"name":"xpending","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"group","external_name":"group","restriction":"String"}],"visibility":"Public","body":"run({\"xpending\", key, group})"}},{"html_id":"xrange(key:String,startmin,endmax,count=nil)-instance-method","name":"xrange","doc":"Return the entries in the given stream between the `start` and `end` ids.\nIf `count` is provided, Redis will return only that number of entries.","summary":"<p>Return the entries in the given stream between the <code>start</code> and <code>end</code> ids.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"min","external_name":"start","restriction":""},{"name":"max","external_name":"end","restriction":""},{"name":"count","default_value":"nil","external_name":"count","restriction":""}],"args_string":"(key : String, start min, end max, count = nil)","args_html":"(key : String, start min, end max, count = <span class=\"n\">nil</span>)","location":{"filename":"src/commands/stream.cr","line_number":90,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L90"},"def":{"name":"xrange","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"min","external_name":"start","restriction":""},{"name":"max","external_name":"end","restriction":""},{"name":"count","default_value":"nil","external_name":"count","restriction":""}],"visibility":"Public","body":"command = {\"xrange\", key, min, max}\nif count\n  command = command + {\"count\", count}\nend\nrun(command)\n"}},{"html_id":"xreadgroup(group:String,consumer:String,count:String|Int|Nil=nil,block:Time::Span|String|Int|Nil=nil,no_ack=false,streams:::Hash(String,String)={}ofString=>String)-instance-method","name":"xreadgroup","doc":"Execute an `XREADGROUP` command on the Redis server.\n\nThis is returned in its raw form from Redis, but you can pass it to a\n`Redis::Streaming::XReadGroupResponse` to make it easier to work with.","summary":"<p>Execute an <code>XREADGROUP</code> command on the Redis server.</p>","abstract":false,"args":[{"name":"group","external_name":"group","restriction":"String"},{"name":"consumer","external_name":"consumer","restriction":"String"},{"name":"count","default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"block","default_value":"nil","external_name":"block","restriction":"Time::Span | String | Int | Nil"},{"name":"no_ack","default_value":"false","external_name":"no_ack","restriction":""},{"name":"streams","default_value":"{} of String => String","external_name":"streams","restriction":"::Hash(String, String)"}],"args_string":"(group : String, consumer : String, count : String | Int | Nil = nil, block : Time::Span | String | Int | Nil = nil, no_ack = false, streams : ::Hash(String, String) = {} of String => String)","args_html":"(group : String, consumer : String, count : String | Int | Nil = <span class=\"n\">nil</span>, block : Time::Span | String | Int | Nil = <span class=\"n\">nil</span>, no_ack = <span class=\"n\">false</span>, streams : ::Hash(String, String) = {} <span class=\"k\">of</span> <span class=\"t\">String</span> =&gt; <span class=\"t\">String</span>)","location":{"filename":"src/commands/stream.cr","line_number":152,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L152"},"def":{"name":"xreadgroup","args":[{"name":"group","external_name":"group","restriction":"String"},{"name":"consumer","external_name":"consumer","restriction":"String"},{"name":"count","default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"block","default_value":"nil","external_name":"block","restriction":"Time::Span | String | Int | Nil"},{"name":"no_ack","default_value":"false","external_name":"no_ack","restriction":""},{"name":"streams","default_value":"{} of String => String","external_name":"streams","restriction":"::Hash(String, String)"}],"visibility":"Public","body":"command = Array(Value).new(initial_capacity: 9 + (streams.size * 2))\n(((command << \"xreadgroup\") << \"group\") << group) << consumer\nif count\n  (command << \"count\") << count.to_s\nend\ncase block\nin Time::Span\n  (command << \"block\") << block.total_milliseconds.to_i.to_s\nin String\n  (command << \"block\") << block\nin Int\n  (command << \"block\") << block.to_s\nin Nil\nend\nif no_ack\n  command << \"noack\"\nend\ncommand << \"streams\"\nstreams.each_key do |key|\n  command << key\nend\nstreams.each_value do |value|\n  command << value\nend\nrun(command)\n"}},{"html_id":"xreadgroup(group:String,consumer:String,count:String|Int|Nil=nil,block:Time::Span|String|Int|Nil=nil,no_ack=false,streams:NamedTuple=NamedTuple.new)-instance-method","name":"xreadgroup","doc":"Execute an `XREADGROUP` command on the Redis server. If `block` is not nil, the server will block for up to that much time (if you pass a number, it will be interpreted as milliseconds) until any new messages enter the stream.\n\nThis is returned in its raw form from Redis, but you can pass it to a\n`Redis::Streaming::XReadGroupResponse` to make it easier to work with.\n\n```\n# Long-poll for up to 10 messages from the stream with key `my_stream`,\n# blocking for up to 2 seconds if there are no messages waiting.\nresponse = redis.xreadgroup \"group\", \"consumer\",\n  streams: {my_stream: \">\"},\n  count: 10,\n  block: 2.seconds\nresponse = Redis::Streaming::XReadGroupResponse.new(response)\n```","summary":"<p>Execute an <code>XREADGROUP</code> command on the Redis server.</p>","abstract":false,"args":[{"name":"group","external_name":"group","restriction":"String"},{"name":"consumer","external_name":"consumer","restriction":"String"},{"name":"count","default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"block","default_value":"nil","external_name":"block","restriction":"Time::Span | String | Int | Nil"},{"name":"no_ack","default_value":"false","external_name":"no_ack","restriction":""},{"name":"streams","default_value":"NamedTuple.new","external_name":"streams","restriction":"NamedTuple"}],"args_string":"(group : String, consumer : String, count : String | Int | Nil = nil, block : Time::Span | String | Int | Nil = nil, no_ack = false, streams : NamedTuple = NamedTuple.new)","args_html":"(group : String, consumer : String, count : String | Int | Nil = <span class=\"n\">nil</span>, block : Time::Span | String | Int | Nil = <span class=\"n\">nil</span>, no_ack = <span class=\"n\">false</span>, streams : NamedTuple = <span class=\"t\">NamedTuple</span>.<span class=\"k\">new</span>)","location":{"filename":"src/commands/stream.cr","line_number":195,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L195"},"def":{"name":"xreadgroup","args":[{"name":"group","external_name":"group","restriction":"String"},{"name":"consumer","external_name":"consumer","restriction":"String"},{"name":"count","default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"block","default_value":"nil","external_name":"block","restriction":"Time::Span | String | Int | Nil"},{"name":"no_ack","default_value":"false","external_name":"no_ack","restriction":""},{"name":"streams","default_value":"NamedTuple.new","external_name":"streams","restriction":"NamedTuple"}],"visibility":"Public","body":"command = Array(Value).new(initial_capacity: 9 + (streams.size * 2))\n(((command << \"xreadgroup\") << \"group\") << group) << consumer\nif count\n  (command << \"count\") << count.to_s\nend\ncase block\nin Time::Span\n  (command << \"block\") << block.total_milliseconds.to_i.to_s\nin String\n  (command << \"block\") << block\nin Int\n  (command << \"block\") << block.to_s\nin Nil\nend\nif no_ack\n  command << \"noack\"\nend\ncommand << \"streams\"\nstreams.each_key do |key|\n  command << key.to_s\nend\nstreams.each_value do |value|\n  command << value\nend\nrun(command)\n"}}],"types":[{"html_id":"redis/Redis/Commands/Stream/XGroup","path":"Redis/Commands/Stream/XGroup.html","kind":"enum","full_name":"Redis::Commands::Stream::XGroup","name":"XGroup","abstract":false,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/commands/stream.cr","line_number":123,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L123"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"CREATE","name":"CREATE","value":"0"},{"id":"DESTROY","name":"DESTROY","value":"1"},{"id":"CREATECONSUMER","name":"CREATECONSUMER","value":"2"},{"id":"DELCONSUMER","name":"DELCONSUMER","value":"3"}],"namespace":{"html_id":"redis/Redis/Commands/Stream","kind":"module","full_name":"Redis::Commands::Stream","name":"Stream"},"instance_methods":[{"html_id":"create?-instance-method","name":"create?","abstract":false,"location":{"filename":"src/commands/stream.cr","line_number":124,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L124"},"def":{"name":"create?","visibility":"Public","body":"self == CREATE"}},{"html_id":"createconsumer?-instance-method","name":"createconsumer?","abstract":false,"location":{"filename":"src/commands/stream.cr","line_number":126,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L126"},"def":{"name":"createconsumer?","visibility":"Public","body":"self == CREATECONSUMER"}},{"html_id":"delconsumer?-instance-method","name":"delconsumer?","abstract":false,"location":{"filename":"src/commands/stream.cr","line_number":127,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L127"},"def":{"name":"delconsumer?","visibility":"Public","body":"self == DELCONSUMER"}},{"html_id":"destroy?-instance-method","name":"destroy?","abstract":false,"location":{"filename":"src/commands/stream.cr","line_number":125,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/commands/stream.cr#L125"},"def":{"name":"destroy?","visibility":"Public","body":"self == DESTROY"}}]}]}]},{"html_id":"redis/Redis/Connection","path":"Redis/Connection.html","kind":"class","full_name":"Redis::Connection","name":"Connection","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},{"html_id":"redis/Redis/Commands/Stream","kind":"module","full_name":"Redis::Commands::Stream","name":"Stream"},{"html_id":"redis/Redis/Commands/SortedSet","kind":"module","full_name":"Redis::Commands::SortedSet","name":"SortedSet"},{"html_id":"redis/Redis/Commands/Set","kind":"module","full_name":"Redis::Commands::Set","name":"Set"},{"html_id":"redis/Redis/Commands/List","kind":"module","full_name":"Redis::Commands::List","name":"List"},{"html_id":"redis/Redis/Commands/Hash","kind":"module","full_name":"Redis::Commands::Hash","name":"Hash"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/connection.cr","line_number":14,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L14"},{"filename":"src/graph.cr","line_number":482,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L482"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"The connection wraps the TCP connection to the Redis server.","summary":"<p>The connection wraps the TCP connection to the Redis server.</p>","constructors":[{"html_id":"new(uri:URI=URI.parse(\"redis:///\"),dns_timeout=5.seconds,connect_timeout=10.seconds)-class-method","name":"new","doc":"We receive all connection information in the URI.\n\nSSL connections require specifying the `rediss://` scheme.\nPassword authentication uses the URI password.\nDB selection uses the URI path.","summary":"<p>We receive all connection information in the URI.</p>","abstract":false,"args":[{"name":"uri","default_value":"URI.parse(\"redis:///\")","external_name":"uri","restriction":"::URI"},{"name":"dns_timeout","default_value":"5.seconds","external_name":"dns_timeout","restriction":""},{"name":"connect_timeout","default_value":"10.seconds","external_name":"connect_timeout","restriction":""}],"args_string":"(uri : URI = URI.parse(\"redis:///\"), dns_timeout = 5.seconds, connect_timeout = 10.seconds)","args_html":"(uri : URI = <span class=\"t\">URI</span>.parse(<span class=\"s\">&quot;redis:///&quot;</span>), dns_timeout = <span class=\"n\">5</span>.seconds, connect_timeout = <span class=\"n\">10</span>.seconds)","location":{"filename":"src/connection.cr","line_number":24,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L24"},"def":{"name":"new","args":[{"name":"uri","default_value":"URI.parse(\"redis:///\")","external_name":"uri","restriction":"::URI"},{"name":"dns_timeout","default_value":"5.seconds","external_name":"dns_timeout","restriction":""},{"name":"connect_timeout","default_value":"10.seconds","external_name":"connect_timeout","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(uri, dns_timeout, connect_timeout)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"close-instance-method","name":"close","doc":"Close the connection to the server.","summary":"<p>Close the connection to the server.</p>","abstract":false,"location":{"filename":"src/connection.cr","line_number":282,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L282"},"def":{"name":"close","visibility":"Public","body":"@socket.close"}},{"html_id":"encode(command)-instance-method","name":"encode","doc":"Send the given command over the wire without waiting for a reply. This is\nuseful for query pipelining or sending commands that have no return value.\n\nWARNING: Be careful with this because you can get the client out of sync\nwith the server. You should almost never have to use this, but it can be\nuseful if a command like this has not been implemented yet.","summary":"<p>Send the given command over the wire without waiting for a reply.</p>","abstract":false,"args":[{"name":"command","external_name":"command","restriction":""}],"args_string":"(command)","args_html":"(command)","location":{"filename":"src/connection.cr","line_number":319,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L319"},"def":{"name":"encode","args":[{"name":"command","external_name":"command","restriction":""}],"visibility":"Public","body":"@writer.encode(command)"}},{"html_id":"flush-instance-method","name":"flush","doc":"Flush the connection buffer and make sure we've sent everything to the\nserver.","summary":"<p>Flush the connection buffer and make sure we've sent everything to the server.</p>","abstract":false,"location":{"filename":"src/connection.cr","line_number":293,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L293"},"def":{"name":"flush","visibility":"Public","body":"@socket.flush"}},{"html_id":"multi(retries=5,&)-instance-method","name":"multi","doc":"Execute a transaction within the server. The transaction is automatically\ncommitted at the end of the block or can be rolled back with\n`Transaction#discard`. Transactions are also rolled back if an exception\nis raised.\n\n```\nredis.multi do |redis|\n  redis.set \"foo\", \"bar\"\n  redis.incr \"counter\"\n  raise \"Oops!\"\nend\n\nredis.get \"foo\"     # => nil\nredis.get \"counter\" # => nil\n```","summary":"<p>Execute a transaction within the server.</p>","abstract":false,"args":[{"name":"retries","default_value":"5","external_name":"retries","restriction":""}],"args_string":"(retries = 5, &)","args_html":"(retries = <span class=\"n\">5</span>, &)","location":{"filename":"src/connection.cr","line_number":106,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L106"},"def":{"name":"multi","args":[{"name":"retries","default_value":"5","external_name":"retries","restriction":""}],"yields":1,"visibility":"Public","body":"loop do\n  begin\n    txn = Transaction.new(self)\n    begin\n      txn.start!\n      yield txn\n      if txn.discarded?\n        return [] of Value\n      else\n        return txn.exec.as(Array)\n      end\n    rescue ex\n      txn.discard\n      raise(ex)\n    end\n  rescue ex : IO::Error\n    if retries > 0\n      retries = retries - 1\n      initialize(@uri)\n    else\n      raise(ex)\n    end\n  end\nend"}},{"html_id":"pipeline(&)-instance-method","name":"pipeline","doc":"Execute a pipeline of commands. A pipeline sends all commands to the\nserver before reading any of the results.\n\n```\nredis.pipeline do |redis|\n  redis.set \"foo\", \"bar\"\n  redis.incr \"counter\"\nend\n```","summary":"<p>Execute a pipeline of commands.</p>","abstract":false,"location":{"filename":"src/connection.cr","line_number":72,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L72"},"def":{"name":"pipeline","yields":1,"visibility":"Public","body":"pipeline = Pipeline.new(self)\nerror = nil\nbegin\n  yield pipeline\nrescue ex\n  error = ex\nend\nflush\nresult = pipeline.commit\nif error\n  raise(error)\nelse\n  result\nend\n"}},{"html_id":"psubscribe(*channels:String,&block:Subscription,self->)-instance-method","name":"psubscribe","doc":"Subscribe to the given pubsub channels. The block yields a subscription\nobject and the connection. You can setup `on_message`, `on_subscribe`,\nand `on_unsubscribe` on the subscription.\n\n```\nredis.subscribe \"channel1\", \"channel2\" do |subscription, connection|\n  subscription.on_message do |channel, message|\n    if message == \"unsubscribe\"\n      connection.unsubscribe channel\n    end\n\n    # ...\n  end\n\n  # Respond to new subscribers\n  subscription.on_subscribe do |channel, sub_count|\n    connection.set \"sub_count:#{channel}\", sub_count.to_s\n  end\n\n  # Respond to losing subscribers\n  subscription.on_unsubscribe do |channel, sub_count|\n    connection.set \"sub_count:#{channel}\", sub_count.to_s\n  end\nend\n```\n\nFor more information, see the documentation for:\n- [`SUBSCRIBE`](https://redis.io/commands/subscribe/)\n- [`PSUBSCRIBE`](https://redis.io/commands/psubscribe/)","summary":"<p>Subscribe to the given pubsub channels.</p>","abstract":false,"args":[{"name":"channels","external_name":"channels","restriction":"String"}],"args_string":"(*channels : String, &block : Subscription, self -> )","args_html":"(*channels : String, &block : <a href=\"../Redis/Subscription.html\">Subscription</a>, <span class=\"k\">self</span> -> )","location":{"filename":"src/connection.cr","line_number":132,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L132"},"def":{"name":"psubscribe","args":[{"name":"channels","external_name":"channels","restriction":"String"}],"splat_index":0,"yields":2,"block_arg":{"name":"block","external_name":"block","restriction":"(Subscription, self ->)"},"visibility":"Public","body":"subscription = Subscription.new(self)\n@writer.encode({\"psubscribe\"} + channels)\nflush\nyield subscription, self\nsubscription.call\n"}},{"html_id":"punsubscribe(*channels:String)-instance-method","name":"punsubscribe","abstract":false,"args":[{"name":"channels","external_name":"channels","restriction":"String"}],"args_string":"(*channels : String)","args_html":"(*channels : String)","location":{"filename":"src/connection.cr","line_number":193,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L193"},"def":{"name":"punsubscribe","args":[{"name":"channels","external_name":"channels","restriction":"String"}],"splat_index":0,"visibility":"Public","body":"@writer.encode({\"punsubscribe\"} + channels)\nflush\n"}},{"html_id":"read-instance-method","name":"read","doc":"Read the next value from the server","summary":"<p>Read the next value from the server</p>","abstract":false,"location":{"filename":"src/connection.cr","line_number":298,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L298"},"def":{"name":"read","visibility":"Public","body":"@parser.read"}},{"html_id":"read?-instance-method","name":"read?","doc":"Read the next value from the server, returning `nil` if the connection is\nclosed.","summary":"<p>Read the next value from the server, returning <code>nil</code> if the connection is closed.</p>","abstract":false,"location":{"filename":"src/connection.cr","line_number":304,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L304"},"def":{"name":"read?","visibility":"Public","body":"@parser.read?"}},{"html_id":"readonly!:Nil-instance-method","name":"readonly!","doc":"Put this connection in a readonly state. This is typically used when\ntalking to replicas, and used automatically by `Cluster` for cluster\nreplicas.","summary":"<p>Put this connection in a readonly state.</p>","abstract":false,"location":{"filename":"src/connection.cr","line_number":201,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L201"},"def":{"name":"readonly!","return_type":"Nil","visibility":"Public","body":"run({\"readonly\"})"}},{"html_id":"run(command,retries=5):Value-instance-method","name":"run","doc":"Execute the given command and return the result from the server. Commands must be an `Enumerable`.\n\n```\nrun({\"set\", \"foo\", \"bar\"})\n```","summary":"<p>Execute the given command and return the result from the server.</p>","abstract":false,"args":[{"name":"command","external_name":"command","restriction":""},{"name":"retries","default_value":"5","external_name":"retries","restriction":""}],"args_string":"(command, retries = 5) : Value","args_html":"(command, retries = <span class=\"n\">5</span>) : <a href=\"../Redis/Value.html\">Value</a>","location":{"filename":"src/connection.cr","line_number":248,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L248"},"def":{"name":"run","args":[{"name":"command","external_name":"command","restriction":""},{"name":"retries","default_value":"5","external_name":"retries","restriction":""}],"return_type":"Value","visibility":"Public","body":"loop do\n  begin\n    @writer.encode(command)\n    flush\n    return read\n  rescue ex : IO::Error\n    if retries > 0\n      retries = retries - 1\n      initialize(@uri)\n    else\n      raise(ex)\n    end\n  end\nend"}},{"html_id":"scan_each(matchpattern:String?=nil,count:String|Int|Nil=nil,type:String?=nil,&):Nil-instance-method","name":"scan_each","doc":"Iterate over keys that match the given pattern or all keys if no pattern\nis supplied, yielding each key to the block. This is a much more efficient\nway to iterate over keys than `keys.each` — it avoids loading every key in\nmemory at the same time and also doesn't block the Redis server while it\ngenerates the array of all those keys.","summary":"<p>Iterate over keys that match the given pattern or all keys if no pattern is supplied, yielding each key to the block.</p>","abstract":false,"args":[{"name":"pattern","default_value":"nil","external_name":"match","restriction":"String | ::Nil"},{"name":"count","default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"type","default_value":"nil","external_name":"type","restriction":"String | ::Nil"}],"args_string":"(match pattern : String? = nil, count : String | Int | Nil = nil, type : String? = nil, &) : Nil","args_html":"(match pattern : String? = <span class=\"n\">nil</span>, count : String | Int | Nil = <span class=\"n\">nil</span>, type : String? = <span class=\"n\">nil</span>, &) : Nil","location":{"filename":"src/connection.cr","line_number":268,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L268"},"def":{"name":"scan_each","args":[{"name":"pattern","default_value":"nil","external_name":"match","restriction":"String | ::Nil"},{"name":"count","default_value":"nil","external_name":"count","restriction":"String | Int | Nil"},{"name":"type","default_value":"nil","external_name":"type","restriction":"String | ::Nil"}],"yields":1,"return_type":"Nil","visibility":"Public","body":"cursor = \"\"\nwhile !(cursor == \"0\")\n  response = scan(cursor, match: pattern, count: count, type: type)\n  cursor, results = response.as(Array)\n  cursor = cursor.as(String)\n  (results.as(Array)).each do |key|\n    yield key.as(String)\n  end\nend\n"}},{"html_id":"subscribe(*channels:String,&block:Subscription,self->)-instance-method","name":"subscribe","doc":"Subscribe to the given pubsub channels. The block yields a subscription\nobject and the connection. You can setup `on_message`, `on_subscribe`,\nand `on_unsubscribe` on the subscription.\n\n```\nredis.subscribe \"channel1\", \"channel2\" do |subscription, connection|\n  subscription.on_message do |channel, message|\n    if message == \"unsubscribe\"\n      connection.unsubscribe channel\n    end\n\n    # ...\n  end\n\n  # Respond to new subscribers\n  subscription.on_subscribe do |channel, sub_count|\n    connection.set \"sub_count:#{channel}\", sub_count.to_s\n  end\n\n  # Respond to losing subscribers\n  subscription.on_unsubscribe do |channel, sub_count|\n    connection.set \"sub_count:#{channel}\", sub_count.to_s\n  end\nend\n```\n\nFor more information, see the documentation for:\n- [`SUBSCRIBE`](https://redis.io/commands/subscribe/)\n- [`PSUBSCRIBE`](https://redis.io/commands/psubscribe/)","summary":"<p>Subscribe to the given pubsub channels.</p>","abstract":false,"args":[{"name":"channels","external_name":"channels","restriction":"String"}],"args_string":"(*channels : String, &block : Subscription, self -> )","args_html":"(*channels : String, &block : <a href=\"../Redis/Subscription.html\">Subscription</a>, <span class=\"k\">self</span> -> )","location":{"filename":"src/connection.cr","line_number":132,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L132"},"def":{"name":"subscribe","args":[{"name":"channels","external_name":"channels","restriction":"String"}],"splat_index":0,"yields":2,"block_arg":{"name":"block","external_name":"block","restriction":"(Subscription, self ->)"},"visibility":"Public","body":"subscription = Subscription.new(self)\n@writer.encode({\"subscribe\"} + channels)\nflush\nyield subscription, self\nsubscription.call\n"}},{"html_id":"subscribe(*channels:String)-instance-method","name":"subscribe","doc":"Subscribe to the given channels without having to pass a block, which\nwould block execution. This is useful to run inside of other subscription\nblocks to add new subscriptions.","summary":"<p>Subscribe to the given channels without having to pass a block, which would block execution.</p>","abstract":false,"args":[{"name":"channels","external_name":"channels","restriction":"String"}],"args_string":"(*channels : String)","args_html":"(*channels : String)","location":{"filename":"src/connection.cr","line_number":176,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L176"},"def":{"name":"subscribe","args":[{"name":"channels","external_name":"channels","restriction":"String"}],"splat_index":0,"visibility":"Public","body":"@writer.encode({\"subscribe\"} + channels)\nflush\n"}},{"html_id":"unsubscribe-instance-method","name":"unsubscribe","doc":"Unsubscribe this connection from all subscriptions.","summary":"<p>Unsubscribe this connection from all subscriptions.</p>","abstract":false,"location":{"filename":"src/connection.cr","line_number":182,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L182"},"def":{"name":"unsubscribe","visibility":"Public","body":"@writer.encode({\"unsubscribe\"})\nflush\n"}},{"html_id":"unsubscribe(*channels:String)-instance-method","name":"unsubscribe","doc":"Unsubscribe this connection the given channels.","summary":"<p>Unsubscribe this connection the given channels.</p>","abstract":false,"args":[{"name":"channels","external_name":"channels","restriction":"String"}],"args_string":"(*channels : String)","args_html":"(*channels : String)","location":{"filename":"src/connection.cr","line_number":188,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L188"},"def":{"name":"unsubscribe","args":[{"name":"channels","external_name":"channels","restriction":"String"}],"splat_index":0,"visibility":"Public","body":"@writer.encode({\"unsubscribe\"} + channels)\nflush\n"}},{"html_id":"url-instance-method","name":"url","doc":"The URI","summary":"<p>The URI</p>","abstract":false,"location":{"filename":"src/connection.cr","line_number":309,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L309"},"def":{"name":"url","visibility":"Public","body":"@uri.to_s"}}]},{"html_id":"redis/Redis/Error","path":"Redis/Error.html","kind":"class","full_name":"Redis::Error","name":"Error","abstract":false,"superclass":{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":4,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/errors.cr#L4"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"redis/Redis/BusyGroup","kind":"class","full_name":"Redis::BusyGroup","name":"BusyGroup"},{"html_id":"redis/Redis/Cluster/Error","kind":"class","full_name":"Redis::Cluster::Error","name":"Error"},{"html_id":"redis/Redis/Graph/Error","kind":"class","full_name":"Redis::Graph::Error","name":"Error"},{"html_id":"redis/Redis/NoGroup","kind":"class","full_name":"Redis::NoGroup","name":"NoGroup"},{"html_id":"redis/Redis/Subscription/InvalidMessage","kind":"class","full_name":"Redis::Subscription::InvalidMessage","name":"InvalidMessage"}],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"}},{"html_id":"redis/Redis/FullText","path":"Redis/FullText.html","kind":"struct","full_name":"Redis::FullText(Runnable)","name":"FullText","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/search.cr","line_number":23,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L23"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"`Redis::FullText` wraps a `Redis::Client` or `Redis::Cluster` to execute\ncommands against a fulltext search index located on a given server.\n\n```\nredis = Redis::Client.new\nredis.ft.create <<-INDEX\n  people-index ON HASH\n    PREFIX 1 person:\n  SCHEMA\n    name TEXT NOSTEM SORTABLE\n    email TEXT NOSTEM SORTABLE\n    location GEO\nINDEX\n```\n\nIf your Redis server is running in Cluster mode, you can\n`require \"redis/cluster/search\"` to send read-only `FullText` commands to\nshard replicas.","summary":"<p><code><a href=\"../Redis/FullText.html\">Redis::FullText</a></code> wraps a <code><a href=\"../Redis/Client.html\">Redis::Client</a></code> or <code><a href=\"../Redis/Cluster.html\">Redis::Cluster</a></code> to execute commands against a fulltext search index located on a given server.</p>\n<p><span class=\"flag lime\">EXPERIMENTAL</span>  RediSearch support is still under development. Some APIs may change while details are discovered.</p>","instance_methods":[{"html_id":"create(string:String)-instance-method","name":"create","doc":"Create a search index using the syntax specified in the [RediSearch\n`FT.CREATE` docs](https://oss.redis.com/redisearch/Commands/#ftcreate).\n\n```\nredis = Redis::Client.new\nredis.ft.create <<-INDEX\n  people-index ON HASH\n    PREFIX 1 person:\n  SCHEMA\n    name TEXT NOSTEM SORTABLE\n    email TEXT NOSTEM SORTABLE\n    location GEO\nINDEX\n```\n\nNOTE: This method returns immediately, before the index is complete. You can run searches against an incomplete index, but you will also have incomplete results. To find how far along the index is, you can use the `info` method.\nTODO: Add a method that generates the string passed into this overload.","summary":"<p>Create a search index using the syntax specified in the <a href=\"https://oss.redis.com/redisearch/Commands/#ftcreate\">RediSearch <code>FT.CREATE</code> docs</a>.</p>","abstract":false,"args":[{"name":"string","external_name":"string","restriction":"String"}],"args_string":"(string : String)","args_html":"(string : String)","location":{"filename":"src/search.cr","line_number":75,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L75"},"def":{"name":"create","args":[{"name":"string","external_name":"string","restriction":"String"}],"visibility":"Public","body":"@redis.run([\"ft.create\"] + string.split)"}},{"html_id":"drop(index:String,keepdocs=false)-instance-method","name":"drop","doc":"Drop the specified `index`.","summary":"<p>Drop the specified <code>index</code>.</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"String"},{"name":"keepdocs","default_value":"false","external_name":"keepdocs","restriction":""}],"args_string":"(index : String, keepdocs = false)","args_html":"(index : String, keepdocs = <span class=\"n\">false</span>)","location":{"filename":"src/search.cr","line_number":258,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L258"},"def":{"name":"drop","args":[{"name":"index","external_name":"index","restriction":"String"},{"name":"keepdocs","default_value":"false","external_name":"keepdocs","restriction":""}],"visibility":"Public","body":"dropindex(index, keepdocs)"}},{"html_id":"dropindex(key:String,keepdocs=false)-instance-method","name":"dropindex","doc":"Drop the specified `index`.","summary":"<p>Drop the specified <code>index</code>.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"keepdocs","default_value":"false","external_name":"keepdocs","restriction":""}],"args_string":"(key : String, keepdocs = false)","args_html":"(key : String, keepdocs = <span class=\"n\">false</span>)","location":{"filename":"src/search.cr","line_number":263,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L263"},"def":{"name":"dropindex","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"keepdocs","default_value":"false","external_name":"keepdocs","restriction":""}],"visibility":"Public","body":"command = [\"ft.dropindex\", key]\nif keepdocs\n  command << \"keepdocs\"\nend\n@redis.run(command)\n"}},{"html_id":"info(index:String)-instance-method","name":"info","doc":"Get information about the search index contained in `index`. For more\ndetails, see [the `FT.INFO` documentation](https://oss.redis.com/redisearch/Commands/#ftinfo).","summary":"<p>Get information about the search index contained in <code>index</code>.</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"String"}],"args_string":"(index : String)","args_html":"(index : String)","location":{"filename":"src/search.cr","line_number":81,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L81"},"def":{"name":"info","args":[{"name":"index","external_name":"index","restriction":"String"}],"visibility":"Public","body":"@redis.run({\"ft.info\", index})"}},{"html_id":"profile(index:String,query:String)-instance-method","name":"profile","doc":"Profile the given search. For further details, see [the `FT.PROFILE`\ndocumentation](https://oss.redis.com/redisearch/Commands/#ftprofile).","summary":"<p>Profile the given search.</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"String"},{"name":"query","external_name":"query","restriction":"String"}],"args_string":"(index : String, query : String)","args_html":"(index : String, query : String)","location":{"filename":"src/search.cr","line_number":253,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L253"},"def":{"name":"profile","args":[{"name":"index","external_name":"index","restriction":"String"},{"name":"query","external_name":"query","restriction":"String"}],"visibility":"Public","body":"@redis.run({\"ft.profile\", index, \"search\", \"query\", query})"}},{"html_id":"search(index:String,query:String,nocontent=false,verbatim=false,nostopwords=false,withscores=false,withpayloads=false,withsortkeys=false,filter:Array(Filter)?=nil,geofilter:GeoFilter?=nil,inkeys:Array(String)?=nil,infields:Array(String)?=nil,returnreturn_value:Array(String)?=nil,summarize:Summarize?=nil,highlight:Highlight?=nil,slop:Int?=nil,timeout:Time::Span?=nil,inorder:Bool?=nil,language:String?=nil,expander:String?=nil,scorer:String?=nil,explainscore:Bool?=nil,payload:String|Bytes|Nil=nil,sortby:SortBy?=nil,limit:Tuple(Int,Int)?=nil)-instance-method","name":"search","doc":"Run the specified `query` against `index`. Customize the search with various other arguments. For details about what each one does and the return value, see [the `FT.SEARCH`\ndocumentation](https://oss.redis.com/redisearch/Commands/#ftsearch).\n\n```\nresult = redis.ft.search \"people-index\", \"@name:Jamie\",\n  return: %w[name email],\n  sortby: Redis::FullText::SortBy.new(\"name\", :asc)\n```","summary":"<p>Run the specified <code>query</code> against <code>index</code>.</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"String"},{"name":"query","external_name":"query","restriction":"String"},{"name":"nocontent","default_value":"false","external_name":"nocontent","restriction":""},{"name":"verbatim","default_value":"false","external_name":"verbatim","restriction":""},{"name":"nostopwords","default_value":"false","external_name":"nostopwords","restriction":""},{"name":"withscores","default_value":"false","external_name":"withscores","restriction":""},{"name":"withpayloads","default_value":"false","external_name":"withpayloads","restriction":""},{"name":"withsortkeys","default_value":"false","external_name":"withsortkeys","restriction":""},{"name":"filter","default_value":"nil","external_name":"filter","restriction":"Array(Filter) | ::Nil"},{"name":"geofilter","default_value":"nil","external_name":"geofilter","restriction":"GeoFilter | ::Nil"},{"name":"inkeys","default_value":"nil","external_name":"inkeys","restriction":"Array(String) | ::Nil"},{"name":"infields","default_value":"nil","external_name":"infields","restriction":"Array(String) | ::Nil"},{"name":"return_value","default_value":"nil","external_name":"return","restriction":"Array(String) | ::Nil"},{"name":"summarize","default_value":"nil","external_name":"summarize","restriction":"Summarize | ::Nil"},{"name":"highlight","default_value":"nil","external_name":"highlight","restriction":"Highlight | ::Nil"},{"name":"slop","default_value":"nil","external_name":"slop","restriction":"Int | ::Nil"},{"name":"timeout","default_value":"nil","external_name":"timeout","restriction":"Time::Span | ::Nil"},{"name":"inorder","default_value":"nil","external_name":"inorder","restriction":"Bool | ::Nil"},{"name":"language","default_value":"nil","external_name":"language","restriction":"String | ::Nil"},{"name":"expander","default_value":"nil","external_name":"expander","restriction":"String | ::Nil"},{"name":"scorer","default_value":"nil","external_name":"scorer","restriction":"String | ::Nil"},{"name":"explainscore","default_value":"nil","external_name":"explainscore","restriction":"Bool | ::Nil"},{"name":"payload","default_value":"nil","external_name":"payload","restriction":"String | Bytes | Nil"},{"name":"sortby","default_value":"nil","external_name":"sortby","restriction":"SortBy | ::Nil"},{"name":"limit","default_value":"nil","external_name":"limit","restriction":"::Tuple(Int, Int) | ::Nil"}],"args_string":"(index : String, query : String, nocontent = false, verbatim = false, nostopwords = false, withscores = false, withpayloads = false, withsortkeys = false, filter : Array(Filter)? = nil, geofilter : GeoFilter? = nil, inkeys : Array(String)? = nil, infields : Array(String)? = nil, return return_value : Array(String)? = nil, summarize : Summarize? = nil, highlight : Highlight? = nil, slop : Int? = nil, timeout : Time::Span? = nil, inorder : Bool? = nil, language : String? = nil, expander : String? = nil, scorer : String? = nil, explainscore : Bool? = nil, payload : String | Bytes | Nil = nil, sortby : SortBy? = nil, limit : Tuple(Int, Int)? = nil)","args_html":"(index : String, query : String, nocontent = <span class=\"n\">false</span>, verbatim = <span class=\"n\">false</span>, nostopwords = <span class=\"n\">false</span>, withscores = <span class=\"n\">false</span>, withpayloads = <span class=\"n\">false</span>, withsortkeys = <span class=\"n\">false</span>, filter : Array(<a href=\"../Redis/FullText/Filter.html\">Filter</a>)? = <span class=\"n\">nil</span>, geofilter : <a href=\"../Redis/FullText/GeoFilter.html\">GeoFilter</a>? = <span class=\"n\">nil</span>, inkeys : Array(String)? = <span class=\"n\">nil</span>, infields : Array(String)? = <span class=\"n\">nil</span>, return return_value : Array(String)? = <span class=\"n\">nil</span>, summarize : <a href=\"../Redis/FullText/Summarize.html\">Summarize</a>? = <span class=\"n\">nil</span>, highlight : <a href=\"../Redis/FullText/Highlight.html\">Highlight</a>? = <span class=\"n\">nil</span>, slop : Int? = <span class=\"n\">nil</span>, timeout : Time::Span? = <span class=\"n\">nil</span>, inorder : Bool? = <span class=\"n\">nil</span>, language : String? = <span class=\"n\">nil</span>, expander : String? = <span class=\"n\">nil</span>, scorer : String? = <span class=\"n\">nil</span>, explainscore : Bool? = <span class=\"n\">nil</span>, payload : String | Bytes | Nil = <span class=\"n\">nil</span>, sortby : <a href=\"../Redis/FullText/SortBy.html\">SortBy</a>? = <span class=\"n\">nil</span>, limit : Tuple(Int, Int)? = <span class=\"n\">nil</span>)","location":{"filename":"src/search.cr","line_number":93,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L93"},"def":{"name":"search","args":[{"name":"index","external_name":"index","restriction":"String"},{"name":"query","external_name":"query","restriction":"String"},{"name":"nocontent","default_value":"false","external_name":"nocontent","restriction":""},{"name":"verbatim","default_value":"false","external_name":"verbatim","restriction":""},{"name":"nostopwords","default_value":"false","external_name":"nostopwords","restriction":""},{"name":"withscores","default_value":"false","external_name":"withscores","restriction":""},{"name":"withpayloads","default_value":"false","external_name":"withpayloads","restriction":""},{"name":"withsortkeys","default_value":"false","external_name":"withsortkeys","restriction":""},{"name":"filter","default_value":"nil","external_name":"filter","restriction":"Array(Filter) | ::Nil"},{"name":"geofilter","default_value":"nil","external_name":"geofilter","restriction":"GeoFilter | ::Nil"},{"name":"inkeys","default_value":"nil","external_name":"inkeys","restriction":"Array(String) | ::Nil"},{"name":"infields","default_value":"nil","external_name":"infields","restriction":"Array(String) | ::Nil"},{"name":"return_value","default_value":"nil","external_name":"return","restriction":"Array(String) | ::Nil"},{"name":"summarize","default_value":"nil","external_name":"summarize","restriction":"Summarize | ::Nil"},{"name":"highlight","default_value":"nil","external_name":"highlight","restriction":"Highlight | ::Nil"},{"name":"slop","default_value":"nil","external_name":"slop","restriction":"Int | ::Nil"},{"name":"timeout","default_value":"nil","external_name":"timeout","restriction":"Time::Span | ::Nil"},{"name":"inorder","default_value":"nil","external_name":"inorder","restriction":"Bool | ::Nil"},{"name":"language","default_value":"nil","external_name":"language","restriction":"String | ::Nil"},{"name":"expander","default_value":"nil","external_name":"expander","restriction":"String | ::Nil"},{"name":"scorer","default_value":"nil","external_name":"scorer","restriction":"String | ::Nil"},{"name":"explainscore","default_value":"nil","external_name":"explainscore","restriction":"Bool | ::Nil"},{"name":"payload","default_value":"nil","external_name":"payload","restriction":"String | Bytes | Nil"},{"name":"sortby","default_value":"nil","external_name":"sortby","restriction":"SortBy | ::Nil"},{"name":"limit","default_value":"nil","external_name":"limit","restriction":"::Tuple(Int, Int) | ::Nil"}],"visibility":"Public","body":"command = Array(String).new(((((((((((((((((((((((((((((1 + 1) + 1) + 1) + 1) + 1) + 1) + 4) + 6) + (inkeys.try(&.size) || 0)) + 1) + (infields.try(&.size) || 0)) + 1) + (return_value.try(&.size) || 0)) + 1) + (summarize.try(&.fields).try(&.size) || 0)) + 8) + (highlight.try(&.fields).try(&.size) || 0)) + 6) + 2) + 2) + 1) + 2) + 2) + 2) + 1) + 2) + 3) + 3) + 0)\n((command << \"ft.search\") << index) << query\nif nocontent\n  command << \"nocontent\"\nend\nif verbatim\n  command << \"verbatim\"\nend\nif nostopwords\n  command << \"nostopwords\"\nend\nif withscores\n  command << \"withscores\"\nend\nif withpayloads\n  command << \"withpayloads\"\nend\nif withsortkeys\n  command << \"withsortkeys\"\nend\nif filter\n  filter.each do |f|\n    command << \"filter\"\n    ((command << f.field) << f.min) << f.max\n  end\nend\nif geofilter\n  (((((command << \"geofilter\") << geofilter.field) << geofilter.longitude.to_s) << geofilter.latitude.to_s) << geofilter.radius.to_s) << geofilter.unit.to_s.downcase\nend\nif inkeys\n  command << \"inkeys\"\n  command.concat(inkeys)\nend\nif infields\n  command << \"infields\"\n  command.concat(infields)\nend\nif return_value\n  (command << \"return\") << return_value.size.to_s\n  command.concat(return_value)\nend\nif summarize\n  command << \"summarize\"\n  if fields = summarize.fields\n    (command << \"fields\") << fields.size.to_s\n    command.concat(fields)\n  end\n  if frags = summarize.frags\n    (command << \"frags\") << frags.to_s\n  end\n  if len = summarize.len\n    (command << \"len\") << len.to_s\n  end\n  if separator = summarize.separator\n    (command << \"separator\") << separator\n  end\nend\nif highlight\n  command << \"highlight\"\n  if fields = highlight.fields\n    field_names = fields\n    (command << \"fields\") << fields.size.to_s\n    if field_names\n      command.concat(field_names)\n    end\n  end\n  if tags = highlight.tags\n    command << \"tags\"\n    command.concat(tags)\n  end\nend\nif slop\n  (command << \"slop\") << slop.to_s\nend\nif inorder\n  command << \"inorder\"\nend\nif language\n  (command << \"language\") << language\nend\nif expander\n  (command << \"expander\") << expander\nend\nif scorer\n  (command << \"scorer\") << scorer\nend\nif explainscore\n  command << \"explainscore\"\nend\ncase payload\nwhen String\n  command << payload\nwhen Bytes\n  command << (String.new(payload))\nend\nif sortby\n  ((command << \"sortby\") << sortby.attribute) << sortby.direction.to_s\nend\nif limit\n  command << \"limit\"\n  command.concat(limit.map(&.to_s).to_a)\nend\n(@redis.run(command)).as(Array)\n"}}],"types":[{"html_id":"redis/Redis/FullText/Filter","path":"Redis/FullText/Filter.html","kind":"struct","full_name":"Redis::FullText::Filter","name":"Filter","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/search.cr","line_number":270,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L270"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/FullText","kind":"struct","full_name":"Redis::FullText(Runnable)","name":"FullText"},"constructors":[{"html_id":"new(field:String,min:String,max:String)-class-method","name":"new","abstract":false,"args":[{"name":"field","external_name":"field","restriction":"String"},{"name":"min","external_name":"min","restriction":"String"},{"name":"max","external_name":"max","restriction":"String"}],"args_string":"(field : String, min : String, max : String)","args_html":"(field : String, min : String, max : String)","location":{"filename":"src/search.cr","line_number":270,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L270"},"def":{"name":"new","args":[{"name":"field","external_name":"field","restriction":"String"},{"name":"min","external_name":"min","restriction":"String"},{"name":"max","external_name":"max","restriction":"String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(field, min, max)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(field:String,range:Range(B,E))forallB,E-class-method","name":"new","abstract":false,"args":[{"name":"field","external_name":"field","restriction":"String"},{"name":"range","external_name":"range","restriction":"Range(B, E)"}],"args_string":"(field : String, range : Range(B, E)) forall B, E","args_html":"(field : String, range : Range(B, E)) forall B, E","location":{"filename":"src/search.cr","line_number":271,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L271"},"def":{"name":"new","args":[{"name":"field","external_name":"field","restriction":"String"},{"name":"range","external_name":"range","restriction":"Range(B, E)"}],"visibility":"Public","body":"new(field, min: range.begin.to_s, max: range.end.to_s)"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/search.cr","line_number":270,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L270"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@field.clone, @min.clone, @max.clone)"}},{"html_id":"copy_with(field_field=@field,min_min=@min,max_max=@max)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_field","default_value":"@field","external_name":"field","restriction":""},{"name":"_min","default_value":"@min","external_name":"min","restriction":""},{"name":"_max","default_value":"@max","external_name":"max","restriction":""}],"args_string":"(field _field = @field, min _min = @min, max _max = @max)","args_html":"(field _field = @field, min _min = @min, max _max = @max)","location":{"filename":"src/search.cr","line_number":270,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L270"},"def":{"name":"copy_with","args":[{"name":"_field","default_value":"@field","external_name":"field","restriction":""},{"name":"_min","default_value":"@min","external_name":"min","restriction":""},{"name":"_max","default_value":"@max","external_name":"max","restriction":""}],"visibility":"Public","body":"self.class.new(_field, _min, _max)"}},{"html_id":"field:String-instance-method","name":"field","abstract":false,"def":{"name":"field","return_type":"String","visibility":"Public","body":"@field"}},{"html_id":"max:String-instance-method","name":"max","abstract":false,"def":{"name":"max","return_type":"String","visibility":"Public","body":"@max"}},{"html_id":"min:String-instance-method","name":"min","abstract":false,"def":{"name":"min","return_type":"String","visibility":"Public","body":"@min"}}]},{"html_id":"redis/Redis/FullText/GeoFilter","path":"Redis/FullText/GeoFilter.html","kind":"struct","full_name":"Redis::FullText::GeoFilter","name":"GeoFilter","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/search.cr","line_number":277,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L277"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/FullText","kind":"struct","full_name":"Redis::FullText(Runnable)","name":"FullText"},"constructors":[{"html_id":"new(field:String,longitude:Float64,latitude:Float64,radius:Int64|Float64,unit:GeoUnit)-class-method","name":"new","abstract":false,"args":[{"name":"field","external_name":"field","restriction":"String"},{"name":"longitude","external_name":"longitude","restriction":"Float64"},{"name":"latitude","external_name":"latitude","restriction":"Float64"},{"name":"radius","external_name":"radius","restriction":"Int64 | Float64"},{"name":"unit","external_name":"unit","restriction":"GeoUnit"}],"args_string":"(field : String, longitude : Float64, latitude : Float64, radius : Int64 | Float64, unit : GeoUnit)","args_html":"(field : String, longitude : Float64, latitude : Float64, radius : Int64 | Float64, unit : <a href=\"../../Redis/FullText/GeoUnit.html\">GeoUnit</a>)","location":{"filename":"src/search.cr","line_number":277,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L277"},"def":{"name":"new","args":[{"name":"field","external_name":"field","restriction":"String"},{"name":"longitude","external_name":"longitude","restriction":"Float64"},{"name":"latitude","external_name":"latitude","restriction":"Float64"},{"name":"radius","external_name":"radius","restriction":"Int64 | Float64"},{"name":"unit","external_name":"unit","restriction":"GeoUnit"}],"visibility":"Public","body":"_ = allocate\n_.initialize(field, longitude, latitude, radius, unit)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/search.cr","line_number":277,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L277"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@field.clone, @longitude.clone, @latitude.clone, @radius.clone, @unit.clone)"}},{"html_id":"copy_with(field_field=@field,longitude_longitude=@longitude,latitude_latitude=@latitude,radius_radius=@radius,unit_unit=@unit)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_field","default_value":"@field","external_name":"field","restriction":""},{"name":"_longitude","default_value":"@longitude","external_name":"longitude","restriction":""},{"name":"_latitude","default_value":"@latitude","external_name":"latitude","restriction":""},{"name":"_radius","default_value":"@radius","external_name":"radius","restriction":""},{"name":"_unit","default_value":"@unit","external_name":"unit","restriction":""}],"args_string":"(field _field = @field, longitude _longitude = @longitude, latitude _latitude = @latitude, radius _radius = @radius, unit _unit = @unit)","args_html":"(field _field = @field, longitude _longitude = @longitude, latitude _latitude = @latitude, radius _radius = @radius, unit _unit = @unit)","location":{"filename":"src/search.cr","line_number":277,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L277"},"def":{"name":"copy_with","args":[{"name":"_field","default_value":"@field","external_name":"field","restriction":""},{"name":"_longitude","default_value":"@longitude","external_name":"longitude","restriction":""},{"name":"_latitude","default_value":"@latitude","external_name":"latitude","restriction":""},{"name":"_radius","default_value":"@radius","external_name":"radius","restriction":""},{"name":"_unit","default_value":"@unit","external_name":"unit","restriction":""}],"visibility":"Public","body":"self.class.new(_field, _longitude, _latitude, _radius, _unit)"}},{"html_id":"field:String-instance-method","name":"field","abstract":false,"def":{"name":"field","return_type":"String","visibility":"Public","body":"@field"}},{"html_id":"latitude:Float64-instance-method","name":"latitude","abstract":false,"def":{"name":"latitude","return_type":"Float64","visibility":"Public","body":"@latitude"}},{"html_id":"longitude:Float64-instance-method","name":"longitude","abstract":false,"def":{"name":"longitude","return_type":"Float64","visibility":"Public","body":"@longitude"}},{"html_id":"radius:Int64|Float64-instance-method","name":"radius","abstract":false,"def":{"name":"radius","return_type":"Int64 | Float64","visibility":"Public","body":"@radius"}},{"html_id":"unit:GeoUnit-instance-method","name":"unit","abstract":false,"def":{"name":"unit","return_type":"GeoUnit","visibility":"Public","body":"@unit"}}]},{"html_id":"redis/Redis/FullText/GeoUnit","path":"Redis/FullText/GeoUnit.html","kind":"enum","full_name":"Redis::FullText::GeoUnit","name":"GeoUnit","abstract":false,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/search.cr","line_number":45,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L45"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"M","name":"M","value":"0"},{"id":"KM","name":"KM","value":"1"},{"id":"MI","name":"MI","value":"2"},{"id":"FT","name":"FT","value":"3"}],"namespace":{"html_id":"redis/Redis/FullText","kind":"struct","full_name":"Redis::FullText(Runnable)","name":"FullText"},"doc":"Pass to the `search` method's `geofilter` argument to filter within the\nspecified range. For example, to search for pizza places within 25 miles\nof the Baltimore Ravens stadium:\n\n```\nredis.ft.search \"places-index\", \"pizza\",\n  geofilter: {\"location\", -76.622400, 39.277751, 25, :mi}\n```","summary":"<p>Pass to the <code>search</code> method's <code>geofilter</code> argument to filter within the specified range.</p>","instance_methods":[{"html_id":"ft?-instance-method","name":"ft?","abstract":false,"location":{"filename":"src/search.cr","line_number":49,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L49"},"def":{"name":"ft?","visibility":"Public","body":"self == FT"}},{"html_id":"km?-instance-method","name":"km?","abstract":false,"location":{"filename":"src/search.cr","line_number":47,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L47"},"def":{"name":"km?","visibility":"Public","body":"self == KM"}},{"html_id":"m?-instance-method","name":"m?","abstract":false,"location":{"filename":"src/search.cr","line_number":46,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L46"},"def":{"name":"m?","visibility":"Public","body":"self == M"}},{"html_id":"mi?-instance-method","name":"mi?","abstract":false,"location":{"filename":"src/search.cr","line_number":48,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L48"},"def":{"name":"mi?","visibility":"Public","body":"self == MI"}}]},{"html_id":"redis/Redis/FullText/Highlight","path":"Redis/FullText/Highlight.html","kind":"struct","full_name":"Redis::FullText::Highlight","name":"Highlight","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/search.cr","line_number":245,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L245"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/FullText","kind":"struct","full_name":"Redis::FullText(Runnable)","name":"FullText"},"constructors":[{"html_id":"new(fields:Array(String)?=nil,tags:Tuple(String,String)?=nil)-class-method","name":"new","abstract":false,"args":[{"name":"fields","default_value":"nil","external_name":"fields","restriction":"Array(String) | ::Nil"},{"name":"tags","default_value":"nil","external_name":"tags","restriction":"::Tuple(String, String) | ::Nil"}],"args_string":"(fields : Array(String)? = nil, tags : Tuple(String, String)? = nil)","args_html":"(fields : Array(String)? = <span class=\"n\">nil</span>, tags : Tuple(String, String)? = <span class=\"n\">nil</span>)","location":{"filename":"src/search.cr","line_number":245,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L245"},"def":{"name":"new","args":[{"name":"fields","default_value":"nil","external_name":"fields","restriction":"Array(String) | ::Nil"},{"name":"tags","default_value":"nil","external_name":"tags","restriction":"::Tuple(String, String) | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(fields, tags)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/search.cr","line_number":245,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L245"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@fields.clone, @tags.clone)"}},{"html_id":"copy_with(fields_fields=@fields,tags_tags=@tags)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_fields","default_value":"@fields","external_name":"fields","restriction":""},{"name":"_tags","default_value":"@tags","external_name":"tags","restriction":""}],"args_string":"(fields _fields = @fields, tags _tags = @tags)","args_html":"(fields _fields = @fields, tags _tags = @tags)","location":{"filename":"src/search.cr","line_number":245,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L245"},"def":{"name":"copy_with","args":[{"name":"_fields","default_value":"@fields","external_name":"fields","restriction":""},{"name":"_tags","default_value":"@tags","external_name":"tags","restriction":""}],"visibility":"Public","body":"self.class.new(_fields, _tags)"}},{"html_id":"fields:Array(String)?-instance-method","name":"fields","abstract":false,"def":{"name":"fields","return_type":"Array(String) | ::Nil","visibility":"Public","body":"@fields"}},{"html_id":"tags:Tuple(String,String)?-instance-method","name":"tags","abstract":false,"def":{"name":"tags","return_type":"::Tuple(String, String) | ::Nil","visibility":"Public","body":"@tags"}}]},{"html_id":"redis/Redis/FullText/SortBy","path":"Redis/FullText/SortBy.html","kind":"struct","full_name":"Redis::FullText::SortBy","name":"SortBy","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/search.cr","line_number":35,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L35"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/FullText","kind":"struct","full_name":"Redis::FullText(Runnable)","name":"FullText"},"doc":"Pass to the `search` method's `sortby` argument to sort the results on the\ngiven attribute.\n\n```\nredis.ft.search \"people-index\", \"@name:Jamie\",\n  sortby: Redis::FullText::SortBy.new(\"name\", :asc)\n```","summary":"<p>Pass to the <code>search</code> method's <code>sortby</code> argument to sort the results on the given attribute.</p>","constructors":[{"html_id":"new(attribute:String,direction:SortDirection=:asc)-class-method","name":"new","abstract":false,"args":[{"name":"attribute","external_name":"attribute","restriction":"String"},{"name":"direction","default_value":":asc","external_name":"direction","restriction":"SortDirection"}],"args_string":"(attribute : String, direction : SortDirection = :asc)","args_html":"(attribute : String, direction : <a href=\"../../Redis/FullText/SortDirection.html\">SortDirection</a> = <span class=\"n\">:asc</span>)","location":{"filename":"src/search.cr","line_number":35,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L35"},"def":{"name":"new","args":[{"name":"attribute","external_name":"attribute","restriction":"String"},{"name":"direction","default_value":":asc","external_name":"direction","restriction":"SortDirection"}],"visibility":"Public","body":"_ = allocate\n_.initialize(attribute, direction)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"attribute:String-instance-method","name":"attribute","abstract":false,"def":{"name":"attribute","return_type":"String","visibility":"Public","body":"@attribute"}},{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/search.cr","line_number":35,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L35"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@attribute.clone, @direction.clone)"}},{"html_id":"copy_with(attribute_attribute=@attribute,direction_direction=@direction)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_attribute","default_value":"@attribute","external_name":"attribute","restriction":""},{"name":"_direction","default_value":"@direction","external_name":"direction","restriction":""}],"args_string":"(attribute _attribute = @attribute, direction _direction = @direction)","args_html":"(attribute _attribute = @attribute, direction _direction = @direction)","location":{"filename":"src/search.cr","line_number":35,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L35"},"def":{"name":"copy_with","args":[{"name":"_attribute","default_value":"@attribute","external_name":"attribute","restriction":""},{"name":"_direction","default_value":"@direction","external_name":"direction","restriction":""}],"visibility":"Public","body":"self.class.new(_attribute, _direction)"}},{"html_id":"direction:SortDirection-instance-method","name":"direction","abstract":false,"def":{"name":"direction","return_type":"SortDirection","visibility":"Public","body":"@direction"}}]},{"html_id":"redis/Redis/FullText/SortDirection","path":"Redis/FullText/SortDirection.html","kind":"enum","full_name":"Redis::FullText::SortDirection","name":"SortDirection","abstract":false,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/search.cr","line_number":53,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L53"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"ASC","name":"ASC","value":"0"},{"id":"DESC","name":"DESC","value":"1"}],"namespace":{"html_id":"redis/Redis/FullText","kind":"struct","full_name":"Redis::FullText(Runnable)","name":"FullText"},"doc":"Pass to a `SortBy` constructor to specify a fulltext search sort direction.","summary":"<p>Pass to a <code><a href=\"../../Redis/FullText/SortBy.html\">SortBy</a></code> constructor to specify a fulltext search sort direction.</p>","instance_methods":[{"html_id":"asc?-instance-method","name":"asc?","abstract":false,"location":{"filename":"src/search.cr","line_number":54,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L54"},"def":{"name":"asc?","visibility":"Public","body":"self == ASC"}},{"html_id":"desc?-instance-method","name":"desc?","abstract":false,"location":{"filename":"src/search.cr","line_number":55,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L55"},"def":{"name":"desc?","visibility":"Public","body":"self == DESC"}}]},{"html_id":"redis/Redis/FullText/Summarize","path":"Redis/FullText/Summarize.html","kind":"struct","full_name":"Redis::FullText::Summarize","name":"Summarize","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/search.cr","line_number":238,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L238"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/FullText","kind":"struct","full_name":"Redis::FullText(Runnable)","name":"FullText"},"constructors":[{"html_id":"new(fields:Array(String)?=nil,frags:Int32?=nil,len:Int32?=nil,separator:String?=nil)-class-method","name":"new","abstract":false,"args":[{"name":"fields","default_value":"nil","external_name":"fields","restriction":"Array(String) | ::Nil"},{"name":"frags","default_value":"nil","external_name":"frags","restriction":"Int32 | ::Nil"},{"name":"len","default_value":"nil","external_name":"len","restriction":"Int32 | ::Nil"},{"name":"separator","default_value":"nil","external_name":"separator","restriction":"String | ::Nil"}],"args_string":"(fields : Array(String)? = nil, frags : Int32? = nil, len : Int32? = nil, separator : String? = nil)","args_html":"(fields : Array(String)? = <span class=\"n\">nil</span>, frags : Int32? = <span class=\"n\">nil</span>, len : Int32? = <span class=\"n\">nil</span>, separator : String? = <span class=\"n\">nil</span>)","location":{"filename":"src/search.cr","line_number":238,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L238"},"def":{"name":"new","args":[{"name":"fields","default_value":"nil","external_name":"fields","restriction":"Array(String) | ::Nil"},{"name":"frags","default_value":"nil","external_name":"frags","restriction":"Int32 | ::Nil"},{"name":"len","default_value":"nil","external_name":"len","restriction":"Int32 | ::Nil"},{"name":"separator","default_value":"nil","external_name":"separator","restriction":"String | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(fields, frags, len, separator)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/search.cr","line_number":238,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L238"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@fields.clone, @frags.clone, @len.clone, @separator.clone)"}},{"html_id":"copy_with(fields_fields=@fields,frags_frags=@frags,len_len=@len,separator_separator=@separator)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_fields","default_value":"@fields","external_name":"fields","restriction":""},{"name":"_frags","default_value":"@frags","external_name":"frags","restriction":""},{"name":"_len","default_value":"@len","external_name":"len","restriction":""},{"name":"_separator","default_value":"@separator","external_name":"separator","restriction":""}],"args_string":"(fields _fields = @fields, frags _frags = @frags, len _len = @len, separator _separator = @separator)","args_html":"(fields _fields = @fields, frags _frags = @frags, len _len = @len, separator _separator = @separator)","location":{"filename":"src/search.cr","line_number":238,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/search.cr#L238"},"def":{"name":"copy_with","args":[{"name":"_fields","default_value":"@fields","external_name":"fields","restriction":""},{"name":"_frags","default_value":"@frags","external_name":"frags","restriction":""},{"name":"_len","default_value":"@len","external_name":"len","restriction":""},{"name":"_separator","default_value":"@separator","external_name":"separator","restriction":""}],"visibility":"Public","body":"self.class.new(_fields, _frags, _len, _separator)"}},{"html_id":"fields:Array(String)?-instance-method","name":"fields","abstract":false,"def":{"name":"fields","return_type":"Array(String) | ::Nil","visibility":"Public","body":"@fields"}},{"html_id":"frags:Int32?-instance-method","name":"frags","abstract":false,"def":{"name":"frags","return_type":"Int32 | ::Nil","visibility":"Public","body":"@frags"}},{"html_id":"len:Int32?-instance-method","name":"len","abstract":false,"def":{"name":"len","return_type":"Int32 | ::Nil","visibility":"Public","body":"@len"}},{"html_id":"separator:String?-instance-method","name":"separator","abstract":false,"def":{"name":"separator","return_type":"String | ::Nil","visibility":"Public","body":"@separator"}}]}]},{"html_id":"redis/Redis/Future","path":"Redis/Future.html","kind":"class","full_name":"Redis::Future","name":"Future","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/pipeline.cr","line_number":33,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/pipeline.cr#L33"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"A `Redis::Future` is what pipelined commands return. They will be resolved\nwith the value of the command that spawned them.","summary":"<p>A <code><a href=\"../Redis/Future.html\">Redis::Future</a></code> is what pipelined commands return.</p>","instance_methods":[{"html_id":"resolve(value:Value)-instance-method","name":"resolve","doc":"Resolves a Future with the supplied Redis::Value","summary":"<p>Resolves a Future with the supplied Redis::Value</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"Value"}],"args_string":"(value : Value)","args_html":"(value : <a href=\"../Redis/Value.html\">Value</a>)","location":{"filename":"src/pipeline.cr","line_number":38,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/pipeline.cr#L38"},"def":{"name":"resolve","args":[{"name":"value","external_name":"value","restriction":"Value"}],"visibility":"Public","body":"@resolved = true\n@value = value\n"}},{"html_id":"resolved?:Bool-instance-method","name":"resolved?","abstract":false,"location":{"filename":"src/pipeline.cr","line_number":35,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/pipeline.cr#L35"},"def":{"name":"resolved?","visibility":"Public","body":"@resolved"}},{"html_id":"value-instance-method","name":"value","doc":"Read the value contained in this Future after it is resolved. If this\nmethod is called before the Future is resolved, it will raise a\n`Redis::Future::NotResolved` exception.","summary":"<p>Read the value contained in this Future after it is resolved.</p>","abstract":false,"location":{"filename":"src/pipeline.cr","line_number":46,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/pipeline.cr#L46"},"def":{"name":"value","visibility":"Public","body":"if resolved?\n  @value\nelse\n  raise(NotResolved.new(\"Attempted to get the value of an unresolved Redis::Future\"))\nend"}}],"types":[{"html_id":"redis/Redis/Future/NotResolved","path":"Redis/Future/NotResolved.html","kind":"class","full_name":"Redis::Future::NotResolved","name":"NotResolved","abstract":false,"superclass":{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/pipeline.cr","line_number":57,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/pipeline.cr#L57"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Future","kind":"class","full_name":"Redis::Future","name":"Future"},"doc":"A `Redis::Future::NotResolved` is raised when attempting to access the\nvalue of a `Future` that has not been resolved yet. For example, calling\n`pipeline.get(\"my-key\").value`.","summary":"<p>A <code><a href=\"../../Redis/Future/NotResolved.html\">Redis::Future::NotResolved</a></code> is raised when attempting to access the value of a <code><a href=\"../../Redis/Future.html\">Future</a></code> that has not been resolved yet.</p>"}]},{"html_id":"redis/Redis/Graph","path":"Redis/Graph.html","kind":"module","full_name":"Redis::Graph","name":"Graph","abstract":false,"locations":[{"filename":"src/graph.cr","line_number":52,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L52"},{"filename":"src/graph/serializable.cr","line_number":1,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L1"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"[RedisGraph](https://redis.io/docs/stack/graph/) is a graph database built\non top of Redis that you query using the [Cypher](https://opencypher.org)\nquery language.\n\nIf your Redis server is running RedisGraph (for example, using [Redis\nStack](https://redis.io/docs/stack/)), you can branch off of your existing\n`Redis::Client` using the `Redis::Client#graph` method:\n\n```\nrequire \"redis/graph\"\n\nstruct Person\n  include Redis::Graph::Serializable::Node\n\n  getter id : Int64\n  getter name : String\nend\n\nredis = Redis::Client.new\n\n# Store the graph data in the Redis key \"my-graph\"\ngraph = redis.graph(key: \"my-graph\")\n\n# Create some data in our graph\ngraph.write_query <<-CYPHER, id: 123, name: \"Jamie\"\n  CREATE (person:Person{id: $id, name: $name})\nCYPHER\n\n# The `return` argument specifies the return types of the results in your\n# Cypher query's `RETURN` clause\npp graph.read_query(<<-CYPHER, {id: 123}, return: {Person})\n  MATCH (person:Person{id: $id})\n  RETURN person\nCYPHER\n# => [{Person(\n#       @id=123,\n#       @name=\"Jamie\",\n#       @node=\n#        Redis::Graph::Serializable::Node::Metadata(@id=0, @labels=[\"Person\"]))}]\n```\n\nIn addition to basic Redis property types, `Redis::Graph::Serializable` types\nalso support `Bool`, `UUID`, and `Time`.","summary":"<p><a href=\"https://redis.io/docs/stack/graph/\">RedisGraph</a> is a graph database built on top of Redis that you query using the <a href=\"https://opencypher.org\">Cypher</a> query language.</p>\n<p><span class=\"flag lime\">EXPERIMENTAL</span>  The <code><a href=\"../Redis/Graph.html\">Redis::Graph</a></code> API is experimental and may be subject to change.</p>","types":[{"html_id":"redis/Redis/Graph/Client","path":"Redis/Graph/Client.html","kind":"struct","full_name":"Redis::Graph::Client(Runnable)","name":"Client","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":56,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L56"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"constructors":[{"html_id":"new(redis:Runnable,key:String)-class-method","name":"new","abstract":false,"args":[{"name":"redis","external_name":"redis","restriction":"Runnable"},{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(redis : Runnable, key : String)","args_html":"(redis : Runnable, key : String)","location":{"filename":"src/graph.cr","line_number":57,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L57"},"def":{"name":"new","args":[{"name":"redis","external_name":"redis","restriction":"Runnable"},{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"_ = Client(Runnable).allocate\n_.initialize(redis, key)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"multi(&)-instance-method","name":"multi","doc":"Execute a transaction within the given graph\n\n```\ngraph.multi do |txn|\n  txn.write_query <<-CYPHER, team_id: 123\n    MATCH (\n  CYPHER\nend\n```","summary":"<p>Execute a transaction within the given graph</p>\n<p><span class=\"flag lime\">EXPERIMENTAL</span>  This method may be difficult to use, since it relies primarily on <code>Redis::Client#multi</code>, which is not graph-aware. It is currently intended primarily to roll back previous writes if others do not succeed when a single query is not feasible. This may be iterated on in the future.</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":151,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L151"},"def":{"name":"multi","yields":1,"visibility":"Public","body":"@redis.multi do |txn|\n  yield Client.new(txn.@connection, @key)\nend"}},{"html_id":"read_query(cypher:String,params:NamedTuple|Hash,returntypes:Tuple(*T))forallT-instance-method","name":"read_query","doc":"Query the graph with the given Cypher query, passing in the given\nparams, and returning the given types corresponding to the values in\nyour Cypher `RETURN` clause.\n\n```\ngraph.read_query <<-CYPHER, {team_id: 123}, return: {Person}\n  MATCH (team:Team{id: $team_id})\n  MATCH (person)-[:MEMBER_OF]->(team)\n  RETURN person\nCYPHER\n```","summary":"<p>Query the graph with the given Cypher query, passing in the given params, and returning the given types corresponding to the values in your Cypher <code>RETURN</code> clause.</p>","abstract":false,"args":[{"name":"cypher","external_name":"cypher","restriction":"String"},{"name":"params","external_name":"params","restriction":"NamedTuple | Hash"},{"name":"types","external_name":"return","restriction":"Tuple(*T)"}],"args_string":"(cypher : String, params : NamedTuple | Hash, return types : Tuple(*T)) forall T","args_html":"(cypher : String, params : NamedTuple | Hash, return types : Tuple(<span class=\"o\">*</span><span class=\"t\">T</span>)) forall T","location":{"filename":"src/graph.cr","line_number":134,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L134"},"def":{"name":"read_query","args":[{"name":"cypher","external_name":"cypher","restriction":"String"},{"name":"params","external_name":"params","restriction":"NamedTuple | Hash"},{"name":"types","external_name":"return","restriction":"Tuple(*T)"}],"visibility":"Public","body":"{% if true %}\n          result = Result.new(@redis.run({\"GRAPH.RO_QUERY\", @key, build_query(cypher, params)}).as(Array))\n          TypedResult({ {{ (T.type_vars.map(&.instance).join(\", \")).id }} }).new(result)\n        {% end %}"}},{"html_id":"read_query(cypher:String,returntypes:Tuple(*T))forallT-instance-method","name":"read_query","abstract":false,"args":[{"name":"cypher","external_name":"cypher","restriction":"String"},{"name":"types","external_name":"return","restriction":"Tuple(*T)"}],"args_string":"(cypher : String, return types : Tuple(*T)) forall T","args_html":"(cypher : String, return types : Tuple(<span class=\"o\">*</span><span class=\"t\">T</span>)) forall T","location":{"filename":"src/graph.cr","line_number":119,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L119"},"def":{"name":"read_query","args":[{"name":"cypher","external_name":"cypher","restriction":"String"},{"name":"types","external_name":"return","restriction":"Tuple(*T)"}],"visibility":"Public","body":"read_query(cypher, params: NamedTuple.new, return: types)"}},{"html_id":"read_query(cypher:String)-instance-method","name":"read_query","doc":"Query the graph with the given Cypher query.\n\n```\ngraph.read_query <<-CYPHER\n  MATCH (person:Person)\n  RETURN person\nCYPHER\n```","summary":"<p>Query the graph with the given Cypher query.</p>","abstract":false,"args":[{"name":"cypher","external_name":"cypher","restriction":"String"}],"args_string":"(cypher : String)","args_html":"(cypher : String)","location":{"filename":"src/graph.cr","line_number":101,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L101"},"def":{"name":"read_query","args":[{"name":"cypher","external_name":"cypher","restriction":"String"}],"visibility":"Public","body":"Result.new((@redis.run({\"GRAPH.RO_QUERY\", @key, cypher})).as(Array))"}},{"html_id":"read_query(cypher:String,**params)-instance-method","name":"read_query","doc":"Query the graph with the given Cypher query, passing in the given\nparams.\n\n```\ngraph.read_query <<-CYPHER, team_id: 123\n  MATCH (team:Team{id: $team_id})\n  MATCH (person)-[membership:MEMBER_OF]->(team)\n  RETURN person, membership, team\nCYPHER\n```","summary":"<p>Query the graph with the given Cypher query, passing in the given params.</p>","abstract":false,"args":[{"name":"cypher","external_name":"cypher","restriction":"String"}],"args_string":"(cypher : String, **params)","args_html":"(cypher : String, **params)","location":{"filename":"src/graph.cr","line_number":115,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L115"},"def":{"name":"read_query","args":[{"name":"cypher","external_name":"cypher","restriction":"String"}],"double_splat":{"name":"params","external_name":"params","restriction":""},"visibility":"Public","body":"Result.new((@redis.run({\"GRAPH.RO_QUERY\", @key, build_query(cypher, params)})).as(Array))"}},{"html_id":"write_query(cypher:String,params:NamedTuple|Hash,returntypes:Tuple(*T))forallT-instance-method","name":"write_query","doc":"Write data to the graph using the given cypher query, passing in the\ngiven params and returning the given types for the values in your\nquery's `RETURN` clause.\n\n```\ngraph.write_query <<-CYPHER, {id: 123, now: Time.utc.to_unix_ms}, return: {Person}\n  MATCH (person:Person{id: $id})\n  SET person.confirmed_at = $now\n  RETURN person\nCYPHER\n```","summary":"<p>Write data to the graph using the given cypher query, passing in the given params and returning the given types for the values in your query's <code>RETURN</code> clause.</p>","abstract":false,"args":[{"name":"cypher","external_name":"cypher","restriction":"String"},{"name":"params","external_name":"params","restriction":"NamedTuple | Hash"},{"name":"types","external_name":"return","restriction":"Tuple(*T)"}],"args_string":"(cypher : String, params : NamedTuple | Hash, return types : Tuple(*T)) forall T","args_html":"(cypher : String, params : NamedTuple | Hash, return types : Tuple(<span class=\"o\">*</span><span class=\"t\">T</span>)) forall T","location":{"filename":"src/graph.cr","line_number":80,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L80"},"def":{"name":"write_query","args":[{"name":"cypher","external_name":"cypher","restriction":"String"},{"name":"params","external_name":"params","restriction":"NamedTuple | Hash"},{"name":"types","external_name":"return","restriction":"Tuple(*T)"}],"visibility":"Public","body":"{% if true %}\n          result = Result.new(@redis.run({\"GRAPH.QUERY\", @key, build_query(cypher, params)}).as(Array))\n          TypedResult({ {{ (T.type_vars.map(&.instance).join(\", \")).id }} }).new(result)\n        {% end %}"}},{"html_id":"write_query(cypher:String)-instance-method","name":"write_query","doc":"Write data to this graph using the given Cypher query.\n\n```\ngraph.write_query \"MATCH (u:User{active: true}) SET u:ActiveUser, u.active = null\"\n```","summary":"<p>Write data to this graph using the given Cypher query.</p>","abstract":false,"args":[{"name":"cypher","external_name":"cypher","restriction":"String"}],"args_string":"(cypher : String)","args_html":"(cypher : String)","location":{"filename":"src/graph.cr","line_number":65,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L65"},"def":{"name":"write_query","args":[{"name":"cypher","external_name":"cypher","restriction":"String"}],"visibility":"Public","body":"Result.new((@redis.run({\"GRAPH.QUERY\", @key, cypher})).as(Array))"}},{"html_id":"write_query(cypher:String,**params)-instance-method","name":"write_query","doc":"Write data to the graph using the given cypher query, passing in the\ngiven query parameters.","summary":"<p>Write data to the graph using the given cypher query, passing in the given query parameters.</p>","abstract":false,"args":[{"name":"cypher","external_name":"cypher","restriction":"String"}],"args_string":"(cypher : String, **params)","args_html":"(cypher : String, **params)","location":{"filename":"src/graph.cr","line_number":89,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L89"},"def":{"name":"write_query","args":[{"name":"cypher","external_name":"cypher","restriction":"String"}],"double_splat":{"name":"params","external_name":"params","restriction":""},"visibility":"Public","body":"Result.new((@redis.run({\"GRAPH.QUERY\", @key, build_query(cypher, params)})).as(Array))"}}]},{"html_id":"redis/Redis/Graph/Error","path":"Redis/Graph/Error.html","kind":"class","full_name":"Redis::Graph::Error","name":"Error","abstract":false,"superclass":{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":53,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L53"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"}},{"html_id":"redis/Redis/Graph/List","path":"Redis/Graph/List.html","kind":"alias","full_name":"Redis::Graph::List","name":"List","abstract":false,"locations":[{"filename":"src/graph.cr","line_number":325,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L325"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"Array(Array(Array(Redis::Value) | Int64 | Redis::Graph::Node | Redis::Graph::Relationship | String | Nil) | Array(Redis::Value) | Int64 | Redis::Graph::Node | Redis::Graph::Relationship | String | Nil)","aliased_html":"Array(Array(Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | <a href=\"../../Redis/Graph/Node.html\">Redis::Graph::Node</a> | <a href=\"../../Redis/Graph/Relationship.html\">Redis::Graph::Relationship</a> | String | Nil) | Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | <a href=\"../../Redis/Graph/Node.html\">Redis::Graph::Node</a> | <a href=\"../../Redis/Graph/Relationship.html\">Redis::Graph::Relationship</a> | String | Nil)","const":false,"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"}},{"html_id":"redis/Redis/Graph/Map","path":"Redis/Graph/Map.html","kind":"alias","full_name":"Redis::Graph::Map","name":"Map","abstract":false,"locations":[{"filename":"src/graph.cr","line_number":326,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L326"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"Hash(String, Array(Redis::Value) | Int64 | String | Nil)","aliased_html":"Hash(String, Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | String | Nil)","const":false,"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"}},{"html_id":"redis/Redis/Graph/Node","path":"Redis/Graph/Node.html","kind":"struct","full_name":"Redis::Graph::Node","name":"Node","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":219,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L219"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"doc":"Represents a node in the graph.\n\n```\nresult = graph.read_query(<<-CYPHER)\n  MATCH (u:User)\n  RETURN u\nCYPHER\n\nresult.each do |(user)|\n  user = user.as(Redis::Graph::Node)\n  # ...\nend\n```","summary":"<p>Represents a node in the graph.</p>","instance_methods":[{"html_id":"id:Int64-instance-method","name":"id","abstract":false,"location":{"filename":"src/graph.cr","line_number":220,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L220"},"def":{"name":"id","return_type":"Int64","visibility":"Public","body":"@id"}},{"html_id":"labels:Array(String)-instance-method","name":"labels","abstract":false,"location":{"filename":"src/graph.cr","line_number":221,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L221"},"def":{"name":"labels","return_type":"Array(String)","visibility":"Public","body":"@labels"}},{"html_id":"properties:Hash(String,Property)-instance-method","name":"properties","abstract":false,"location":{"filename":"src/graph.cr","line_number":222,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L222"},"def":{"name":"properties","return_type":"Hash(String, Property)","visibility":"Public","body":"@properties"}}]},{"html_id":"redis/Redis/Graph/Property","path":"Redis/Graph/Property.html","kind":"alias","full_name":"Redis::Graph::Property","name":"Property","abstract":false,"locations":[{"filename":"src/graph.cr","line_number":323,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L323"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"Redis::Value","aliased_html":"<a href=\"../../Redis/Value.html\">Redis::Value</a>","const":false,"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"}},{"html_id":"redis/Redis/Graph/Relationship","path":"Redis/Graph/Relationship.html","kind":"struct","full_name":"Redis::Graph::Relationship","name":"Relationship","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":260,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L260"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"doc":"Represents a relationship in your graph\n\n```\nresult = graph.read_query(<<-CYPHER)\n  MATCH (:User)-[membership:MEMBER_OF]->(:Team)\n  RETURN membership\nCYPHER\n\nresult.each do |(membership)|\n  membership = membership.as(Redis::Graph::Relationship)\n  # ...\nend\n```","summary":"<p>Represents a relationship in your graph</p>","instance_methods":[{"html_id":"dest_node:Int64-instance-method","name":"dest_node","doc":"The node that this relationship points to, for example with\n`(person)-[membership]->(team)`, it will be the node id of `team`.\n\nWARNING: This will not match an `id` *property* of the destination node.","summary":"<p>The node that this relationship points to, for example with <code>(person)-[membership]-&gt;(team)</code>, it will be the node id of <code>team</code>.</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":283,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L283"},"def":{"name":"dest_node","return_type":"Int64","visibility":"Public","body":"@dest_node"}},{"html_id":"id:Int64-instance-method","name":"id","doc":"The identifier of the relationship.\n\nNOTE: If this relationship has an `id` property, this is *not* that.\nWARNING: Do not try to query against this. RedisGraph provides no\nguarantees that this relationship will be at the same offset it was at\nthe last time you queried it.","summary":"<p>The identifier of the relationship.</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":267,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L267"},"def":{"name":"id","return_type":"Int64","visibility":"Public","body":"@id"}},{"html_id":"properties:Hash(String,Property)-instance-method","name":"properties","doc":"The hash of properties for this relationship.\n\n```\nresult = graph.write_query <<-CYPHER, now: Time.utc.to_unix_ms\n  CREATE (person)-[membership{since: $now}]->(team)\n  RETURN membership\nCYPHER\nresult.first.properties # => {\"since\" => 2022-05-15T05:48:23 UTC}\n```","summary":"<p>The hash of properties for this relationship.</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":294,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L294"},"def":{"name":"properties","return_type":"Hash(String, Property)","visibility":"Public","body":"@properties"}},{"html_id":"src_node:Int64-instance-method","name":"src_node","doc":"The node that this relationship originates from, for example with\n`(person)-[membership]->(team)`, it will be the node id of `person`.\n\nWARNING: This will not match an `id` *property* of the source node.","summary":"<p>The node that this relationship originates from, for example with <code>(person)-[membership]-&gt;(team)</code>, it will be the node id of <code>person</code>.</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":277,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L277"},"def":{"name":"src_node","return_type":"Int64","visibility":"Public","body":"@src_node"}},{"html_id":"type:String-instance-method","name":"type","doc":"The type of relationship, for example with `[:MEMBER_OF]`, the `type`\nwill be `\"MEMBER_OF\"`.","summary":"<p>The type of relationship, for example with <code>[:MEMBER_OF]</code>, the <code><a href=\"../../Redis/Graph/Relationship.html#type%3AString-instance-method\">#type</a></code> will be <code>&quot;MEMBER_OF&quot;</code>.</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":271,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L271"},"def":{"name":"type","return_type":"String","visibility":"Public","body":"@type"}}]},{"html_id":"redis/Redis/Graph/Result","path":"Redis/Graph/Result.html","kind":"struct","full_name":"Redis::Graph::Result","name":"Result","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":330,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L330"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"redis/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"doc":"Parses the results of a Cypher query","summary":"<p>Parses the results of a Cypher query</p>","constructors":[{"html_id":"new(raw:Array)-class-method","name":"new","abstract":false,"args":[{"name":"raw","external_name":"raw","restriction":"Array"}],"args_string":"(raw : Array)","args_html":"(raw : Array)","location":{"filename":"src/graph.cr","line_number":357,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L357"},"def":{"name":"new","args":[{"name":"raw","external_name":"raw","restriction":"Array"}],"visibility":"Public","body":"case raw.size\nwhen 1\n  fields = [] of String\n  rows = [] of Redis::Value\n  metadata = raw.first\nwhen 3\n  fields, rows, metadata = raw\nelse\n  raise(Error.new(\"Don't know how to process this result: #{raw.inspect}\"))\nend\nlabels_added = 0_i64\nnodes_created = 0_i64\nrelationships_created = 0_i64\nproperties_set = 0_i64\ncached = false\nquery_time = 0.seconds\n(metadata.as(Array)).each do |item|\n  case item\n  when /Labels added: (\\d+)/\n    labels_added = $~[1].to_i64\n  when /Nodes created: (\\d+)/\n    nodes_created = $~[1].to_i64\n  when /Relationships created: (\\d+)/\n    relationships_created = $~[1].to_i64\n  when /Properties set: (\\d+)/\n    properties_set = $~[1].to_i64\n  when /Query internal execution time: (\\d+\\.\\d+) milliseconds/\n    query_time = $~[1].to_f64.milliseconds\n  when /Cached execution: (\\d+)/\n    cached = ($~[1] != \"0\")\n  end\nend\nnew(fields: (fields.as(Array)).map do |__arg12|\n  __arg12.as(String)\nend, rows: (rows.as(Array)).map do |row|\n  row = row.as(Array)\n  list = List.new(initial_capacity: row.size)\n  row.each do |item|\n    (case item\n    in String, Int64, Nil\n      list << item\n    in Array\n      list << (((Node.from?(item)) || (Relationship.from?(item))) || item)\n    end).as(ResultValue | List)\n  end\n  list\nend, cached_execution: !(!cached), duration: query_time, labels_added: labels_added, nodes_created: nodes_created, relationships_created: relationships_created, properties_set: properties_set)\n"}},{"html_id":"new(*,fields:Array(String),rows:Array(Array(Array(Array(Redis::Value)|Int64|Redis::Graph::Node|Redis::Graph::Relationship|String|Nil)|Array(Redis::Value)|Int64|Redis::Graph::Node|Redis::Graph::Relationship|String|Nil)),cached_execution:Bool,duration:Time::Span,labels_added:Int64,nodes_created:Int64,relationships_created:Int64,properties_set:Int64)-class-method","name":"new","abstract":false,"args":[{"name":"","external_name":"","restriction":""},{"name":"fields","external_name":"fields","restriction":"::Array(::String)"},{"name":"rows","external_name":"rows","restriction":"::Array(::Array(::Array(::Array(::Redis::Value) | ::Int64 | ::Redis::Graph::Node | ::Redis::Graph::Relationship | ::String | ::Nil) | ::Array(::Redis::Value) | ::Int64 | ::Redis::Graph::Node | ::Redis::Graph::Relationship | ::String | ::Nil))"},{"name":"cached_execution","external_name":"cached_execution","restriction":"::Bool"},{"name":"duration","external_name":"duration","restriction":"::Time::Span"},{"name":"labels_added","external_name":"labels_added","restriction":"::Int64"},{"name":"nodes_created","external_name":"nodes_created","restriction":"::Int64"},{"name":"relationships_created","external_name":"relationships_created","restriction":"::Int64"},{"name":"properties_set","external_name":"properties_set","restriction":"::Int64"}],"args_string":"(*, fields : Array(String), rows : Array(Array(Array(Array(Redis::Value) | Int64 | Redis::Graph::Node | Redis::Graph::Relationship | String | Nil) | Array(Redis::Value) | Int64 | Redis::Graph::Node | Redis::Graph::Relationship | String | Nil)), cached_execution : Bool, duration : Time::Span, labels_added : Int64, nodes_created : Int64, relationships_created : Int64, properties_set : Int64)","args_html":"(*, fields : Array(String), rows : Array(Array(Array(Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | <a href=\"../../Redis/Graph/Node.html\">Redis::Graph::Node</a> | <a href=\"../../Redis/Graph/Relationship.html\">Redis::Graph::Relationship</a> | String | Nil) | Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | <a href=\"../../Redis/Graph/Node.html\">Redis::Graph::Node</a> | <a href=\"../../Redis/Graph/Relationship.html\">Redis::Graph::Relationship</a> | String | Nil)), cached_execution : Bool, duration : Time::Span, labels_added : Int64, nodes_created : Int64, relationships_created : Int64, properties_set : Int64)","location":{"filename":"src/graph.cr","line_number":417,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L417"},"def":{"name":"new","args":[{"name":"","external_name":"","restriction":""},{"name":"fields","external_name":"fields","restriction":"::Array(::String)"},{"name":"rows","external_name":"rows","restriction":"::Array(::Array(::Array(::Array(::Redis::Value) | ::Int64 | ::Redis::Graph::Node | ::Redis::Graph::Relationship | ::String | ::Nil) | ::Array(::Redis::Value) | ::Int64 | ::Redis::Graph::Node | ::Redis::Graph::Relationship | ::String | ::Nil))"},{"name":"cached_execution","external_name":"cached_execution","restriction":"::Bool"},{"name":"duration","external_name":"duration","restriction":"::Time::Span"},{"name":"labels_added","external_name":"labels_added","restriction":"::Int64"},{"name":"nodes_created","external_name":"nodes_created","restriction":"::Int64"},{"name":"relationships_created","external_name":"relationships_created","restriction":"::Int64"},{"name":"properties_set","external_name":"properties_set","restriction":"::Int64"}],"splat_index":0,"visibility":"Public","body":"_ = allocate\n_.initialize(fields: fields, rows: rows, cached_execution: cached_execution, duration: duration, labels_added: labels_added, nodes_created: nodes_created, relationships_created: relationships_created, properties_set: properties_set)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"cached_execution?:Bool-instance-method","name":"cached_execution?","doc":"Indicates whether the query was cached by RedisGraph","summary":"<p>Indicates whether the query was cached by RedisGraph</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":340,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L340"},"def":{"name":"cached_execution?","return_type":"Bool","visibility":"Public","body":"@cached_execution"}},{"html_id":"duration:Time::Span-instance-method","name":"duration","doc":"How long it took RedisGraph to execute the query on the server side.","summary":"<p>How long it took RedisGraph to execute the query on the server side.</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":343,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L343"},"def":{"name":"duration","return_type":"Time::Span","visibility":"Public","body":"@duration"}},{"html_id":"each(&)-instance-method","name":"each","doc":"Must yield this collection's elements to the block.","summary":"<p>Must yield this collection's elements to the block.</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":420,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L420"},"def":{"name":"each","yields":1,"visibility":"Public","body":"@rows.each do |row|\n  yield row\nend"}},{"html_id":"fields:Array(String)-instance-method","name":"fields","doc":"The names of the fields in a query's `RETURN` clause","summary":"<p>The names of the fields in a query's <code>RETURN</code> clause</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":334,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L334"},"def":{"name":"fields","return_type":"Array(String)","visibility":"Public","body":"@fields"}},{"html_id":"labels_added:Int64-instance-method","name":"labels_added","doc":"How many labels were added in this query","summary":"<p>How many labels were added in this query</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":346,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L346"},"def":{"name":"labels_added","return_type":"Int64","visibility":"Public","body":"@labels_added"}},{"html_id":"nodes_created:Int64-instance-method","name":"nodes_created","doc":"How many nodes were created in this query","summary":"<p>How many nodes were created in this query</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":349,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L349"},"def":{"name":"nodes_created","return_type":"Int64","visibility":"Public","body":"@nodes_created"}},{"html_id":"properties_set:Int64-instance-method","name":"properties_set","doc":"How many properties were set in this query","summary":"<p>How many properties were set in this query</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":355,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L355"},"def":{"name":"properties_set","return_type":"Int64","visibility":"Public","body":"@properties_set"}},{"html_id":"relationships_created:Int64-instance-method","name":"relationships_created","doc":"How many relationships were created in this query","summary":"<p>How many relationships were created in this query</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":352,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L352"},"def":{"name":"relationships_created","return_type":"Int64","visibility":"Public","body":"@relationships_created"}},{"html_id":"rows:Array(List)-instance-method","name":"rows","doc":"The values of the fields in a query's `RETURN` clause","summary":"<p>The values of the fields in a query's <code>RETURN</code> clause</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":337,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L337"},"def":{"name":"rows","return_type":"Array(List)","visibility":"Public","body":"@rows"}}]},{"html_id":"redis/Redis/Graph/ResultValue","path":"Redis/Graph/ResultValue.html","kind":"alias","full_name":"Redis::Graph::ResultValue","name":"ResultValue","abstract":false,"locations":[{"filename":"src/graph.cr","line_number":324,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L324"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"(Array(Redis::Value) | Int64 | Redis::Graph::Node | Redis::Graph::Relationship | String | Nil)","aliased_html":"Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | <a href=\"../../Redis/Graph/Node.html\">Redis::Graph::Node</a> | <a href=\"../../Redis/Graph/Relationship.html\">Redis::Graph::Relationship</a> | String | Nil","const":false,"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"}},{"html_id":"redis/Redis/Graph/Serializable","path":"Redis/Graph/Serializable.html","kind":"module","full_name":"Redis::Graph::Serializable","name":"Serializable","abstract":false,"locations":[{"filename":"src/graph/serializable.cr","line_number":49,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L49"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"doc":"The `Redis::Graph::Serializable::*` mixins tell `Redis::Graph::Client` how\nto deserialize nodes and relationships as your own Crystal object types,\nsimilar to [`DB::Serializable`](http://crystal-lang.github.io/crystal-db/api/0.11.0/DB/Serializable.html).\n\n```\nrequire \"redis/graph\"\n\nstruct Person\n  include Redis::Graph::Serializable::Node\n\n  getter id : UUID\n  getter name : String\n  getter created_at : Time\nend\n\nstruct Team\n  include Redis::Graph::Serializable::Node\n\n  getter name : String\nend\n\nstruct Membership\n  include Redis::Graph::Serializable::Relationship\n\n  getter since : Time\nend\n\nredis = Redis::Client.new\nredis.del \"my-graph\"\n\n# Store the graph data in the Redis key \"my-graph\"\ngraph = redis.graph(key: \"my-graph\")\n\nid = UUID.random\n\n# Create some data in our graph\npp graph.write_query <<-CYPHER, id: id, name: \"Jamie\", now: Time.utc.to_unix_ms, team_name: \"My Team\"\n  CREATE (:Person{id: $id, name: $name, created_at: $now})-[:MEMBER_OF{since: $now}]->(team:Team{name: $team_name})\nCYPHER\n\n# The `return` argument specifies the return types of the results in your\n# Cypher query's `RETURN` clause\npp graph.read_query(<<-CYPHER, {id: id}, return: {Person, Membership, Team})\n  MATCH (person:Person{id: $id})-[membership:MEMBER_OF]->(team:Team)\n  RETURN person, membership, team\nCYPHER\n```","summary":"<p>The <code><a href=\"../../Redis/Graph/Serializable.html\">Redis::Graph::Serializable</a>::*</code> mixins tell <code><a href=\"../../Redis/Graph/Client.html\">Redis::Graph::Client</a></code> how to deserialize nodes and relationships as your own Crystal object types, similar to <a href=\"http://crystal-lang.github.io/crystal-db/api/0.11.0/DB/Serializable.html\"><code>DB::Serializable</code></a>.</p>","types":[{"html_id":"redis/Redis/Graph/Serializable/Node","path":"Redis/Graph/Serializable/Node.html","kind":"module","full_name":"Redis::Graph::Serializable::Node","name":"Node","abstract":false,"locations":[{"filename":"src/graph/serializable.cr","line_number":53,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L53"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Graph/Serializable","kind":"module","full_name":"Redis::Graph::Serializable","name":"Serializable"},"types":[{"html_id":"redis/Redis/Graph/Serializable/Node/Metadata","path":"Redis/Graph/Serializable/Node/Metadata.html","kind":"struct","full_name":"Redis::Graph::Serializable::Node::Metadata","name":"Metadata","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph/serializable.cr","line_number":54,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L54"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Graph/Serializable/Node","kind":"module","full_name":"Redis::Graph::Serializable::Node","name":"Node"},"constructors":[{"html_id":"new(id:Int64,labels:Array(String))-class-method","name":"new","abstract":false,"args":[{"name":"id","external_name":"id","restriction":"Int64"},{"name":"labels","external_name":"labels","restriction":"Array(String)"}],"args_string":"(id : Int64, labels : Array(String))","args_html":"(id : Int64, labels : Array(String))","location":{"filename":"src/graph/serializable.cr","line_number":54,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L54"},"def":{"name":"new","args":[{"name":"id","external_name":"id","restriction":"Int64"},{"name":"labels","external_name":"labels","restriction":"Array(String)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(id, labels)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/graph/serializable.cr","line_number":54,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L54"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@id.clone, @labels.clone)"}},{"html_id":"copy_with(id_id=@id,labels_labels=@labels)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_id","default_value":"@id","external_name":"id","restriction":""},{"name":"_labels","default_value":"@labels","external_name":"labels","restriction":""}],"args_string":"(id _id = @id, labels _labels = @labels)","args_html":"(id _id = @id, labels _labels = @labels)","location":{"filename":"src/graph/serializable.cr","line_number":54,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L54"},"def":{"name":"copy_with","args":[{"name":"_id","default_value":"@id","external_name":"id","restriction":""},{"name":"_labels","default_value":"@labels","external_name":"labels","restriction":""}],"visibility":"Public","body":"self.class.new(_id, _labels)"}},{"html_id":"id:Int64-instance-method","name":"id","abstract":false,"def":{"name":"id","return_type":"Int64","visibility":"Public","body":"@id"}},{"html_id":"labels:Array(String)-instance-method","name":"labels","abstract":false,"def":{"name":"labels","return_type":"Array(String)","visibility":"Public","body":"@labels"}}]}]},{"html_id":"redis/Redis/Graph/Serializable/Property","path":"Redis/Graph/Serializable/Property.html","kind":"annotation","full_name":"Redis::Graph::Serializable::Property","name":"Property","abstract":false,"locations":[{"filename":"src/graph/serializable.cr","line_number":50,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L50"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Graph/Serializable","kind":"module","full_name":"Redis::Graph::Serializable","name":"Serializable"}},{"html_id":"redis/Redis/Graph/Serializable/Relationship","path":"Redis/Graph/Serializable/Relationship.html","kind":"module","full_name":"Redis::Graph::Serializable::Relationship","name":"Relationship","abstract":false,"locations":[{"filename":"src/graph/serializable.cr","line_number":122,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L122"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Graph/Serializable","kind":"module","full_name":"Redis::Graph::Serializable","name":"Serializable"},"types":[{"html_id":"redis/Redis/Graph/Serializable/Relationship/Metadata","path":"Redis/Graph/Serializable/Relationship/Metadata.html","kind":"struct","full_name":"Redis::Graph::Serializable::Relationship::Metadata","name":"Metadata","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph/serializable.cr","line_number":123,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L123"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Graph/Serializable/Relationship","kind":"module","full_name":"Redis::Graph::Serializable::Relationship","name":"Relationship"},"constructors":[{"html_id":"new(id:Int64,type:String,source_node:Int64,destination_node:Int64)-class-method","name":"new","abstract":false,"args":[{"name":"id","external_name":"id","restriction":"Int64"},{"name":"type","external_name":"type","restriction":"String"},{"name":"source_node","external_name":"source_node","restriction":"Int64"},{"name":"destination_node","external_name":"destination_node","restriction":"Int64"}],"args_string":"(id : Int64, type : String, source_node : Int64, destination_node : Int64)","args_html":"(id : Int64, type : String, source_node : Int64, destination_node : Int64)","location":{"filename":"src/graph/serializable.cr","line_number":123,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L123"},"def":{"name":"new","args":[{"name":"id","external_name":"id","restriction":"Int64"},{"name":"type","external_name":"type","restriction":"String"},{"name":"source_node","external_name":"source_node","restriction":"Int64"},{"name":"destination_node","external_name":"destination_node","restriction":"Int64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(id, type, source_node, destination_node)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/graph/serializable.cr","line_number":123,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L123"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@id.clone, @type.clone, @source_node.clone, @destination_node.clone)"}},{"html_id":"copy_with(id_id=@id,type_type=@type,source_node_source_node=@source_node,destination_node_destination_node=@destination_node)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_id","default_value":"@id","external_name":"id","restriction":""},{"name":"_type","default_value":"@type","external_name":"type","restriction":""},{"name":"_source_node","default_value":"@source_node","external_name":"source_node","restriction":""},{"name":"_destination_node","default_value":"@destination_node","external_name":"destination_node","restriction":""}],"args_string":"(id _id = @id, type _type = @type, source_node _source_node = @source_node, destination_node _destination_node = @destination_node)","args_html":"(id _id = @id, type _type = @type, source_node _source_node = @source_node, destination_node _destination_node = @destination_node)","location":{"filename":"src/graph/serializable.cr","line_number":123,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph/serializable.cr#L123"},"def":{"name":"copy_with","args":[{"name":"_id","default_value":"@id","external_name":"id","restriction":""},{"name":"_type","default_value":"@type","external_name":"type","restriction":""},{"name":"_source_node","default_value":"@source_node","external_name":"source_node","restriction":""},{"name":"_destination_node","default_value":"@destination_node","external_name":"destination_node","restriction":""}],"visibility":"Public","body":"self.class.new(_id, _type, _source_node, _destination_node)"}},{"html_id":"destination_node:Int64-instance-method","name":"destination_node","abstract":false,"def":{"name":"destination_node","return_type":"Int64","visibility":"Public","body":"@destination_node"}},{"html_id":"id:Int64-instance-method","name":"id","abstract":false,"def":{"name":"id","return_type":"Int64","visibility":"Public","body":"@id"}},{"html_id":"source_node:Int64-instance-method","name":"source_node","abstract":false,"def":{"name":"source_node","return_type":"Int64","visibility":"Public","body":"@source_node"}},{"html_id":"type:String-instance-method","name":"type","abstract":false,"def":{"name":"type","return_type":"String","visibility":"Public","body":"@type"}}]}]}]},{"html_id":"redis/Redis/Graph/TypedResult","path":"Redis/Graph/TypedResult.html","kind":"struct","full_name":"Redis::Graph::TypedResult(T)","name":"TypedResult","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/graph.cr","line_number":425,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L425"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"redis/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"},"instance_methods":[{"html_id":"cached_execution?:Bool-instance-method","name":"cached_execution?","doc":"Indicates whether the query was cached by RedisGraph","summary":"<p>Indicates whether the query was cached by RedisGraph</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":433,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L433"},"def":{"name":"cached_execution?","return_type":"Bool","visibility":"Public","body":"@cached_execution"}},{"html_id":"duration:Time::Span-instance-method","name":"duration","doc":"How long it took RedisGraph to execute the query on the server side.","summary":"<p>How long it took RedisGraph to execute the query on the server side.</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":435,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L435"},"def":{"name":"duration","return_type":"Time::Span","visibility":"Public","body":"@duration"}},{"html_id":"each(&)-instance-method","name":"each","doc":"Iterate over each of the results, yielding a tuple containing instances\nof the types in `T`.","summary":"<p>Iterate over each of the results, yielding a tuple containing instances of the types in <code>T</code>.</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":469,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L469"},"def":{"name":"each","yields":1,"visibility":"Public","body":"@rows.each do |row|\n  yield row\nend"}},{"html_id":"fields:Array(String)-instance-method","name":"fields","doc":"The names of the fields in a query's `RETURN` clause","summary":"<p>The names of the fields in a query's <code>RETURN</code> clause</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":429,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L429"},"def":{"name":"fields","return_type":"Array(String)","visibility":"Public","body":"@fields"}},{"html_id":"labels_added:Int64-instance-method","name":"labels_added","doc":"How many labels were added in this query","summary":"<p>How many labels were added in this query</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":437,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L437"},"def":{"name":"labels_added","return_type":"Int64","visibility":"Public","body":"@labels_added"}},{"html_id":"nodes_created:Int64-instance-method","name":"nodes_created","doc":"How many nodes were created in this query","summary":"<p>How many nodes were created in this query</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":439,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L439"},"def":{"name":"nodes_created","return_type":"Int64","visibility":"Public","body":"@nodes_created"}},{"html_id":"properties_set:Int64-instance-method","name":"properties_set","doc":"How many properties were set in this query","summary":"<p>How many properties were set in this query</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":443,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L443"},"def":{"name":"properties_set","return_type":"Int64","visibility":"Public","body":"@properties_set"}},{"html_id":"relationships_created:Int64-instance-method","name":"relationships_created","doc":"How many relationships were created in this query","summary":"<p>How many relationships were created in this query</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":441,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L441"},"def":{"name":"relationships_created","return_type":"Int64","visibility":"Public","body":"@relationships_created"}},{"html_id":"rows:Array(T)-instance-method","name":"rows","doc":"The values of the fields in a query's `RETURN` clause","summary":"<p>The values of the fields in a query's <code>RETURN</code> clause</p>","abstract":false,"location":{"filename":"src/graph.cr","line_number":431,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L431"},"def":{"name":"rows","return_type":"Array(T)","visibility":"Public","body":"@rows"}}]},{"html_id":"redis/Redis/Graph/Value","path":"Redis/Graph/Value.html","kind":"alias","full_name":"Redis::Graph::Value","name":"Value","abstract":false,"locations":[{"filename":"src/graph.cr","line_number":327,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/graph.cr#L327"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"(Array(Array(Array(Redis::Value) | Int64 | Redis::Graph::Node | Redis::Graph::Relationship | String | Nil) | Array(Redis::Value) | Int64 | Redis::Graph::Node | Redis::Graph::Relationship | String | Nil) | Array(Redis::Value) | Hash(String, Array(Redis::Value) | Int64 | String | Nil) | Int64 | Redis::Graph::Node | Redis::Graph::Relationship | String | Nil)","aliased_html":"Array(Array(Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | <a href=\"../../Redis/Graph/Node.html\">Redis::Graph::Node</a> | <a href=\"../../Redis/Graph/Relationship.html\">Redis::Graph::Relationship</a> | String | Nil) | Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | <a href=\"../../Redis/Graph/Node.html\">Redis::Graph::Node</a> | <a href=\"../../Redis/Graph/Relationship.html\">Redis::Graph::Relationship</a> | String | Nil) | Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Hash(String, Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>) | Int64 | String | Nil) | Int64 | <a href=\"../../Redis/Graph/Node.html\">Redis::Graph::Node</a> | <a href=\"../../Redis/Graph/Relationship.html\">Redis::Graph::Relationship</a> | String | Nil","const":false,"namespace":{"html_id":"redis/Redis/Graph","kind":"module","full_name":"Redis::Graph","name":"Graph"}}]},{"html_id":"redis/Redis/JSON","path":"Redis/JSON.html","kind":"struct","full_name":"Redis::JSON(Runnable)","name":"JSON","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/json.cr","line_number":36,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L36"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"`Redis::JSON` wraps a `Redis::Client` or `Redis::Cluster` to execute\ncommands against keys storing JSON data using the\n[RedisJSON](https://oss.redis.com/redisjson/) plugin for Redis.\n\n```\nrequire \"redis\"\nrequire \"redis/json\"\nrequire \"uuid/json\"\n\nstruct Person\n  include JSON::Serializable\n\n  getter id : UUID\n  getter name : String\n  getter email : String\n\n  def initialize(@id, @name, @email)\n  end\nend\n\nredis = Redis::Client.new\n\nid = UUID.random\n\nredis.json.set \"person:#{id}\", \".\", Person.new(id, \"Jamie\", \"jamie@example.com\")\nredis.json.get(\"person:#{id}\", \".\", as: Person)\n# => Person(@email=\"jamie@example.com\", @id=UUID(081af617-6b50-48d3-b53f-dbc17a1072f5), @name=\"Jamie\")\nredis.json.get(\"person:#{id}\", \".name\", as: String)\n# => \"Jamie\"\n```","summary":"<p><code><a href=\"../Redis/JSON.html\">Redis::JSON</a></code> wraps a <code><a href=\"../Redis/Client.html\">Redis::Client</a></code> or <code><a href=\"../Redis/Cluster.html\">Redis::Cluster</a></code> to execute commands against keys storing JSON data using the <a href=\"https://oss.redis.com/redisjson/\">RedisJSON</a> plugin for Redis.</p>","constructors":[{"html_id":"new(redis:Runnable)-class-method","name":"new","abstract":false,"args":[{"name":"redis","external_name":"redis","restriction":"Runnable"}],"args_string":"(redis : Runnable)","args_html":"(redis : Runnable)","location":{"filename":"src/json.cr","line_number":37,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L37"},"def":{"name":"new","args":[{"name":"redis","external_name":"redis","restriction":"Runnable"}],"visibility":"Public","body":"_ = JSON(Runnable).allocate\n_.initialize(redis)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"arrappend(key:String,path:String,value)-instance-method","name":"arrappend","doc":"Append `value` as JSON to the array located at the JSONPath in `key`\n\n```\nredis.json.arrappend \"posts:#{id}\", \".tags\", \"redis\"\n```","summary":"<p>Append <code>value</code> as JSON to the array located at the JSONPath in <code>key</code></p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"value","external_name":"value","restriction":""}],"args_string":"(key : String, path : String, value)","args_html":"(key : String, path : String, value)","location":{"filename":"src/json.cr","line_number":197,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L197"},"def":{"name":"arrappend","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"@redis.run({\"json.arrappend\", key, path, value.to_json})"}},{"html_id":"arrappend(key:String,path:String,*,values:Array)-instance-method","name":"arrappend","doc":"Append `values` as JSON to the array located at the JSONPath in `key`\n\n```\nredis.json.arrappend \"posts:#{id}\", \".tags\", %w[redis crystal]\n```","summary":"<p>Append <code>values</code> as JSON to the array located at the JSONPath in <code>key</code></p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"values","external_name":"values","restriction":"Array"}],"args_string":"(key : String, path : String, *, values : Array)","args_html":"(key : String, path : String, *, values : Array)","location":{"filename":"src/json.cr","line_number":206,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L206"},"def":{"name":"arrappend","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"values","external_name":"values","restriction":"Array"}],"splat_index":2,"visibility":"Public","body":"command = Array(String).new(initial_capacity: 3 + values.size)\n((command << \"json.arrappend\") << key) << path\nvalues.each do |value|\n  command << value.to_json\nend\n@redis.run(command)\n"}},{"html_id":"arrindex(key:String,path:String,value,betweenrange:Range(Int,Int?))-instance-method","name":"arrindex","doc":"Get the index of `value` in the array located at the JSONPath in `key` if\nand only if it falls in the specified `range`\n\n```\nredis.json.arrindex \"posts:#{id}\", \".tags\", \"redis\", between: 1..3\n# => 2\n```","summary":"<p>Get the index of <code>value</code> in the array located at the JSONPath in <code>key</code> if and only if it falls in the specified <code>range</code></p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"value","external_name":"value","restriction":""},{"name":"range","external_name":"between","restriction":"Range(Int, Int | ::Nil)"}],"args_string":"(key : String, path : String, value, between range : Range(Int, Int?))","args_html":"(key : String, path : String, value, between range : Range(Int, Int?))","location":{"filename":"src/json.cr","line_number":232,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L232"},"def":{"name":"arrindex","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"value","external_name":"value","restriction":""},{"name":"range","external_name":"between","restriction":"Range(Int, Int | ::Nil)"}],"visibility":"Public","body":"command = {\"json.arrindex\", key, path, value.to_json, range.begin.to_s}\nif last = range.end\n  if range.excludes_end?\n    command = command + {last.to_s}\n  else\n    command = command + {(last + 1).to_s}\n  end\nend\n@redis.run(command)\n"}},{"html_id":"arrindex(key:String,path:String,value)-instance-method","name":"arrindex","doc":"Get the index of `value` in the array located at the JSONPath in `key`\n\n```\nredis.json.arrindex \"posts:#{id}\", \".tags\", \"redis\" # => 2\n```","summary":"<p>Get the index of <code>value</code> in the array located at the JSONPath in <code>key</code></p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"value","external_name":"value","restriction":""}],"args_string":"(key : String, path : String, value)","args_html":"(key : String, path : String, value)","location":{"filename":"src/json.cr","line_number":221,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L221"},"def":{"name":"arrindex","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"@redis.run({\"json.arrindex\", key, path, value.to_json})"}},{"html_id":"arrinsert(key:String,path:String,index:Int,value)-instance-method","name":"arrinsert","doc":"Insert `value` into the array located at the JSONPath in `key` at `index`\n\n```\nredis.json.arrinsert \"posts:#{id}\", \".tags\", index: 1, value: \"redis\"\n# => 3\n```","summary":"<p>Insert <code>value</code> into the array located at the JSONPath in <code>key</code> at <code>index</code></p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"index","external_name":"index","restriction":"Int"},{"name":"value","external_name":"value","restriction":""}],"args_string":"(key : String, path : String, index : Int, value)","args_html":"(key : String, path : String, index : Int, value)","location":{"filename":"src/json.cr","line_number":251,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L251"},"def":{"name":"arrinsert","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"index","external_name":"index","restriction":"Int"},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"@redis.run({\"json.arrinsert\", key, path, index.to_s, value.to_json})"}},{"html_id":"arrinsert(key:String,path:String,index:Int,*,values:Array)-instance-method","name":"arrinsert","doc":"Insert the elements of `values` into the array located at the JSONPath in\n`key` at `index`\n\n```\nredis.json.arrinsert \"posts:#{id}\", \".tags\", index: 1, values: %w[\n  redis\n  crystal\n]\n# => 4\n```","summary":"<p>Insert the elements of <code>values</code> into the array located at the JSONPath in <code>key</code> at <code>index</code></p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"index","external_name":"index","restriction":"Int"},{"name":"","external_name":"","restriction":""},{"name":"values","external_name":"values","restriction":"Array"}],"args_string":"(key : String, path : String, index : Int, *, values : Array)","args_html":"(key : String, path : String, index : Int, *, values : Array)","location":{"filename":"src/json.cr","line_number":265,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L265"},"def":{"name":"arrinsert","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"index","external_name":"index","restriction":"Int"},{"name":"","external_name":"","restriction":""},{"name":"values","external_name":"values","restriction":"Array"}],"splat_index":3,"visibility":"Public","body":"command = Array(String).new(initial_capacity: 4 + values.size)\n(((command << \"json.arrinsert\") << key) << path) << index.to_s\nvalues.each do |value|\n  command << value.to_json\nend\n@redis.run(command)\n"}},{"html_id":"arrlen(key:String,path:String)-instance-method","name":"arrlen","doc":"Get the number of elements in the array located at the JSONPath in `key`\n\n```\nredis.json.arrlen \"posts:#{id}\", \".tags\"\n# => 4\n```","summary":"<p>Get the number of elements in the array located at the JSONPath in <code>key</code></p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"}],"args_string":"(key : String, path : String)","args_html":"(key : String, path : String)","location":{"filename":"src/json.cr","line_number":281,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L281"},"def":{"name":"arrlen","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"}],"visibility":"Public","body":"@redis.run({\"json.arrlen\", key, path})"}},{"html_id":"arrpop(key:String,path:String?=nil,*,index:Int=-1)-instance-method","name":"arrpop","doc":"Remove and return the value located at `index` (defaulting to the last\nelement) in the array located at the JSONPath in `key`\n\n```\nredis.json.arrlen \"posts:#{id}\", \".tags\"\n# => 4\n```","summary":"<p>Remove and return the value located at <code>index</code> (defaulting to the last element) in the array located at the JSONPath in <code>key</code></p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","default_value":"nil","external_name":"path","restriction":"String | ::Nil"},{"name":"","external_name":"","restriction":""},{"name":"index","default_value":"-1","external_name":"index","restriction":"Int"}],"args_string":"(key : String, path : String? = nil, *, index : Int = -1)","args_html":"(key : String, path : String? = <span class=\"n\">nil</span>, *, index : Int = <span class=\"n\">-1</span>)","location":{"filename":"src/json.cr","line_number":292,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L292"},"def":{"name":"arrpop","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","default_value":"nil","external_name":"path","restriction":"String | ::Nil"},{"name":"","external_name":"","restriction":""},{"name":"index","default_value":"-1","external_name":"index","restriction":"Int"}],"splat_index":2,"visibility":"Public","body":"command = {\"json.arrpop\", key}\nif path\n  command = command + {path}\n  if index != -1\n    command = command + {index.to_s}\n  end\nend\n@redis.run(command)\n"}},{"html_id":"arrpop(key:String,path:String,*,index:Int=-1,as:T.class):T?forallT-instance-method","name":"arrpop","doc":"Remove and return the value located at `index` (defaulting to the last\nelement) in the array located at the JSONPath in `key`\n\n```\nredis.json.arrlen \"posts:#{id}\", \".tags\"\n# => 4\n```\n\nNOTE: This method cannot be invoked on a pipeline or the transaction\nyielded to a `Redis::Connection#multi` block.","summary":"<p>Remove and return the value located at <code>index</code> (defaulting to the last element) in the array located at the JSONPath in <code>key</code></p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"index","default_value":"-1","external_name":"index","restriction":"Int"},{"name":"as","external_name":"as","restriction":"T.class"}],"args_string":"(key : String, path : String, *, index : Int = -1, as : T.class) : T? forall T","args_html":"(key : String, path : String, *, index : Int = <span class=\"n\">-1</span>, as : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : T? forall T","location":{"filename":"src/json.cr","line_number":312,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L312"},"def":{"name":"arrpop","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"","external_name":"","restriction":""},{"name":"index","default_value":"-1","external_name":"index","restriction":"Int"},{"name":"as","external_name":"as","restriction":"T.class"}],"splat_index":2,"return_type":"T | ::Nil","visibility":"Public","body":"if result = arrpop(key, path, index: index)\n  T.from_json(result.as(String))\nend"}},{"html_id":"get(key:String,path:String,astype:T.class):T?forallT-instance-method","name":"get","doc":"Get the value stored at the given JSONPath inside the given `key`,\ndeserializing the value into the type `T`. You can use this to deserialize\nyour custom `JSON::Serializable` objects.\n\n```\nstruct Order\n  include JSON::Serializable\n  getter id : UUID\n  getter customer_id : UUID\n  getter line_items : Array(LineItem)\nend\n\nstruct LineItem\n  include JSON::Serializable\n  getter product_id : UUID\n  getter quantity : Int32\n  getter unit_price_cents : Int32\nend\n\n# Get the Order at the root\nredis.json.get(\"order:#{id}\", \".\", as: Order)\n# Get the LineItems at the `.line_items` JSONPath\n# Note the `$` at the beginning to make it an array\nredis.json.get(\"order:#{id}\", \"$.line_items\", as: Array(LineItem))\n# Get only the `product_id` properties of all the `line_items`\nredis.json.get(\"order:#{id}\", \"$.line_items..product_id\", as: Array(UUID))\n```\n\nNOTE: This method _cannot_ be used in a pipeline or `Redis::Connection#multi`\nblock because it operates on the value returned from the Redis server\ninside the method, which isn't possible when using pipelines or `multi`.","summary":"<p>Get the value stored at the given JSONPath inside the given <code>key</code>, deserializing the value into the type <code>T</code>.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"type","external_name":"as","restriction":"T.class"}],"args_string":"(key : String, path : String, as type : T.class) : T? forall T","args_html":"(key : String, path : String, as type : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : T? forall T","location":{"filename":"src/json.cr","line_number":138,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L138"},"def":{"name":"get","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"type","external_name":"as","restriction":"T.class"}],"return_type":"T | ::Nil","visibility":"Public","body":"if result = @redis.run({\"json.get\", key, path})\n  T.from_json(result.as(String))\nend"}},{"html_id":"get(key:String,path:String)-instance-method","name":"get","doc":"Get the raw JSON string representation at the given `key` nested at the\ngiven JSONPath.\n\n```\nemail = redis.json.get(\"user:#{id}\", \".email\").as(String)\n# => \"me@example.com\"\n```","summary":"<p>Get the raw JSON string representation at the given <code>key</code> nested at the given JSONPath.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"}],"args_string":"(key : String, path : String)","args_html":"(key : String, path : String)","location":{"filename":"src/json.cr","line_number":84,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L84"},"def":{"name":"get","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"}],"visibility":"Public","body":"@redis.run({\"json.get\", key, path})"}},{"html_id":"get(key:String,paths:Array(String),astype:T.class=::JSON::Any)forallT-instance-method","name":"get","doc":"Get the values stored at the specifed JSONPaths, deserializing them into\nthe specified type as values in a `Hash`.\n\n```\nif result = redis.json.get(\"posts:#{id}\", %w[title tags], as: String | Array(String))\n  result         # => {\"title\" => \"JSON with Redis\", tags: [\"redis\", \"json\", \"crystal\"]}\n  typeof(result) # => Hash(String, String | Array(String))\nend\n```\n\nNOTE: This method _cannot_ be used in a pipeline or `Redis::Connection#multi`\nblock because it operates on the value returned from the Redis server,\nwhich isn't a thing when using pipelines or `multi`.","summary":"<p>Get the values stored at the specifed JSONPaths, deserializing them into the specified type as values in a <code>Hash</code>.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"paths","external_name":"paths","restriction":"Array(String)"},{"name":"type","default_value":"::JSON::Any","external_name":"as","restriction":"T.class"}],"args_string":"(key : String, paths : Array(String), as type : T.class = ::JSON::Any) forall T","args_html":"(key : String, paths : Array(String), as type : <span class=\"t\">T</span>.<span class=\"k\">class</span> = <span class=\"t\">::</span><span class=\"t\">JSON</span><span class=\"t\">::</span><span class=\"t\">Any</span>) forall T","location":{"filename":"src/json.cr","line_number":101,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L101"},"def":{"name":"get","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"paths","external_name":"paths","restriction":"Array(String)"},{"name":"type","default_value":"::JSON::Any","external_name":"as","restriction":"T.class"}],"visibility":"Public","body":"if result = @redis.run([\"json.get\", key] + paths)\n  Hash(String, T).from_json(result.as(String))\nend"}},{"html_id":"get(key:String)-instance-method","name":"get","doc":"Get the raw JSON string at the specified `key`","summary":"<p>Get the raw JSON string at the specified <code>key</code></p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/json.cr","line_number":73,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L73"},"def":{"name":"get","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"@redis.run({\"json.get\", key})"}},{"html_id":"mget(keys:Array(String),path:String,astype:T.class):Array(T?)forallT-instance-method","name":"mget","doc":"Get the values for all `keys` at the specified JSONPaths.\n\nNOTE: This method _cannot_ be used in a pipeline or `Redis::Connection#multi`\nblock because it operates on the value returned from the Redis server\ninside the method, which isn't possible when using pipelines or `multi`.\nNOTE: If you are using a cluster, the `keys` _must_ all be on the same\nshard, or you may only get some of them back with this method. When using\n`mget` in a cluster, you'll most likely want to use subhashed keys (with\n`{}` around the same part of the name) to ensure all keys are on the same\nshard.","summary":"<p>Get the values for all <code>keys</code> at the specified JSONPaths.</p>","abstract":false,"args":[{"name":"keys","external_name":"keys","restriction":"Array(String)"},{"name":"path","external_name":"path","restriction":"String"},{"name":"type","external_name":"as","restriction":"T.class"}],"args_string":"(keys : Array(String), path : String, as type : T.class) : Array(T?) forall T","args_html":"(keys : Array(String), path : String, as type : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : Array(T?) forall T","location":{"filename":"src/json.cr","line_number":154,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L154"},"def":{"name":"mget","args":[{"name":"keys","external_name":"keys","restriction":"Array(String)"},{"name":"path","external_name":"path","restriction":"String"},{"name":"type","external_name":"as","restriction":"T.class"}],"return_type":"Array(T | ::Nil)","visibility":"Public","body":"if result = @redis.run(([\"json.mget\"] + keys) + [path])\n  (result.as(Array)).map do |value|\n    if value\n      T.from_json(value.as(String))\n    end\n  end\nelse\n  raise(\"lolwut?\")\nend"}},{"html_id":"numincrby(key:String,path:String,count:String|Int,astype:T.class):TforallT-instance-method","name":"numincrby","doc":"Increment the number at the specified JSONPath\n\n```\nredis.json.numincrby \"product:#{id}\", \".purchase_count\", 1, as: Int64\n# => 2\n```\n\nIf `key` exists and an incrementable number exists at the specified\nJSONPath (including the possibility of incrementing multiple numbers if\nthe JSONPath resolves to multiple numeric values), then this method\nreturns a value of type `T`. If the JSONPath resolves to multiple values\n(for example, it begins with \"$\" or is recursive), you will need to\nspecify that it can be an `Array` of that type.","summary":"<p>Increment the number at the specified JSONPath</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"count","external_name":"count","restriction":"String | Int"},{"name":"type","external_name":"as","restriction":"T.class"}],"args_string":"(key : String, path : String, count : String | Int, as type : T.class) : T forall T","args_html":"(key : String, path : String, count : String | Int, as type : <span class=\"t\">T</span>.<span class=\"k\">class</span>) : T forall T","location":{"filename":"src/json.cr","line_number":188,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L188"},"def":{"name":"numincrby","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"count","external_name":"count","restriction":"String | Int"},{"name":"type","external_name":"as","restriction":"T.class"}],"return_type":"T","visibility":"Public","body":"T.from_json((numincrby(key, path, count)).as(String))"}},{"html_id":"numincrby(key:String,path:String,count:String|Int)-instance-method","name":"numincrby","doc":"Increment the number at the specified JSONPath\n\n```\nredis.json.numincrby \"product:#{id}\", \".purchase_count\", 1\n```","summary":"<p>Increment the number at the specified JSONPath</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"count","external_name":"count","restriction":"String | Int"}],"args_string":"(key : String, path : String, count : String | Int)","args_html":"(key : String, path : String, count : String | Int)","location":{"filename":"src/json.cr","line_number":171,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L171"},"def":{"name":"numincrby","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"count","external_name":"count","restriction":"String | Int"}],"visibility":"Public","body":"@redis.run({\"json.numincrby\", key, path, count.to_s})"}},{"html_id":"set(key:String,path:String,value,*,nx=false,xx=false):Nil-instance-method","name":"set","doc":"Set the given key to the given JSON `value`. The `value` will have\n`to_json` called on it automatically. The `nx` and `xx` arguments are\nidentical to `Redis::Commands#set`.\n\nStore a user at the root JSONPath (`.`) of the specified key:\n\n```\nstruct User\n  include JSON::Serializable\n\n  getter id : UUID\n  getter name : String\n  getter email : String\nend\n\nredis.json.set \"user:#{user.id}\", \".\", user\n```\n\nUpdate (with `xx` so we ensure the key exists) a user's email by setting\nthe new email value at the `.email` JSONPath:\n\n```\nredis.json.set \"user:#{id}\", \".email\", new_email, xx: true\n```","summary":"<p>Set the given key to the given JSON <code>value</code>.</p>","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"value","external_name":"value","restriction":""},{"name":"","external_name":"","restriction":""},{"name":"nx","default_value":"false","external_name":"nx","restriction":""},{"name":"xx","default_value":"false","external_name":"xx","restriction":""}],"args_string":"(key : String, path : String, value, *, nx = false, xx = false) : Nil","args_html":"(key : String, path : String, value, *, nx = <span class=\"n\">false</span>, xx = <span class=\"n\">false</span>) : Nil","location":{"filename":"src/json.cr","line_number":64,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/json.cr#L64"},"def":{"name":"set","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"path","external_name":"path","restriction":"String"},{"name":"value","external_name":"value","restriction":""},{"name":"","external_name":"","restriction":""},{"name":"nx","default_value":"false","external_name":"nx","restriction":""},{"name":"xx","default_value":"false","external_name":"xx","restriction":""}],"splat_index":3,"return_type":"Nil","visibility":"Public","body":"command = {\"json.set\", key, path, value.to_json}\nif nx\n  command = command + {\"nx\"}\nend\nif xx\n  command = command + {\"xx\"}\nend\n@redis.run(command)\n"}}]},{"html_id":"redis/Redis/NoGroup","path":"Redis/NoGroup.html","kind":"class","full_name":"Redis::NoGroup","name":"NoGroup","abstract":false,"superclass":{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/errors.cr","line_number":7,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/errors.cr#L7"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"}},{"html_id":"redis/Redis/Parser","path":"Redis/Parser.html","kind":"struct","full_name":"Redis::Parser","name":"Parser","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/parser.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/parser.cr#L5"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"constructors":[{"html_id":"new(io:IO)-class-method","name":"new","doc":"Initialize a parser to read from the given IO","summary":"<p>Initialize a parser to read from the given IO</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/parser.cr","line_number":7,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/parser.cr#L7"},"def":{"name":"new","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"_ = allocate\n_.initialize(io)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"read:Value-instance-method","name":"read","doc":"Read a `Redis::Value` from the parser's `IO`\n\nExample:\n\n```\nio = IO::Memory.new\nio << \"$3\\r\\n\"\nio << \"foo\\r\\n\"\nio.rewind\n\nParser.new(io).read # => \"foo\"\n```","summary":"<p>Read a <code><a href=\"../Redis/Value.html\">Redis::Value</a></code> from the parser's <code>IO</code></p>","abstract":false,"location":{"filename":"src/parser.cr","line_number":22,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/parser.cr#L22"},"def":{"name":"read","return_type":"Value","visibility":"Public","body":"read do\n  raise(IO::Error.new(\"Connection closed\"))\nend"}},{"html_id":"read?-instance-method","name":"read?","doc":"Reads a value from the `IO`, returning `nil` on EOF.","summary":"<p>Reads a value from the <code>IO</code>, returning <code>nil</code> on EOF.</p>","abstract":false,"location":{"filename":"src/parser.cr","line_number":27,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/parser.cr#L27"},"def":{"name":"read?","visibility":"Public","body":"if @io.closed?\n  return\nend\nread do\n  nil\nend\n"}}]},{"html_id":"redis/Redis/Pipeline","path":"Redis/Pipeline.html","kind":"class","full_name":"Redis::Pipeline","name":"Pipeline","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},{"html_id":"redis/Redis/Commands/Stream","kind":"module","full_name":"Redis::Commands::Stream","name":"Stream"},{"html_id":"redis/Redis/Commands/SortedSet","kind":"module","full_name":"Redis::Commands::SortedSet","name":"SortedSet"},{"html_id":"redis/Redis/Commands/Set","kind":"module","full_name":"Redis::Commands::Set","name":"Set"},{"html_id":"redis/Redis/Commands/List","kind":"module","full_name":"Redis::Commands::List","name":"List"},{"html_id":"redis/Redis/Commands/Hash","kind":"module","full_name":"Redis::Commands::Hash","name":"Hash"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/pipeline.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/pipeline.cr#L6"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"constructors":[{"html_id":"new(connection:Connection)-class-method","name":"new","doc":"Wraps a connection so that our `run` and `commit` methods can execute against it.","summary":"<p>Wraps a connection so that our <code><a href=\"../Redis/Pipeline.html#run%28command%29-instance-method\">#run</a></code> and <code><a href=\"../Redis/Pipeline.html#commit-instance-method\">#commit</a></code> methods can execute against it.</p>","abstract":false,"args":[{"name":"connection","external_name":"connection","restriction":"Connection"}],"args_string":"(connection : Connection)","args_html":"(connection : <a href=\"../Redis/Connection.html\">Connection</a>)","location":{"filename":"src/pipeline.cr","line_number":12,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/pipeline.cr#L12"},"def":{"name":"new","args":[{"name":"connection","external_name":"connection","restriction":"Connection"}],"visibility":"Public","body":"_ = allocate\n_.initialize(connection)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"commit-instance-method","name":"commit","doc":"Read all of the return values from all of the commands we've sent to Redis\nand resolve all `Redis::Future`s with them in the order they were sent.","summary":"<p>Read all of the return values from all of the commands we've sent to Redis and resolve all <code><a href=\"../Redis/Future.html\">Redis::Future</a></code>s with them in the order they were sent.</p>","abstract":false,"location":{"filename":"src/pipeline.cr","line_number":26,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/pipeline.cr#L26"},"def":{"name":"commit","visibility":"Public","body":"@futures.map(&.resolve(@connection.read))"}},{"html_id":"run(command)-instance-method","name":"run","doc":"The `run` method is required by the `Commands` mixin. When you run a Redis\ncommand, it gets pushed to the server via this method.","summary":"<p>The <code><a href=\"../Redis/Pipeline.html#run%28command%29-instance-method\">#run</a></code> method is required by the <code><a href=\"../Redis/Commands.html\">Commands</a></code> mixin.</p>","abstract":false,"args":[{"name":"command","external_name":"command","restriction":""}],"args_string":"(command)","args_html":"(command)","location":{"filename":"src/pipeline.cr","line_number":17,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/pipeline.cr#L17"},"def":{"name":"run","args":[{"name":"command","external_name":"command","restriction":""}],"visibility":"Public","body":"@connection.encode(command)\nfuture = Future.new\n@futures << future\nfuture\n"}}]},{"html_id":"redis/Redis/Streaming","path":"Redis/Streaming.html","kind":"module","full_name":"Redis::Streaming","name":"Streaming","abstract":false,"locations":[{"filename":"src/streaming.cr","line_number":4,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L4"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"types":[{"html_id":"redis/Redis/Streaming/Message","path":"Redis/Streaming/Message.html","kind":"struct","full_name":"Redis::Streaming::Message","name":"Message","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":92,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L92"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Streaming","kind":"module","full_name":"Redis::Streaming","name":"Streaming"},"constructors":[{"html_id":"new(message:Array)-class-method","name":"new","abstract":false,"args":[{"name":"message","external_name":"message","restriction":"Array"}],"args_string":"(message : Array)","args_html":"(message : Array)","location":{"filename":"src/streaming.cr","line_number":95,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L95"},"def":{"name":"new","args":[{"name":"message","external_name":"message","restriction":"Array"}],"visibility":"Public","body":"_ = allocate\n_.initialize(message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"id:String-instance-method","name":"id","abstract":false,"location":{"filename":"src/streaming.cr","line_number":93,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L93"},"def":{"name":"id","visibility":"Public","body":"@id"}},{"html_id":"values:Hash(String,String)-instance-method","name":"values","abstract":false,"location":{"filename":"src/streaming.cr","line_number":93,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L93"},"def":{"name":"values","visibility":"Public","body":"@values"}}]},{"html_id":"redis/Redis/Streaming/XAutoClaimResponse","path":"Redis/Streaming/XAutoClaimResponse.html","kind":"struct","full_name":"Redis::Streaming::XAutoClaimResponse","name":"XAutoClaimResponse","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":77,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L77"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Streaming","kind":"module","full_name":"Redis::Streaming","name":"Streaming"},"constructors":[{"html_id":"new(response:Array)-class-method","name":"new","abstract":false,"args":[{"name":"response","external_name":"response","restriction":"Array"}],"args_string":"(response : Array)","args_html":"(response : Array)","location":{"filename":"src/streaming.cr","line_number":81,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L81"},"def":{"name":"new","args":[{"name":"response","external_name":"response","restriction":"Array"}],"visibility":"Public","body":"_ = allocate\n_.initialize(response)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"id:String-instance-method","name":"id","abstract":false,"location":{"filename":"src/streaming.cr","line_number":78,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L78"},"def":{"name":"id","return_type":"String","visibility":"Public","body":"@id"}},{"html_id":"messages:Array(Message)-instance-method","name":"messages","abstract":false,"location":{"filename":"src/streaming.cr","line_number":79,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L79"},"def":{"name":"messages","return_type":"Array(Message)","visibility":"Public","body":"@messages"}}]},{"html_id":"redis/Redis/Streaming/XPendingBaseResponse","path":"Redis/Streaming/XPendingBaseResponse.html","kind":"struct","full_name":"Redis::Streaming::XPendingBaseResponse","name":"XPendingBaseResponse","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L5"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Streaming","kind":"module","full_name":"Redis::Streaming","name":"Streaming"},"constructors":[{"html_id":"new(response:Array)-class-method","name":"new","abstract":false,"args":[{"name":"response","external_name":"response","restriction":"Array"}],"args_string":"(response : Array)","args_html":"(response : Array)","location":{"filename":"src/streaming.cr","line_number":8,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L8"},"def":{"name":"new","args":[{"name":"response","external_name":"response","restriction":"Array"}],"visibility":"Public","body":"_ = allocate\n_.initialize(response)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"count:Int64-instance-method","name":"count","abstract":false,"location":{"filename":"src/streaming.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L6"},"def":{"name":"count","visibility":"Public","body":"@count"}},{"html_id":"data:Array(Data)-instance-method","name":"data","abstract":false,"location":{"filename":"src/streaming.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L6"},"def":{"name":"data","return_type":"Array(Data)","visibility":"Public","body":"@data"}},{"html_id":"earliest:String-instance-method","name":"earliest","abstract":false,"location":{"filename":"src/streaming.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L6"},"def":{"name":"earliest","visibility":"Public","body":"@earliest"}},{"html_id":"latest:String-instance-method","name":"latest","abstract":false,"location":{"filename":"src/streaming.cr","line_number":6,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L6"},"def":{"name":"latest","visibility":"Public","body":"@latest"}}],"types":[{"html_id":"redis/Redis/Streaming/XPendingBaseResponse/Data","path":"Redis/Streaming/XPendingBaseResponse/Data.html","kind":"struct","full_name":"Redis::Streaming::XPendingBaseResponse::Data","name":"Data","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":21,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L21"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Streaming/XPendingBaseResponse","kind":"struct","full_name":"Redis::Streaming::XPendingBaseResponse","name":"XPendingBaseResponse"},"constructors":[{"html_id":"new(consumer:String,pending_count:Int64)-class-method","name":"new","abstract":false,"args":[{"name":"consumer","external_name":"consumer","restriction":"String"},{"name":"pending_count","external_name":"pending_count","restriction":"Int64"}],"args_string":"(consumer : String, pending_count : Int64)","args_html":"(consumer : String, pending_count : Int64)","location":{"filename":"src/streaming.cr","line_number":21,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L21"},"def":{"name":"new","args":[{"name":"consumer","external_name":"consumer","restriction":"String"},{"name":"pending_count","external_name":"pending_count","restriction":"Int64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(consumer, pending_count)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/streaming.cr","line_number":21,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L21"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@consumer.clone, @pending_count.clone)"}},{"html_id":"consumer:String-instance-method","name":"consumer","abstract":false,"def":{"name":"consumer","return_type":"String","visibility":"Public","body":"@consumer"}},{"html_id":"copy_with(consumer_consumer=@consumer,pending_count_pending_count=@pending_count)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_consumer","default_value":"@consumer","external_name":"consumer","restriction":""},{"name":"_pending_count","default_value":"@pending_count","external_name":"pending_count","restriction":""}],"args_string":"(consumer _consumer = @consumer, pending_count _pending_count = @pending_count)","args_html":"(consumer _consumer = @consumer, pending_count _pending_count = @pending_count)","location":{"filename":"src/streaming.cr","line_number":21,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L21"},"def":{"name":"copy_with","args":[{"name":"_consumer","default_value":"@consumer","external_name":"consumer","restriction":""},{"name":"_pending_count","default_value":"@pending_count","external_name":"pending_count","restriction":""}],"visibility":"Public","body":"self.class.new(_consumer, _pending_count)"}},{"html_id":"pending_count:Int64-instance-method","name":"pending_count","abstract":false,"def":{"name":"pending_count","return_type":"Int64","visibility":"Public","body":"@pending_count"}}]}]},{"html_id":"redis/Redis/Streaming/XPendingExtendedResponse","path":"Redis/Streaming/XPendingExtendedResponse.html","kind":"struct","full_name":"Redis::Streaming::XPendingExtendedResponse","name":"XPendingExtendedResponse","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":24,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L24"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Streaming","kind":"module","full_name":"Redis::Streaming","name":"Streaming"},"constructors":[{"html_id":"new(data:Array,now:Time=Time.utc)-class-method","name":"new","abstract":false,"args":[{"name":"data","external_name":"data","restriction":"Array"},{"name":"now","default_value":"Time.utc","external_name":"now","restriction":"Time"}],"args_string":"(data : Array, now : Time = Time.utc)","args_html":"(data : Array, now : Time = <span class=\"t\">Time</span>.utc)","location":{"filename":"src/streaming.cr","line_number":27,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L27"},"def":{"name":"new","args":[{"name":"data","external_name":"data","restriction":"Array"},{"name":"now","default_value":"Time.utc","external_name":"now","restriction":"Time"}],"visibility":"Public","body":"_ = allocate\n_.initialize(data, now)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"messages:Array(MessageData)-instance-method","name":"messages","abstract":false,"location":{"filename":"src/streaming.cr","line_number":25,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L25"},"def":{"name":"messages","return_type":"Array(MessageData)","visibility":"Public","body":"@messages"}}],"types":[{"html_id":"redis/Redis/Streaming/XPendingExtendedResponse/MessageData","path":"Redis/Streaming/XPendingExtendedResponse/MessageData.html","kind":"struct","full_name":"Redis::Streaming::XPendingExtendedResponse::MessageData","name":"MessageData","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":40,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L40"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Streaming/XPendingExtendedResponse","kind":"struct","full_name":"Redis::Streaming::XPendingExtendedResponse","name":"XPendingExtendedResponse"},"constructors":[{"html_id":"new(id:String,consumer:String,last_delivered_at:Time,delivery_count:Int64)-class-method","name":"new","abstract":false,"args":[{"name":"id","external_name":"id","restriction":"::String"},{"name":"consumer","external_name":"consumer","restriction":"::String"},{"name":"last_delivered_at","external_name":"last_delivered_at","restriction":"::Time"},{"name":"delivery_count","external_name":"delivery_count","restriction":"::Int64"}],"args_string":"(id : String, consumer : String, last_delivered_at : Time, delivery_count : Int64)","args_html":"(id : String, consumer : String, last_delivered_at : Time, delivery_count : Int64)","location":{"filename":"src/streaming.cr","line_number":46,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L46"},"def":{"name":"new","args":[{"name":"id","external_name":"id","restriction":"::String"},{"name":"consumer","external_name":"consumer","restriction":"::String"},{"name":"last_delivered_at","external_name":"last_delivered_at","restriction":"::Time"},{"name":"delivery_count","external_name":"delivery_count","restriction":"::Int64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(id, consumer, last_delivered_at, delivery_count)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"age-instance-method","name":"age","abstract":false,"location":{"filename":"src/streaming.cr","line_number":49,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L49"},"def":{"name":"age","visibility":"Public","body":"Time.utc - last_delivered_at"}},{"html_id":"consumer:String-instance-method","name":"consumer","abstract":false,"location":{"filename":"src/streaming.cr","line_number":42,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L42"},"def":{"name":"consumer","return_type":"String","visibility":"Public","body":"@consumer"}},{"html_id":"delivery_count:Int64-instance-method","name":"delivery_count","abstract":false,"location":{"filename":"src/streaming.cr","line_number":44,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L44"},"def":{"name":"delivery_count","return_type":"Int64","visibility":"Public","body":"@delivery_count"}},{"html_id":"id:String-instance-method","name":"id","abstract":false,"location":{"filename":"src/streaming.cr","line_number":41,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L41"},"def":{"name":"id","return_type":"String","visibility":"Public","body":"@id"}},{"html_id":"last_delivered_at:Time-instance-method","name":"last_delivered_at","abstract":false,"location":{"filename":"src/streaming.cr","line_number":43,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L43"},"def":{"name":"last_delivered_at","return_type":"Time","visibility":"Public","body":"@last_delivered_at"}}]}]},{"html_id":"redis/Redis/Streaming/XReadGroupResponse","path":"Redis/Streaming/XReadGroupResponse.html","kind":"struct","full_name":"Redis::Streaming::XReadGroupResponse","name":"XReadGroupResponse","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":55,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L55"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Streaming","kind":"module","full_name":"Redis::Streaming","name":"Streaming"},"constructors":[{"html_id":"new(response:Array(Redis::Value))-class-method","name":"new","abstract":false,"args":[{"name":"response","external_name":"response","restriction":"Array(Redis::Value)"}],"args_string":"(response : Array(Redis::Value))","args_html":"(response : Array(<a href=\"../../Redis/Value.html\">Redis::Value</a>))","location":{"filename":"src/streaming.cr","line_number":58,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L58"},"def":{"name":"new","args":[{"name":"response","external_name":"response","restriction":"Array(Redis::Value)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(response)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"results:Array(Redis::Streaming::XReadGroupResponse::Result)-instance-method","name":"results","abstract":false,"location":{"filename":"src/streaming.cr","line_number":56,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L56"},"def":{"name":"results","visibility":"Public","body":"@results"}}],"types":[{"html_id":"redis/Redis/Streaming/XReadGroupResponse/Result","path":"Redis/Streaming/XReadGroupResponse/Result.html","kind":"struct","full_name":"Redis::Streaming::XReadGroupResponse::Result","name":"Result","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/streaming.cr","line_number":67,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L67"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Streaming/XReadGroupResponse","kind":"struct","full_name":"Redis::Streaming::XReadGroupResponse","name":"XReadGroupResponse"},"constructors":[{"html_id":"new(key:String,messages:Array)-class-method","name":"new","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"messages","external_name":"messages","restriction":"Array"}],"args_string":"(key : String, messages : Array)","args_html":"(key : String, messages : Array)","location":{"filename":"src/streaming.cr","line_number":71,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L71"},"def":{"name":"new","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"messages","external_name":"messages","restriction":"Array"}],"visibility":"Public","body":"_ = allocate\n_.initialize(key, messages)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"key:String-instance-method","name":"key","abstract":false,"location":{"filename":"src/streaming.cr","line_number":69,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L69"},"def":{"name":"key","return_type":"String","visibility":"Public","body":"@key"}},{"html_id":"messages:Array(Message)-instance-method","name":"messages","abstract":false,"location":{"filename":"src/streaming.cr","line_number":68,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/streaming.cr#L68"},"def":{"name":"messages","return_type":"Array(Message)","visibility":"Public","body":"@messages"}}]}]}]},{"html_id":"redis/Redis/Subscription","path":"Redis/Subscription.html","kind":"class","full_name":"Redis::Subscription","name":"Subscription","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/connection.cr","line_number":354,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L354"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"The `Subscription` is what is yielded to a `Connection#subscribe` block. It\nis used to setup callbacks when messages come in, the connection is\nsubscribed to other channels or patterns, or unsubscribed from any channels\nor patterns.\n\n```\nredis.subscribe \"channel1\", \"channel2\" do |subscription, connection|\n  subscription.on_message do |channel, message|\n    if message == \"unsubscribe\"\n      connection.unsubscribe channel\n    end\n\n    # ...\n  end\n\n  # Respond to new subscribers\n  subscription.on_subscribe do |channel, sub_count|\n    connection.incr \"sub_count:#{channel}\"\n  end\n\n  # Respond to losing subscribers\n  subscription.on_unsubscribe do |channel, sub_count|\n    connection.incr \"sub_count:#{channel}\"\n  end\nend\n```\n\nFor more information, see the documentation for:\n- [`SUBSCRIBE`](https://redis.io/commands/subscribe/)\n- [`PSUBSCRIBE`](https://redis.io/commands/psubscribe/)","summary":"<p>The <code><a href=\"../Redis/Subscription.html\">Subscription</a></code> is what is yielded to a <code><a href=\"../Redis/Connection.html#subscribe%28%2Achannels%3AString%2C%26block%3ASubscription%2Cself-%3E%29-instance-method\">Connection#subscribe</a></code> block.</p>","instance_methods":[{"html_id":"close-instance-method","name":"close","abstract":false,"location":{"filename":"src/connection.cr","line_number":441,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L441"},"def":{"name":"close","visibility":"Public","body":"@channels.each do |channel|\n  @connection.unsubscribe(channel)\nend"}},{"html_id":"on_message(&on_message:String,String,String->)-instance-method","name":"on_message","doc":"Define a callback for when a new message is received.\n\n```\nsubscription.on_message do |channel, message|\n  pp channel: channel, message: message\nend\n```","summary":"<p>Define a callback for when a new message is received.</p>","abstract":false,"location":{"filename":"src/connection.cr","line_number":371,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L371"},"def":{"name":"on_message","yields":3,"block_arg":{"name":"on_message","external_name":"on_message","restriction":"(String, String, String ->)"},"visibility":"Public","body":"@on_message = on_message\nself\n"}},{"html_id":"on_subscribe(&on_subscribe:String,Int64->)-instance-method","name":"on_subscribe","doc":"Define a callback to execute when the connection is subscribed to another\nchannel.","summary":"<p>Define a callback to execute when the connection is subscribed to another channel.</p>","abstract":false,"location":{"filename":"src/connection.cr","line_number":377,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L377"},"def":{"name":"on_subscribe","yields":2,"block_arg":{"name":"on_subscribe","external_name":"on_subscribe","restriction":"(String, Int64 ->)"},"visibility":"Public","body":"@on_subscribe = on_subscribe\nself\n"}},{"html_id":"on_unsubscribe(&on_unsubscribe:String,Int64->)-instance-method","name":"on_unsubscribe","doc":"Define a callback to execute when the connection is unsubscribed from\nanother channel.","summary":"<p>Define a callback to execute when the connection is unsubscribed from another channel.</p>","abstract":false,"location":{"filename":"src/connection.cr","line_number":383,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L383"},"def":{"name":"on_unsubscribe","yields":2,"block_arg":{"name":"on_unsubscribe","external_name":"on_unsubscribe","restriction":"(String, Int64 ->)"},"visibility":"Public","body":"@on_unsubscribe = on_unsubscribe\nself\n"}}],"types":[{"html_id":"redis/Redis/Subscription/InvalidMessage","path":"Redis/Subscription/InvalidMessage.html","kind":"class","full_name":"Redis::Subscription::InvalidMessage","name":"InvalidMessage","abstract":false,"superclass":{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},"ancestors":[{"html_id":"redis/Redis/Error","kind":"class","full_name":"Redis::Error","name":"Error"},{"html_id":"redis/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/connection.cr","line_number":447,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/connection.cr#L447"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/Subscription","kind":"class","full_name":"Redis::Subscription","name":"Subscription"}}]},{"html_id":"redis/Redis/TimeSeries","path":"Redis/TimeSeries.html","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":13,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L13"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"Time-series support for Redis using the\n[RedisTimeSeries module](https://oss.redis.com/redistimeseries/).\n\n```\nrequire \"redis\"\nrequire \"redis/time_series\"\n```","summary":"<p>Time-series support for Redis using the <a href=\"https://oss.redis.com/redistimeseries/\">RedisTimeSeries module</a>.</p>\n<p><span class=\"flag lime\">EXPERIMENTAL</span>  Support for the Redis TimeSeries module is subject to change.</p>","instance_methods":[{"html_id":"add(key:String,value:Float64|Int64,retention:Time::Span?=nil,encoding:Encoding?=nil,chunk_size:Int64?=nil,on_duplicateduplicate_policy:DuplicatePolicy?=nil,labels:Hash(String,String|Int32|Int64)?=nil)-instance-method","name":"add","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":"Float64 | Int64"},{"name":"retention","default_value":"nil","external_name":"retention","restriction":"Time::Span | ::Nil"},{"name":"encoding","default_value":"nil","external_name":"encoding","restriction":"Encoding | ::Nil"},{"name":"chunk_size","default_value":"nil","external_name":"chunk_size","restriction":"Int64 | ::Nil"},{"name":"duplicate_policy","default_value":"nil","external_name":"on_duplicate","restriction":"DuplicatePolicy | ::Nil"},{"name":"labels","default_value":"nil","external_name":"labels","restriction":"Hash(String, String | Int32 | Int64) | ::Nil"}],"args_string":"(key : String, value : Float64 | Int64, retention : Time::Span? = nil, encoding : Encoding? = nil, chunk_size : Int64? = nil, on_duplicate duplicate_policy : DuplicatePolicy? = nil, labels : Hash(String, String | Int32 | Int64)? = nil)","args_html":"(key : String, value : Float64 | Int64, retention : Time::Span? = <span class=\"n\">nil</span>, encoding : <a href=\"../Redis/TimeSeries/Encoding.html\">Encoding</a>? = <span class=\"n\">nil</span>, chunk_size : Int64? = <span class=\"n\">nil</span>, on_duplicate duplicate_policy : <a href=\"../Redis/TimeSeries/DuplicatePolicy.html\">DuplicatePolicy</a>? = <span class=\"n\">nil</span>, labels : Hash(String, String | Int32 | Int64)? = <span class=\"n\">nil</span>)","location":{"filename":"src/time_series.cr","line_number":54,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L54"},"def":{"name":"add","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"value","external_name":"value","restriction":"Float64 | Int64"},{"name":"retention","default_value":"nil","external_name":"retention","restriction":"Time::Span | ::Nil"},{"name":"encoding","default_value":"nil","external_name":"encoding","restriction":"Encoding | ::Nil"},{"name":"chunk_size","default_value":"nil","external_name":"chunk_size","restriction":"Int64 | ::Nil"},{"name":"duplicate_policy","default_value":"nil","external_name":"on_duplicate","restriction":"DuplicatePolicy | ::Nil"},{"name":"labels","default_value":"nil","external_name":"labels","restriction":"Hash(String, String | Int32 | Int64) | ::Nil"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: 12 + ((labels.try(&.size) || 0) * 2))\n(((command << \"ts.add\") << key) << \"*\") << value.to_s\nif retention\n  (command << \"retention\") << retention.total_milliseconds.to_i64.to_s\nend\nif encoding\n  (command << \"encoding\") << encoding.to_s\nend\nif chunk_size\n  (command << \"chunk_size\") << chunk_size.to_s\nend\nif duplicate_policy\n  (command << \"on_duplicate\") << duplicate_policy.to_s\nend\nif labels && labels.any?\n  command << \"labels\"\n  labels.each do |key, value|\n    (command << key) << value.to_s\n  end\nend\n@redis.run(command)\n"}},{"html_id":"add(key:String,timestamp:Time,value:Float64|Int64,retention:Time::Span?=nil,encoding:Encoding?=nil,chunk_size:Int64?=nil,on_duplicateduplicate_policy:DuplicatePolicy?=nil,labels:Hash(String,String|Int32|Int64)?=nil)-instance-method","name":"add","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"timestamp","external_name":"timestamp","restriction":"Time"},{"name":"value","external_name":"value","restriction":"Float64 | Int64"},{"name":"retention","default_value":"nil","external_name":"retention","restriction":"Time::Span | ::Nil"},{"name":"encoding","default_value":"nil","external_name":"encoding","restriction":"Encoding | ::Nil"},{"name":"chunk_size","default_value":"nil","external_name":"chunk_size","restriction":"Int64 | ::Nil"},{"name":"duplicate_policy","default_value":"nil","external_name":"on_duplicate","restriction":"DuplicatePolicy | ::Nil"},{"name":"labels","default_value":"nil","external_name":"labels","restriction":"Hash(String, String | Int32 | Int64) | ::Nil"}],"args_string":"(key : String, timestamp : Time, value : Float64 | Int64, retention : Time::Span? = nil, encoding : Encoding? = nil, chunk_size : Int64? = nil, on_duplicate duplicate_policy : DuplicatePolicy? = nil, labels : Hash(String, String | Int32 | Int64)? = nil)","args_html":"(key : String, timestamp : Time, value : Float64 | Int64, retention : Time::Span? = <span class=\"n\">nil</span>, encoding : <a href=\"../Redis/TimeSeries/Encoding.html\">Encoding</a>? = <span class=\"n\">nil</span>, chunk_size : Int64? = <span class=\"n\">nil</span>, on_duplicate duplicate_policy : <a href=\"../Redis/TimeSeries/DuplicatePolicy.html\">DuplicatePolicy</a>? = <span class=\"n\">nil</span>, labels : Hash(String, String | Int32 | Int64)? = <span class=\"n\">nil</span>)","location":{"filename":"src/time_series.cr","line_number":91,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L91"},"def":{"name":"add","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"timestamp","external_name":"timestamp","restriction":"Time"},{"name":"value","external_name":"value","restriction":"Float64 | Int64"},{"name":"retention","default_value":"nil","external_name":"retention","restriction":"Time::Span | ::Nil"},{"name":"encoding","default_value":"nil","external_name":"encoding","restriction":"Encoding | ::Nil"},{"name":"chunk_size","default_value":"nil","external_name":"chunk_size","restriction":"Int64 | ::Nil"},{"name":"duplicate_policy","default_value":"nil","external_name":"on_duplicate","restriction":"DuplicatePolicy | ::Nil"},{"name":"labels","default_value":"nil","external_name":"labels","restriction":"Hash(String, String | Int32 | Int64) | ::Nil"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: 13 + ((labels.try(&.size) || 0) * 2))\n(((command << \"ts.add\") << key) << timestamp.to_unix_ms.to_s) << value.to_s\nif retention\n  (command << \"retention\") << retention.total_milliseconds.to_i64.to_s\nend\nif encoding\n  (command << \"encoding\") << encoding.to_s\nend\nif chunk_size\n  (command << \"chunk_size\") << chunk_size.to_s\nend\nif duplicate_policy\n  (command << \"on_duplicate\") << duplicate_policy.to_s\nend\nif labels && labels.any?\n  command << \"labels\"\n  labels.each do |key, value|\n    (command << key) << value.to_s\n  end\nend\n@redis.run(command)\n"}},{"html_id":"aggregation(aggregator:AggregationType,bucket_duration:Time::Span,buckettimestamp:BucketTimestamp?=nil,empty:Bool?=nil)-instance-method","name":"aggregation","abstract":false,"args":[{"name":"aggregator","external_name":"aggregator","restriction":"AggregationType"},{"name":"bucket_duration","external_name":"bucket_duration","restriction":"Time::Span"},{"name":"buckettimestamp","default_value":"nil","external_name":"buckettimestamp","restriction":"BucketTimestamp | ::Nil"},{"name":"empty","default_value":"nil","external_name":"empty","restriction":"Bool | ::Nil"}],"args_string":"(aggregator : AggregationType, bucket_duration : Time::Span, buckettimestamp : BucketTimestamp? = nil, empty : Bool? = nil)","args_html":"(aggregator : <a href=\"../Redis/TimeSeries/AggregationType.html\">AggregationType</a>, bucket_duration : Time::Span, buckettimestamp : <a href=\"../Redis/TimeSeries/BucketTimestamp.html\">BucketTimestamp</a>? = <span class=\"n\">nil</span>, empty : Bool? = <span class=\"n\">nil</span>)","location":{"filename":"src/time_series.cr","line_number":149,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L149"},"def":{"name":"aggregation","args":[{"name":"aggregator","external_name":"aggregator","restriction":"AggregationType"},{"name":"bucket_duration","external_name":"bucket_duration","restriction":"Time::Span"},{"name":"buckettimestamp","default_value":"nil","external_name":"buckettimestamp","restriction":"BucketTimestamp | ::Nil"},{"name":"empty","default_value":"nil","external_name":"empty","restriction":"Bool | ::Nil"}],"visibility":"Public","body":"Aggregation.new(aggregator, bucket_duration, buckettimestamp, empty)"}},{"html_id":"create(key:String,retention:Time::Span?=nil,encoding:Encoding?=nil,chunk_size:Int64?=nil,duplicate_policy:DuplicatePolicy?=nil,labels:Hash(String,String|Int32|Int64)?=nil)-instance-method","name":"create","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"retention","default_value":"nil","external_name":"retention","restriction":"Time::Span | ::Nil"},{"name":"encoding","default_value":"nil","external_name":"encoding","restriction":"Encoding | ::Nil"},{"name":"chunk_size","default_value":"nil","external_name":"chunk_size","restriction":"Int64 | ::Nil"},{"name":"duplicate_policy","default_value":"nil","external_name":"duplicate_policy","restriction":"DuplicatePolicy | ::Nil"},{"name":"labels","default_value":"nil","external_name":"labels","restriction":"Hash(String, String | Int32 | Int64) | ::Nil"}],"args_string":"(key : String, retention : Time::Span? = nil, encoding : Encoding? = nil, chunk_size : Int64? = nil, duplicate_policy : DuplicatePolicy? = nil, labels : Hash(String, String | Int32 | Int64)? = nil)","args_html":"(key : String, retention : Time::Span? = <span class=\"n\">nil</span>, encoding : <a href=\"../Redis/TimeSeries/Encoding.html\">Encoding</a>? = <span class=\"n\">nil</span>, chunk_size : Int64? = <span class=\"n\">nil</span>, duplicate_policy : <a href=\"../Redis/TimeSeries/DuplicatePolicy.html\">DuplicatePolicy</a>? = <span class=\"n\">nil</span>, labels : Hash(String, String | Int32 | Int64)? = <span class=\"n\">nil</span>)","location":{"filename":"src/time_series.cr","line_number":18,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L18"},"def":{"name":"create","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"retention","default_value":"nil","external_name":"retention","restriction":"Time::Span | ::Nil"},{"name":"encoding","default_value":"nil","external_name":"encoding","restriction":"Encoding | ::Nil"},{"name":"chunk_size","default_value":"nil","external_name":"chunk_size","restriction":"Int64 | ::Nil"},{"name":"duplicate_policy","default_value":"nil","external_name":"duplicate_policy","restriction":"DuplicatePolicy | ::Nil"},{"name":"labels","default_value":"nil","external_name":"labels","restriction":"Hash(String, String | Int32 | Int64) | ::Nil"}],"visibility":"Public","body":"command = Array(String).new(initial_capacity: 11 + ((labels.try(&.size) || 0) * 2))\n(command << \"ts.create\") << key\nif retention\n  (command << \"retention\") << retention.total_milliseconds.to_i64.to_s\nend\nif encoding\n  (command << \"encoding\") << encoding.to_s\nend\nif chunk_size\n  (command << \"chunk_size\") << chunk_size.to_s\nend\nif duplicate_policy\n  (command << \"duplicate_policy\") << duplicate_policy.to_s\nend\nif labels && labels.any?\n  command << \"labels\"\n  labels.each do |key, value|\n    (command << key) << value.to_s\n  end\nend\n@redis.run(command)\n"}},{"html_id":"get(key:String)-instance-method","name":"get","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/time_series.cr","line_number":126,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L126"},"def":{"name":"get","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"@redis.run({\"ts.get\", key})"}},{"html_id":"info(key:String)-instance-method","name":"info","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/time_series.cr","line_number":145,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L145"},"def":{"name":"info","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"@redis.run({\"ts.info\", key})"}},{"html_id":"mrange(time_range:::Range(Time,Time?),filter:String,filter_by_ts:Enumerable(Time)?=nil,filter_by_value:::Range(Float64,Float64)?=nil,withlabels:Bool?=nil,selected_labels:Enumerable(String)?=nil,count:Int?=nil,aggregation:Aggregation?=nil,groupby:String?=nil,reduce:String?=nil)-instance-method","name":"mrange","abstract":false,"args":[{"name":"time_range","external_name":"time_range","restriction":"::Range(Time, Time | ::Nil)"},{"name":"filter","external_name":"filter","restriction":"String"},{"name":"filter_by_ts","default_value":"nil","external_name":"filter_by_ts","restriction":"Enumerable(Time) | ::Nil"},{"name":"filter_by_value","default_value":"nil","external_name":"filter_by_value","restriction":"::Range(Float64, Float64) | ::Nil"},{"name":"withlabels","default_value":"nil","external_name":"withlabels","restriction":"Bool | ::Nil"},{"name":"selected_labels","default_value":"nil","external_name":"selected_labels","restriction":"Enumerable(String) | ::Nil"},{"name":"count","default_value":"nil","external_name":"count","restriction":"Int | ::Nil"},{"name":"aggregation","default_value":"nil","external_name":"aggregation","restriction":"Aggregation | ::Nil"},{"name":"groupby","default_value":"nil","external_name":"groupby","restriction":"String | ::Nil"},{"name":"reduce","default_value":"nil","external_name":"reduce","restriction":"String | ::Nil"}],"args_string":"(time_range : ::Range(Time, Time?), filter : String, filter_by_ts : Enumerable(Time)? = nil, filter_by_value : ::Range(Float64, Float64)? = nil, withlabels : Bool? = nil, selected_labels : Enumerable(String)? = nil, count : Int? = nil, aggregation : Aggregation? = nil, groupby : String? = nil, reduce : String? = nil)","args_html":"(time_range : ::Range(Time, Time?), filter : String, filter_by_ts : Enumerable(Time)? = <span class=\"n\">nil</span>, filter_by_value : ::Range(Float64, Float64)? = <span class=\"n\">nil</span>, withlabels : Bool? = <span class=\"n\">nil</span>, selected_labels : Enumerable(String)? = <span class=\"n\">nil</span>, count : Int? = <span class=\"n\">nil</span>, aggregation : <a href=\"../Redis/TimeSeries/Aggregation.html\">Aggregation</a>? = <span class=\"n\">nil</span>, groupby : String? = <span class=\"n\">nil</span>, reduce : String? = <span class=\"n\">nil</span>)","location":{"filename":"src/time_series.cr","line_number":164,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L164"},"def":{"name":"mrange","args":[{"name":"time_range","external_name":"time_range","restriction":"::Range(Time, Time | ::Nil)"},{"name":"filter","external_name":"filter","restriction":"String"},{"name":"filter_by_ts","default_value":"nil","external_name":"filter_by_ts","restriction":"Enumerable(Time) | ::Nil"},{"name":"filter_by_value","default_value":"nil","external_name":"filter_by_value","restriction":"::Range(Float64, Float64) | ::Nil"},{"name":"withlabels","default_value":"nil","external_name":"withlabels","restriction":"Bool | ::Nil"},{"name":"selected_labels","default_value":"nil","external_name":"selected_labels","restriction":"Enumerable(String) | ::Nil"},{"name":"count","default_value":"nil","external_name":"count","restriction":"Int | ::Nil"},{"name":"aggregation","default_value":"nil","external_name":"aggregation","restriction":"Aggregation | ::Nil"},{"name":"groupby","default_value":"nil","external_name":"groupby","restriction":"String | ::Nil"},{"name":"reduce","default_value":"nil","external_name":"reduce","restriction":"String | ::Nil"}],"visibility":"Public","body":"from = time_range.begin\nto = time_range.end || (Time::UNIX_EPOCH + Int32::MAX.seconds)\ncommand_size = ((((((((((1 + 2) + 1) + (filter_by_ts.try(&.size) || 0)) + 3) + 1) + 1) + (selected_labels.try(&.size) || 0)) + 2) + 8) + 2) + 4\ncommand = Array(String).new(initial_capacity: command_size)\n((command << \"ts.mrange\") << from.to_unix_ms.to_s) << to.to_unix_ms.to_s\nif filter_by_ts\n  command << \"filter_by_ts\"\n  filter_by_ts.each do |ts|\n    command << ts.to_unix_ms.to_s\n  end\nend\nif filter_by_value\n  command << \"filter_by_value\"\n  command << filter_by_value.begin.to_s\n  command << filter_by_value.end.to_s\nend\nif withlabels\n  command << \"withlabels\"\nend\nif selected_labels\n  command << \"selected_labels\"\n  selected_labels.each do |label|\n    command << label\n  end\nend\nif count\n  (command << \"count\") << count.to_s\nend\nif aggregation\n  ((command << \"aggregation\") << aggregation.aggregator.to_s) << aggregation.bucket_duration.total_milliseconds.to_i64.to_s\n  if bucket_ts = aggregation.buckettimestamp\n    (command << \"buckettimestamp\") << bucket_ts.to_s\n  end\n  if aggregation.empty\n    command << \"empty\"\n  end\nend\n(command << \"filter\") << filter\nif groupby && reduce\n  (((command << \"groupby\") << groupby) << \"reduce\") << reduce\nend\n@redis.run(command)\n"}},{"html_id":"range(key:String,time_range:::Range(Time,Time),&:RangeOptions->)-instance-method","name":"range","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"time_range","external_name":"time_range","restriction":"::Range(Time, Time)"}],"args_string":"(key : String, time_range : ::Range(Time, Time), & : RangeOptions -> )","args_html":"(key : String, time_range : ::Range(Time, Time), & : <a href=\"../Redis/TimeSeries/RangeOptions.html\">RangeOptions</a> -> )","location":{"filename":"src/time_series.cr","line_number":130,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L130"},"def":{"name":"range","args":[{"name":"key","external_name":"key","restriction":"String"},{"name":"time_range","external_name":"time_range","restriction":"::Range(Time, Time)"}],"yields":1,"block_arg":{"name":"","external_name":"","restriction":"(RangeOptions ->)"},"visibility":"Public","body":"command = Array(String).new(initial_capacity: 14)\noptions = RangeOptions.new\n(((command << \"ts.range\") << key) << time_range.begin.to_unix_ms.to_s) << time_range.end.to_unix_ms.to_s\nyield options\nif agg = options.aggregation\n  ((command << \"aggregation\") << agg.type.to_s) << agg.time_bucket.total_milliseconds.to_i.to_s\nend\n@redis.run(command)\n"}}],"types":[{"html_id":"redis/Redis/TimeSeries/Aggregation","path":"Redis/TimeSeries/Aggregation.html","kind":"struct","full_name":"Redis::TimeSeries::Aggregation","name":"Aggregation","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":158,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L158"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"constructors":[{"html_id":"new(aggregator:AggregationType,bucket_duration:Time::Span,buckettimestamp:BucketTimestamp?=nil,empty:Bool?=nil)-class-method","name":"new","abstract":false,"args":[{"name":"aggregator","external_name":"aggregator","restriction":"AggregationType"},{"name":"bucket_duration","external_name":"bucket_duration","restriction":"Time::Span"},{"name":"buckettimestamp","default_value":"nil","external_name":"buckettimestamp","restriction":"BucketTimestamp | ::Nil"},{"name":"empty","default_value":"nil","external_name":"empty","restriction":"Bool | ::Nil"}],"args_string":"(aggregator : AggregationType, bucket_duration : Time::Span, buckettimestamp : BucketTimestamp? = nil, empty : Bool? = nil)","args_html":"(aggregator : <a href=\"../../Redis/TimeSeries/AggregationType.html\">AggregationType</a>, bucket_duration : Time::Span, buckettimestamp : <a href=\"../../Redis/TimeSeries/BucketTimestamp.html\">BucketTimestamp</a>? = <span class=\"n\">nil</span>, empty : Bool? = <span class=\"n\">nil</span>)","location":{"filename":"src/time_series.cr","line_number":158,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L158"},"def":{"name":"new","args":[{"name":"aggregator","external_name":"aggregator","restriction":"AggregationType"},{"name":"bucket_duration","external_name":"bucket_duration","restriction":"Time::Span"},{"name":"buckettimestamp","default_value":"nil","external_name":"buckettimestamp","restriction":"BucketTimestamp | ::Nil"},{"name":"empty","default_value":"nil","external_name":"empty","restriction":"Bool | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(aggregator, bucket_duration, buckettimestamp, empty)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"aggregator:AggregationType-instance-method","name":"aggregator","abstract":false,"def":{"name":"aggregator","return_type":"AggregationType","visibility":"Public","body":"@aggregator"}},{"html_id":"bucket_duration:Time::Span-instance-method","name":"bucket_duration","abstract":false,"def":{"name":"bucket_duration","return_type":"Time::Span","visibility":"Public","body":"@bucket_duration"}},{"html_id":"buckettimestamp:BucketTimestamp?-instance-method","name":"buckettimestamp","abstract":false,"def":{"name":"buckettimestamp","return_type":"BucketTimestamp | ::Nil","visibility":"Public","body":"@buckettimestamp"}},{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/time_series.cr","line_number":158,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L158"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@aggregator.clone, @bucket_duration.clone, @buckettimestamp.clone, @empty.clone)"}},{"html_id":"copy_with(aggregator_aggregator=@aggregator,bucket_duration_bucket_duration=@bucket_duration,buckettimestamp_buckettimestamp=@buckettimestamp,empty_empty=@empty)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_aggregator","default_value":"@aggregator","external_name":"aggregator","restriction":""},{"name":"_bucket_duration","default_value":"@bucket_duration","external_name":"bucket_duration","restriction":""},{"name":"_buckettimestamp","default_value":"@buckettimestamp","external_name":"buckettimestamp","restriction":""},{"name":"_empty","default_value":"@empty","external_name":"empty","restriction":""}],"args_string":"(aggregator _aggregator = @aggregator, bucket_duration _bucket_duration = @bucket_duration, buckettimestamp _buckettimestamp = @buckettimestamp, empty _empty = @empty)","args_html":"(aggregator _aggregator = @aggregator, bucket_duration _bucket_duration = @bucket_duration, buckettimestamp _buckettimestamp = @buckettimestamp, empty _empty = @empty)","location":{"filename":"src/time_series.cr","line_number":158,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L158"},"def":{"name":"copy_with","args":[{"name":"_aggregator","default_value":"@aggregator","external_name":"aggregator","restriction":""},{"name":"_bucket_duration","default_value":"@bucket_duration","external_name":"bucket_duration","restriction":""},{"name":"_buckettimestamp","default_value":"@buckettimestamp","external_name":"buckettimestamp","restriction":""},{"name":"_empty","default_value":"@empty","external_name":"empty","restriction":""}],"visibility":"Public","body":"self.class.new(_aggregator, _bucket_duration, _buckettimestamp, _empty)"}},{"html_id":"empty:Bool?-instance-method","name":"empty","abstract":false,"def":{"name":"empty","return_type":"Bool | ::Nil","visibility":"Public","body":"@empty"}}]},{"html_id":"redis/Redis/TimeSeries/AggregationType","path":"Redis/TimeSeries/AggregationType.html","kind":"enum","full_name":"Redis::TimeSeries::AggregationType","name":"AggregationType","abstract":false,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":335,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L335"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"AVG","name":"AVG","value":"0"},{"id":"SUM","name":"SUM","value":"1"},{"id":"MIN","name":"MIN","value":"2"},{"id":"MAX","name":"MAX","value":"3"},{"id":"RANGE","name":"RANGE","value":"4"},{"id":"COUNT","name":"COUNT","value":"5"},{"id":"FIRST","name":"FIRST","value":"6"},{"id":"LAST","name":"LAST","value":"7"},{"id":"STD_P","name":"STD_P","value":"8"},{"id":"STD_S","name":"STD_S","value":"9"},{"id":"VAR_P","name":"VAR_P","value":"10"},{"id":"VAR_S","name":"VAR_S","value":"11"}],"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"instance_methods":[{"html_id":"avg?-instance-method","name":"avg?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":336,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L336"},"def":{"name":"avg?","visibility":"Public","body":"self == AVG"}},{"html_id":"count?-instance-method","name":"count?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":341,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L341"},"def":{"name":"count?","visibility":"Public","body":"self == COUNT"}},{"html_id":"first?-instance-method","name":"first?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":342,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L342"},"def":{"name":"first?","visibility":"Public","body":"self == FIRST"}},{"html_id":"last?-instance-method","name":"last?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":343,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L343"},"def":{"name":"last?","visibility":"Public","body":"self == LAST"}},{"html_id":"max?-instance-method","name":"max?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":339,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L339"},"def":{"name":"max?","visibility":"Public","body":"self == MAX"}},{"html_id":"min?-instance-method","name":"min?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":338,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L338"},"def":{"name":"min?","visibility":"Public","body":"self == MIN"}},{"html_id":"range?-instance-method","name":"range?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":340,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L340"},"def":{"name":"range?","visibility":"Public","body":"self == RANGE"}},{"html_id":"std_p?-instance-method","name":"std_p?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":344,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L344"},"def":{"name":"std_p?","visibility":"Public","body":"self == STD_P"}},{"html_id":"std_s?-instance-method","name":"std_s?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":345,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L345"},"def":{"name":"std_s?","visibility":"Public","body":"self == STD_S"}},{"html_id":"sum?-instance-method","name":"sum?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":337,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L337"},"def":{"name":"sum?","visibility":"Public","body":"self == SUM"}},{"html_id":"var_p?-instance-method","name":"var_p?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":346,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L346"},"def":{"name":"var_p?","visibility":"Public","body":"self == VAR_P"}},{"html_id":"var_s?-instance-method","name":"var_s?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":347,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L347"},"def":{"name":"var_s?","visibility":"Public","body":"self == VAR_S"}}]},{"html_id":"redis/Redis/TimeSeries/BucketTimestamp","path":"Redis/TimeSeries/BucketTimestamp.html","kind":"enum","full_name":"Redis::TimeSeries::BucketTimestamp","name":"BucketTimestamp","abstract":false,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":350,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L350"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"HIGH","name":"HIGH","value":"0"},{"id":"MID","name":"MID","value":"1"},{"id":"LOW","name":"LOW","value":"2"}],"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"instance_methods":[{"html_id":"high?-instance-method","name":"high?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":351,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L351"},"def":{"name":"high?","visibility":"Public","body":"self == HIGH"}},{"html_id":"low?-instance-method","name":"low?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":353,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L353"},"def":{"name":"low?","visibility":"Public","body":"self == LOW"}},{"html_id":"mid?-instance-method","name":"mid?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":352,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L352"},"def":{"name":"mid?","visibility":"Public","body":"self == MID"}}]},{"html_id":"redis/Redis/TimeSeries/Datapoint","path":"Redis/TimeSeries/Datapoint.html","kind":"struct","full_name":"Redis::TimeSeries::Datapoint","name":"Datapoint","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":250,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L250"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"constructors":[{"html_id":"new(timestamp:Time,value:Float64)-class-method","name":"new","abstract":false,"args":[{"name":"timestamp","external_name":"timestamp","restriction":"Time"},{"name":"value","external_name":"value","restriction":"Float64"}],"args_string":"(timestamp : Time, value : Float64)","args_html":"(timestamp : Time, value : Float64)","location":{"filename":"src/time_series.cr","line_number":250,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L250"},"def":{"name":"new","args":[{"name":"timestamp","external_name":"timestamp","restriction":"Time"},{"name":"value","external_name":"value","restriction":"Float64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(timestamp, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/time_series.cr","line_number":250,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L250"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@timestamp.clone, @value.clone)"}},{"html_id":"copy_with(timestamp_timestamp=@timestamp,value_value=@value)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_timestamp","default_value":"@timestamp","external_name":"timestamp","restriction":""},{"name":"_value","default_value":"@value","external_name":"value","restriction":""}],"args_string":"(timestamp _timestamp = @timestamp, value _value = @value)","args_html":"(timestamp _timestamp = @timestamp, value _value = @value)","location":{"filename":"src/time_series.cr","line_number":250,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L250"},"def":{"name":"copy_with","args":[{"name":"_timestamp","default_value":"@timestamp","external_name":"timestamp","restriction":""},{"name":"_value","default_value":"@value","external_name":"value","restriction":""}],"visibility":"Public","body":"self.class.new(_timestamp, _value)"}},{"html_id":"timestamp:Time-instance-method","name":"timestamp","abstract":false,"def":{"name":"timestamp","return_type":"Time","visibility":"Public","body":"@timestamp"}},{"html_id":"value:Float64-instance-method","name":"value","abstract":false,"def":{"name":"value","return_type":"Float64","visibility":"Public","body":"@value"}}]},{"html_id":"redis/Redis/TimeSeries/Datapoints","path":"Redis/TimeSeries/Datapoints.html","kind":"struct","full_name":"Redis::TimeSeries::Datapoints","name":"Datapoints","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":253,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L253"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"redis/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"constructors":[{"html_id":"new(labels:Labels,datapoints:Array(Datapoint))-class-method","name":"new","abstract":false,"args":[{"name":"labels","external_name":"labels","restriction":"Labels"},{"name":"datapoints","external_name":"datapoints","restriction":"Array(Datapoint)"}],"args_string":"(labels : Labels, datapoints : Array(Datapoint))","args_html":"(labels : <a href=\"../../Redis/TimeSeries/Labels.html\">Labels</a>, datapoints : Array(<a href=\"../../Redis/TimeSeries/Datapoint.html\">Datapoint</a>))","location":{"filename":"src/time_series.cr","line_number":253,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L253"},"def":{"name":"new","args":[{"name":"labels","external_name":"labels","restriction":"Labels"},{"name":"datapoints","external_name":"datapoints","restriction":"Array(Datapoint)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(labels, datapoints)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"<<(datapoint:Datapoint)-instance-method","name":"<<","abstract":false,"args":[{"name":"datapoint","external_name":"datapoint","restriction":"Datapoint"}],"args_string":"(datapoint : Datapoint)","args_html":"(datapoint : <a href=\"../../Redis/TimeSeries/Datapoint.html\">Datapoint</a>)","location":{"filename":"src/time_series.cr","line_number":260,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L260"},"def":{"name":"<<","args":[{"name":"datapoint","external_name":"datapoint","restriction":"Datapoint"}],"visibility":"Public","body":"datapoints << datapoint"}},{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/time_series.cr","line_number":253,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L253"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@labels.clone, @datapoints.clone)"}},{"html_id":"copy_with(labels_labels=@labels,datapoints_datapoints=@datapoints)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_labels","default_value":"@labels","external_name":"labels","restriction":""},{"name":"_datapoints","default_value":"@datapoints","external_name":"datapoints","restriction":""}],"args_string":"(labels _labels = @labels, datapoints _datapoints = @datapoints)","args_html":"(labels _labels = @labels, datapoints _datapoints = @datapoints)","location":{"filename":"src/time_series.cr","line_number":253,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L253"},"def":{"name":"copy_with","args":[{"name":"_labels","default_value":"@labels","external_name":"labels","restriction":""},{"name":"_datapoints","default_value":"@datapoints","external_name":"datapoints","restriction":""}],"visibility":"Public","body":"self.class.new(_labels, _datapoints)"}},{"html_id":"datapoints:Array(Datapoint)-instance-method","name":"datapoints","abstract":false,"def":{"name":"datapoints","return_type":"Array(Datapoint)","visibility":"Public","body":"@datapoints"}},{"html_id":"each(&)-instance-method","name":"each","doc":"Must yield this collection's elements to the block.","summary":"<p>Must yield this collection's elements to the block.</p>","abstract":false,"location":{"filename":"src/time_series.cr","line_number":255,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L255"},"def":{"name":"each","yields":1,"visibility":"Public","body":"datapoints.each do |datapoint|\n  yield datapoint\nend"}},{"html_id":"labels:Labels-instance-method","name":"labels","abstract":false,"def":{"name":"labels","return_type":"Labels","visibility":"Public","body":"@labels"}}]},{"html_id":"redis/Redis/TimeSeries/DuplicatePolicy","path":"Redis/TimeSeries/DuplicatePolicy.html","kind":"enum","full_name":"Redis::TimeSeries::DuplicatePolicy","name":"DuplicatePolicy","abstract":false,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":361,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L361"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"BLOCK","name":"BLOCK","value":"0","doc":"An error will occur for any out-of-order sample","summary":"<p>An error will occur for any out-of-order sample</p>"},{"id":"FIRST","name":"FIRST","value":"1","doc":"Ignore the new value","summary":"<p>Ignore the new value</p>"},{"id":"LAST","name":"LAST","value":"2","doc":"Override with the latest value","summary":"<p>Override with the latest value</p>"},{"id":"MIN","name":"MIN","value":"3","doc":"Only override if the new value is lower than the existing value","summary":"<p>Only override if the new value is lower than the existing value</p>"},{"id":"MAX","name":"MAX","value":"4","doc":"Only override if the new value is higher than the existing value","summary":"<p>Only override if the new value is higher than the existing value</p>"},{"id":"SUM","name":"SUM","value":"5","doc":"If a previous sample exists, add the new sample to it so that the\nupdated value is equal to `previous + new`. If no previous sample\nexists, set the updated value equal to the new value.","summary":"<p>If a previous sample exists, add the new sample to it so that the updated value is equal to <code>previous + new</code>.</p>"}],"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"instance_methods":[{"html_id":"block?-instance-method","name":"block?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":363,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L363"},"def":{"name":"block?","visibility":"Public","body":"self == BLOCK"}},{"html_id":"first?-instance-method","name":"first?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":366,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L366"},"def":{"name":"first?","visibility":"Public","body":"self == FIRST"}},{"html_id":"last?-instance-method","name":"last?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":369,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L369"},"def":{"name":"last?","visibility":"Public","body":"self == LAST"}},{"html_id":"max?-instance-method","name":"max?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":375,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L375"},"def":{"name":"max?","visibility":"Public","body":"self == MAX"}},{"html_id":"min?-instance-method","name":"min?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":372,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L372"},"def":{"name":"min?","visibility":"Public","body":"self == MIN"}},{"html_id":"sum?-instance-method","name":"sum?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":380,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L380"},"def":{"name":"sum?","visibility":"Public","body":"self == SUM"}}]},{"html_id":"redis/Redis/TimeSeries/Encoding","path":"Redis/TimeSeries/Encoding.html","kind":"enum","full_name":"Redis::TimeSeries::Encoding","name":"Encoding","abstract":false,"ancestors":[{"html_id":"redis/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"redis/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":356,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L356"}],"repository_name":"redis","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"COMPRESSED","name":"COMPRESSED","value":"0"},{"id":"UNCOMPRESSED","name":"UNCOMPRESSED","value":"1"}],"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"instance_methods":[{"html_id":"compressed?-instance-method","name":"compressed?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":357,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L357"},"def":{"name":"compressed?","visibility":"Public","body":"self == COMPRESSED"}},{"html_id":"uncompressed?-instance-method","name":"uncompressed?","abstract":false,"location":{"filename":"src/time_series.cr","line_number":358,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L358"},"def":{"name":"uncompressed?","visibility":"Public","body":"self == UNCOMPRESSED"}}]},{"html_id":"redis/Redis/TimeSeries/Labels","path":"Redis/TimeSeries/Labels.html","kind":"alias","full_name":"Redis::TimeSeries::Labels","name":"Labels","abstract":false,"locations":[{"filename":"src/time_series.cr","line_number":249,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L249"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"Hash(String, String)","aliased_html":"Hash(String, String)","const":false,"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"}},{"html_id":"redis/Redis/TimeSeries/MRangeResponse","path":"Redis/TimeSeries/MRangeResponse.html","kind":"struct","full_name":"Redis::TimeSeries::MRangeResponse","name":"MRangeResponse","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":265,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L265"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"redis/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"constructors":[{"html_id":"new(response)-class-method","name":"new","abstract":false,"args":[{"name":"response","external_name":"response","restriction":""}],"args_string":"(response)","args_html":"(response)","location":{"filename":"src/time_series.cr","line_number":272,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L272"},"def":{"name":"new","args":[{"name":"response","external_name":"response","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(response)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"[](key:String)-instance-method","name":"[]","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/time_series.cr","line_number":306,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L306"},"def":{"name":"[]","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"@data[key]"}},{"html_id":"[]?(key:String)-instance-method","name":"[]?","abstract":false,"args":[{"name":"key","external_name":"key","restriction":"String"}],"args_string":"(key : String)","args_html":"(key : String)","location":{"filename":"src/time_series.cr","line_number":310,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L310"},"def":{"name":"[]?","args":[{"name":"key","external_name":"key","restriction":"String"}],"visibility":"Public","body":"@data[key]?"}},{"html_id":"data:DatapointMap-instance-method","name":"data","abstract":false,"location":{"filename":"src/time_series.cr","line_number":270,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L270"},"def":{"name":"data","return_type":"DatapointMap","visibility":"Public","body":"@data"}},{"html_id":"each(&)-instance-method","name":"each","doc":"Must yield this collection's elements to the block.","summary":"<p>Must yield this collection's elements to the block.</p>","abstract":false,"location":{"filename":"src/time_series.cr","line_number":302,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L302"},"def":{"name":"each","yields":1,"visibility":"Public","body":"data.each do |i|\n  yield i\nend"}}],"types":[{"html_id":"redis/Redis/TimeSeries/MRangeResponse/DatapointMap","path":"Redis/TimeSeries/MRangeResponse/DatapointMap.html","kind":"alias","full_name":"Redis::TimeSeries::MRangeResponse::DatapointMap","name":"DatapointMap","abstract":false,"locations":[{"filename":"src/time_series.cr","line_number":268,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L268"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"Hash(String, Redis::TimeSeries::Datapoints)","aliased_html":"Hash(String, <a href=\"../../../Redis/TimeSeries/Datapoints.html\">Redis::TimeSeries::Datapoints</a>)","const":false,"namespace":{"html_id":"redis/Redis/TimeSeries/MRangeResponse","kind":"struct","full_name":"Redis::TimeSeries::MRangeResponse","name":"MRangeResponse"}}]},{"html_id":"redis/Redis/TimeSeries/Range","path":"Redis/TimeSeries/Range.html","kind":"struct","full_name":"Redis::TimeSeries::Range","name":"Range","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":315,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L315"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"constructors":[{"html_id":"new(raw_data:Array)-class-method","name":"new","abstract":false,"args":[{"name":"raw_data","external_name":"raw_data","restriction":"Array"}],"args_string":"(raw_data : Array)","args_html":"(raw_data : Array)","location":{"filename":"src/time_series.cr","line_number":316,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L316"},"def":{"name":"new","args":[{"name":"raw_data","external_name":"raw_data","restriction":"Array"}],"visibility":"Public","body":"_ = allocate\n_.initialize(raw_data)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]},{"html_id":"redis/Redis/TimeSeries/RangeOptions","path":"Redis/TimeSeries/RangeOptions.html","kind":"class","full_name":"Redis::TimeSeries::RangeOptions","name":"RangeOptions","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":325,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L325"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/TimeSeries","kind":"struct","full_name":"Redis::TimeSeries(Runnable)","name":"TimeSeries"},"instance_methods":[{"html_id":"aggregation(type:AggregationType,bucket:Time::Span)-instance-method","name":"aggregation","abstract":false,"args":[{"name":"type","external_name":"type","restriction":"AggregationType"},{"name":"bucket","external_name":"bucket","restriction":"Time::Span"}],"args_string":"(type : AggregationType, bucket : Time::Span)","args_html":"(type : <a href=\"../../Redis/TimeSeries/AggregationType.html\">AggregationType</a>, bucket : Time::Span)","location":{"filename":"src/time_series.cr","line_number":328,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L328"},"def":{"name":"aggregation","args":[{"name":"type","external_name":"type","restriction":"AggregationType"},{"name":"bucket","external_name":"bucket","restriction":"Time::Span"}],"visibility":"Public","body":"@aggregation = Aggregation.new(type, bucket)"}},{"html_id":"aggregation:Aggregation?-instance-method","name":"aggregation","abstract":false,"location":{"filename":"src/time_series.cr","line_number":326,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L326"},"def":{"name":"aggregation","return_type":"Aggregation | ::Nil","visibility":"Public","body":"@aggregation"}}],"types":[{"html_id":"redis/Redis/TimeSeries/RangeOptions/Aggregation","path":"Redis/TimeSeries/RangeOptions/Aggregation.html","kind":"struct","full_name":"Redis::TimeSeries::RangeOptions::Aggregation","name":"Aggregation","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/time_series.cr","line_number":332,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L332"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"redis/Redis/TimeSeries/RangeOptions","kind":"class","full_name":"Redis::TimeSeries::RangeOptions","name":"RangeOptions"},"constructors":[{"html_id":"new(type:AggregationType,time_bucket:Time::Span)-class-method","name":"new","abstract":false,"args":[{"name":"type","external_name":"type","restriction":"AggregationType"},{"name":"time_bucket","external_name":"time_bucket","restriction":"Time::Span"}],"args_string":"(type : AggregationType, time_bucket : Time::Span)","args_html":"(type : <a href=\"../../../Redis/TimeSeries/AggregationType.html\">AggregationType</a>, time_bucket : Time::Span)","location":{"filename":"src/time_series.cr","line_number":332,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L332"},"def":{"name":"new","args":[{"name":"type","external_name":"type","restriction":"AggregationType"},{"name":"time_bucket","external_name":"time_bucket","restriction":"Time::Span"}],"visibility":"Public","body":"_ = allocate\n_.initialize(type, time_bucket)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/time_series.cr","line_number":332,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L332"},"def":{"name":"clone","visibility":"Public","body":"self.class.new(@type.clone, @time_bucket.clone)"}},{"html_id":"copy_with(type_type=@type,time_bucket_time_bucket=@time_bucket)-instance-method","name":"copy_with","abstract":false,"args":[{"name":"_type","default_value":"@type","external_name":"type","restriction":""},{"name":"_time_bucket","default_value":"@time_bucket","external_name":"time_bucket","restriction":""}],"args_string":"(type _type = @type, time_bucket _time_bucket = @time_bucket)","args_html":"(type _type = @type, time_bucket _time_bucket = @time_bucket)","location":{"filename":"src/time_series.cr","line_number":332,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/time_series.cr#L332"},"def":{"name":"copy_with","args":[{"name":"_type","default_value":"@type","external_name":"type","restriction":""},{"name":"_time_bucket","default_value":"@time_bucket","external_name":"time_bucket","restriction":""}],"visibility":"Public","body":"self.class.new(_type, _time_bucket)"}},{"html_id":"time_bucket:Time::Span-instance-method","name":"time_bucket","abstract":false,"def":{"name":"time_bucket","return_type":"Time::Span","visibility":"Public","body":"@time_bucket"}},{"html_id":"type:AggregationType-instance-method","name":"type","abstract":false,"def":{"name":"type","return_type":"AggregationType","visibility":"Public","body":"@type"}}]}]}]},{"html_id":"redis/Redis/Transaction","path":"Redis/Transaction.html","kind":"class","full_name":"Redis::Transaction","name":"Transaction","abstract":false,"superclass":{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"},{"html_id":"redis/Redis/Commands/Stream","kind":"module","full_name":"Redis::Commands::Stream","name":"Stream"},{"html_id":"redis/Redis/Commands/SortedSet","kind":"module","full_name":"Redis::Commands::SortedSet","name":"SortedSet"},{"html_id":"redis/Redis/Commands/Set","kind":"module","full_name":"Redis::Commands::Set","name":"Set"},{"html_id":"redis/Redis/Commands/List","kind":"module","full_name":"Redis::Commands::List","name":"List"},{"html_id":"redis/Redis/Commands/Hash","kind":"module","full_name":"Redis::Commands::Hash","name":"Hash"},{"html_id":"redis/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/transaction.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/transaction.cr#L5"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"redis/Redis/Commands","kind":"module","full_name":"Redis::Commands","name":"Commands"}],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"constructors":[{"html_id":"new(connection:Connection)-class-method","name":"new","abstract":false,"args":[{"name":"connection","external_name":"connection","restriction":"Connection"}],"args_string":"(connection : Connection)","args_html":"(connection : <a href=\"../Redis/Connection.html\">Connection</a>)","location":{"filename":"src/transaction.cr","line_number":10,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/transaction.cr#L10"},"def":{"name":"new","args":[{"name":"connection","external_name":"connection","restriction":"Connection"}],"visibility":"Public","body":"_ = allocate\n_.initialize(connection)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"discard:Nil-instance-method","name":"discard","abstract":false,"location":{"filename":"src/transaction.cr","line_number":14,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/transaction.cr#L14"},"def":{"name":"discard","return_type":"Nil","visibility":"Public","body":"@discarded = true\nfinish(\"discard\")\n"}},{"html_id":"discarded?:Bool?-instance-method","name":"discarded?","abstract":false,"location":{"filename":"src/transaction.cr","line_number":8,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/transaction.cr#L8"},"def":{"name":"discarded?","visibility":"Public","body":"@discarded"}},{"html_id":"exec-instance-method","name":"exec","abstract":false,"location":{"filename":"src/transaction.cr","line_number":25,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/transaction.cr#L25"},"def":{"name":"exec","visibility":"Public","body":"(finish(\"exec\")).as(Array)"}},{"html_id":"run(command):Nil-instance-method","name":"run","doc":"Execute the given command and return the result from the server. Commands\nmust be an `Enumerable` and its `size` method must be re-entrant.\n\n```\nrun({\"set\", \"foo\", \"bar\"})\n```","summary":"<p>Execute the given command and return the result from the server.</p>","abstract":false,"args":[{"name":"command","external_name":"command","restriction":""}],"args_string":"(command) : Nil","args_html":"(command) : Nil","location":{"filename":"src/transaction.cr","line_number":19,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/transaction.cr#L19"},"def":{"name":"run","args":[{"name":"command","external_name":"command","restriction":""}],"return_type":"Nil","visibility":"Public","body":"if discarded?\n  return\nend\n@connection.encode(command)\n@command_count = @command_count + 1\n"}},{"html_id":"start!-instance-method","name":"start!","abstract":false,"location":{"filename":"src/transaction.cr","line_number":29,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/transaction.cr#L29"},"def":{"name":"start!","visibility":"Public","body":"@connection.encode({\"multi\"})"}}]},{"html_id":"redis/Redis/Value","path":"Redis/Value.html","kind":"alias","full_name":"Redis::Value","name":"Value","abstract":false,"locations":[{"filename":"src/value.cr","line_number":4,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/value.cr#L4"}],"repository_name":"redis","program":false,"enum":false,"alias":true,"aliased":"(Array(Redis::Value) | Int64 | String | Nil)","aliased_html":"Array(<a href=\"../Redis/Value.html\">Redis::Value</a>) | Int64 | String | Nil","const":false,"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"doc":"Values consumed and emitted by Redis can be strings, 64-bit integers, `nil`,\nor an array of any of these types.","summary":"<p>Values consumed and emitted by Redis can be strings, 64-bit integers, <code>nil</code>, or an array of any of these types.</p>"},{"html_id":"redis/Redis/Writer","path":"Redis/Writer.html","kind":"struct","full_name":"Redis::Writer","name":"Writer","abstract":false,"superclass":{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"redis/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"redis/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"redis/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/writer.cr","line_number":2,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/writer.cr#L2"}],"repository_name":"redis","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"CRLF","name":"CRLF","value":"\"\\r\\n\""}],"namespace":{"html_id":"redis/Redis","kind":"module","full_name":"Redis","name":"Redis"},"constructors":[{"html_id":"new(io:IO)-class-method","name":"new","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/writer.cr","line_number":7,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/writer.cr#L7"},"def":{"name":"new","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"_ = allocate\n_.initialize(io)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"io:IO-instance-method","name":"io","abstract":false,"location":{"filename":"src/writer.cr","line_number":5,"url":"https://github.com/jgaskins/redis/blob/v0.5.3/src/writer.cr#L5"},"def":{"name":"io","visibility":"Public","body":"@io"}}]}]}]}})